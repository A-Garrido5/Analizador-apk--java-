// 
// Decompiled by Procyon v0.5.30
// 

package org.apache.cordova;

import android.view.View;
import android.widget.EditText;
import android.view.KeyEvent;
import android.content.DialogInterface$OnKeyListener;
import android.content.DialogInterface$OnCancelListener;
import android.content.DialogInterface;
import android.content.DialogInterface$OnClickListener;
import android.app.AlertDialog$Builder;
import android.app.AlertDialog;
import android.content.Context;

public class CordovaDialogsHelper
{
    private final Context context;
    private AlertDialog lastHandledDialog;
    
    public CordovaDialogsHelper(final Context context) {
        this.context = context;
    }
    
    public void destroyLastDialog() {
        if (this.lastHandledDialog != null) {
            this.lastHandledDialog.cancel();
        }
    }
    
    public void showAlert(final String message, final Result result) {
        final AlertDialog$Builder alertDialog$Builder = new AlertDialog$Builder(this.context);
        alertDialog$Builder.setMessage((CharSequence)message);
        alertDialog$Builder.setTitle((CharSequence)"Alert");
        alertDialog$Builder.setCancelable(true);
        alertDialog$Builder.setPositiveButton(17039370, (DialogInterface$OnClickListener)new DialogInterface$OnClickListener() {
            public void onClick(final DialogInterface dialogInterface, final int n) {
                result.gotResult(true, null);
            }
        });
        alertDialog$Builder.setOnCancelListener((DialogInterface$OnCancelListener)new DialogInterface$OnCancelListener() {
            public void onCancel(final DialogInterface dialogInterface) {
                result.gotResult(false, null);
            }
        });
        alertDialog$Builder.setOnKeyListener((DialogInterface$OnKeyListener)new DialogInterface$OnKeyListener() {
            public boolean onKey(final DialogInterface dialogInterface, final int n, final KeyEvent keyEvent) {
                boolean b = true;
                if (n == 4) {
                    result.gotResult(b, null);
                    b = false;
                }
                return b;
            }
        });
        this.lastHandledDialog = alertDialog$Builder.show();
    }
    
    public void showConfirm(final String message, final Result result) {
        final AlertDialog$Builder alertDialog$Builder = new AlertDialog$Builder(this.context);
        alertDialog$Builder.setMessage((CharSequence)message);
        alertDialog$Builder.setTitle((CharSequence)"Confirm");
        alertDialog$Builder.setCancelable(true);
        alertDialog$Builder.setPositiveButton(17039370, (DialogInterface$OnClickListener)new DialogInterface$OnClickListener() {
            public void onClick(final DialogInterface dialogInterface, final int n) {
                result.gotResult(true, null);
            }
        });
        alertDialog$Builder.setNegativeButton(17039360, (DialogInterface$OnClickListener)new DialogInterface$OnClickListener() {
            public void onClick(final DialogInterface dialogInterface, final int n) {
                result.gotResult(false, null);
            }
        });
        alertDialog$Builder.setOnCancelListener((DialogInterface$OnCancelListener)new DialogInterface$OnCancelListener() {
            public void onCancel(final DialogInterface dialogInterface) {
                result.gotResult(false, null);
            }
        });
        alertDialog$Builder.setOnKeyListener((DialogInterface$OnKeyListener)new DialogInterface$OnKeyListener() {
            public boolean onKey(final DialogInterface dialogInterface, final int n, final KeyEvent keyEvent) {
                if (n == 4) {
                    result.gotResult(false, null);
                    return false;
                }
                return true;
            }
        });
        this.lastHandledDialog = alertDialog$Builder.show();
    }
    
    public void showPrompt(final String message, final String text, final Result result) {
        final AlertDialog$Builder alertDialog$Builder = new AlertDialog$Builder(this.context);
        alertDialog$Builder.setMessage((CharSequence)message);
        final EditText view = new EditText(this.context);
        if (text != null) {
            view.setText((CharSequence)text);
        }
        alertDialog$Builder.setView((View)view);
        alertDialog$Builder.setCancelable(false);
        alertDialog$Builder.setPositiveButton(17039370, (DialogInterface$OnClickListener)new DialogInterface$OnClickListener() {
            public void onClick(final DialogInterface dialogInterface, final int n) {
                result.gotResult(true, view.getText().toString());
            }
        });
        alertDialog$Builder.setNegativeButton(17039360, (DialogInterface$OnClickListener)new DialogInterface$OnClickListener() {
            public void onClick(final DialogInterface dialogInterface, final int n) {
                result.gotResult(false, null);
            }
        });
        this.lastHandledDialog = alertDialog$Builder.show();
    }
    
    public interface Result
    {
        void gotResult(final boolean p0, final String p1);
    }
}
