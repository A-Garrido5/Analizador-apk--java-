// 
// Decompiled by Procyon v0.5.30
// 

package org.apache.cordova.vibration;

import org.json.JSONException;
import org.apache.cordova.CallbackContext;
import org.json.JSONArray;
import android.os.Vibrator;
import org.apache.cordova.CordovaPlugin;

public class Vibration extends CordovaPlugin
{
    public void cancelVibration() {
        ((Vibrator)this.cordova.getActivity().getSystemService("vibrator")).cancel();
    }
    
    @Override
    public boolean execute(final String s, final JSONArray jsonArray, final CallbackContext callbackContext) throws JSONException {
        if (s.equals("vibrate")) {
            this.vibrate(jsonArray.getLong(0));
        }
        else if (s.equals("vibrateWithPattern")) {
            final JSONArray jsonArray2 = jsonArray.getJSONArray(0);
            final int int1 = jsonArray.getInt(1);
            final long[] array = new long[1 + jsonArray2.length()];
            array[0] = 0L;
            for (int i = 0; i < jsonArray2.length(); ++i) {
                array[1 + i] = jsonArray2.getLong(i);
            }
            this.vibrateWithPattern(array, int1);
        }
        else {
            if (!s.equals("cancelVibration")) {
                return false;
            }
            this.cancelVibration();
        }
        callbackContext.success();
        return true;
    }
    
    public void vibrate(final long n) {
        long n2 = n;
        if (n2 == 0L) {
            n2 = 500L;
        }
        ((Vibrator)this.cordova.getActivity().getSystemService("vibrator")).vibrate(n2);
    }
    
    public void vibrateWithPattern(final long[] array, final int n) {
        ((Vibrator)this.cordova.getActivity().getSystemService("vibrator")).vibrate(array, n);
    }
}
