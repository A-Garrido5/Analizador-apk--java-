import java.util.List;
import android.bluetooth.BluetoothDevice;
import java.lang.reflect.Method;
import android.bluetooth.BluetoothAdapter;
import android.content.Context;

// 
// Decompiled by Procyon v0.5.30
// 

public final class fc
{
    public static String a;
    public static String b;
    public static int c;
    private static final be d;
    private Context e;
    private boolean f;
    private fa g;
    private boolean h;
    private boolean i;
    private Object j;
    private final fd k;
    private Object l;
    
    static {
        d = dh.a(ez.class);
    }
    
    public fc(final Context p0) {
        // 
        // This method could not be decompiled.
        // 
        // Original Bytecode:
        // 
        //     0: aload_0        
        //     1: invokespecial   java/lang/Object.<init>:()V
        //     4: aload_0        
        //     5: aconst_null    
        //     6: putfield        fc.g:Lfa;
        //     9: aload_0        
        //    10: iconst_0       
        //    11: putfield        fc.h:Z
        //    14: aload_0        
        //    15: iconst_0       
        //    16: putfield        fc.i:Z
        //    19: aload_0        
        //    20: aconst_null    
        //    21: putfield        fc.j:Ljava/lang/Object;
        //    24: aload_0        
        //    25: new             Ljava/lang/Object;
        //    28: dup            
        //    29: invokespecial   java/lang/Object.<init>:()V
        //    32: putfield        fc.l:Ljava/lang/Object;
        //    35: aload_0        
        //    36: aload_1        
        //    37: putfield        fc.e:Landroid/content/Context;
        //    40: aload_0        
        //    41: new             Lfd;
        //    44: dup            
        //    45: invokespecial   fd.<init>:()V
        //    48: putfield        fc.k:Lfd;
        //    51: getstatic       ex.a:I
        //    54: bipush          10
        //    56: if_icmpgt       259
        //    59: aload_0        
        //    60: iconst_1       
        //    61: putfield        fc.f:Z
        //    64: getstatic       fa.a:Ljava/lang/String;
        //    67: putstatic       fc.a:Ljava/lang/String;
        //    70: getstatic       fa.b:Ljava/lang/String;
        //    73: putstatic       fc.b:Ljava/lang/String;
        //    76: getstatic       fa.c:I
        //    79: putstatic       fc.c:I
        //    82: new             Lfb;
        //    85: dup            
        //    86: aload_0        
        //    87: invokespecial   fb.<init>:(Lfc;)V
        //    90: astore          32
        //    92: aload_0        
        //    93: getfield        fc.l:Ljava/lang/Object;
        //    96: astore          33
        //    98: aload           33
        //   100: monitorenter   
        //   101: invokestatic    java/lang/System.currentTimeMillis:()J
        //   104: lstore          35
        //   106: aload_0        
        //   107: new             Lfa;
        //   110: dup            
        //   111: aload_0        
        //   112: getfield        fc.e:Landroid/content/Context;
        //   115: aload           32
        //   117: invokespecial   fa.<init>:(Landroid/content/Context;Lfb;)V
        //   120: putfield        fc.g:Lfa;
        //   123: aload_0        
        //   124: getfield        fc.l:Ljava/lang/Object;
        //   127: ldc2_w          1000
        //   130: invokevirtual   java/lang/Object.wait:(J)V
        //   133: aload_0        
        //   134: getfield        fc.i:Z
        //   137: ifne            215
        //   140: getstatic       fc.d:Lbe;
        //   143: invokevirtual   be.e:()Z
        //   146: ifeq            157
        //   149: getstatic       fc.d:Lbe;
        //   152: ldc             "BluetoothHeadsetOEM reflected service NOT connected in time. Gave up!!!"
        //   154: invokevirtual   be.e:(Ljava/lang/Object;)V
        //   157: aload_0        
        //   158: iconst_1       
        //   159: putfield        fc.h:Z
        //   162: aload_0        
        //   163: invokespecial   fc.f:()V
        //   166: aload           33
        //   168: monitorexit    
        //   169: return         
        //   170: astore          37
        //   172: getstatic       fc.d:Lbe;
        //   175: invokevirtual   be.e:()Z
        //   178: ifeq            133
        //   181: getstatic       fc.d:Lbe;
        //   184: new             Ljava/lang/StringBuilder;
        //   187: dup            
        //   188: ldc             "BluetoothHeadsetOEM reflected mHeadsetSyncObj.wait() threw exception:"
        //   190: invokespecial   java/lang/StringBuilder.<init>:(Ljava/lang/String;)V
        //   193: aload           37
        //   195: invokevirtual   java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
        //   198: invokevirtual   java/lang/StringBuilder.toString:()Ljava/lang/String;
        //   201: invokevirtual   be.e:(Ljava/lang/Object;)V
        //   204: goto            133
        //   207: astore          34
        //   209: aload           33
        //   211: monitorexit    
        //   212: aload           34
        //   214: athrow         
        //   215: getstatic       fc.d:Lbe;
        //   218: invokevirtual   be.c:()Z
        //   221: ifeq            166
        //   224: getstatic       fc.d:Lbe;
        //   227: new             Ljava/lang/StringBuilder;
        //   230: dup            
        //   231: ldc             "BluetoothHeadsetOEM reflected service connection took "
        //   233: invokespecial   java/lang/StringBuilder.<init>:(Ljava/lang/String;)V
        //   236: invokestatic    java/lang/System.currentTimeMillis:()J
        //   239: lload           35
        //   241: lsub           
        //   242: invokevirtual   java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
        //   245: ldc             "ms"
        //   247: invokevirtual   java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
        //   250: invokevirtual   java/lang/StringBuilder.toString:()Ljava/lang/String;
        //   253: invokevirtual   be.c:(Ljava/lang/Object;)V
        //   256: goto            166
        //   259: aload_0        
        //   260: iconst_0       
        //   261: putfield        fc.f:Z
        //   264: aload_0        
        //   265: getfield        fc.k:Lfd;
        //   268: pop            
        //   269: ldc             "android.bluetooth.BluetoothHeadset"
        //   271: invokestatic    fd.a:(Ljava/lang/String;)Ljava/lang/Class;
        //   274: astore_3       
        //   275: aload_0        
        //   276: getfield        fc.k:Lfd;
        //   279: pop            
        //   280: aload_3        
        //   281: ldc             "ACTION_AUDIO_STATE_CHANGED"
        //   283: invokestatic    fd.a:(Ljava/lang/Class;Ljava/lang/String;)Ljava/lang/Object;
        //   286: checkcast       Ljava/lang/String;
        //   289: putstatic       fc.a:Ljava/lang/String;
        //   292: aload_0        
        //   293: getfield        fc.k:Lfd;
        //   296: pop            
        //   297: aload_3        
        //   298: ldc             "EXTRA_STATE"
        //   300: invokestatic    fd.a:(Ljava/lang/Class;Ljava/lang/String;)Ljava/lang/Object;
        //   303: checkcast       Ljava/lang/String;
        //   306: putstatic       fc.b:Ljava/lang/String;
        //   309: aload_0        
        //   310: getfield        fc.k:Lfd;
        //   313: pop            
        //   314: aload_3        
        //   315: ldc             "STATE_AUDIO_CONNECTED"
        //   317: invokestatic    fd.a:(Ljava/lang/Class;Ljava/lang/String;)Ljava/lang/Object;
        //   320: checkcast       Ljava/lang/Integer;
        //   323: invokevirtual   java/lang/Integer.intValue:()I
        //   326: putstatic       fc.c:I
        //   329: getstatic       ex.a:I
        //   332: bipush          11
        //   334: if_icmpeq       353
        //   337: getstatic       ex.a:I
        //   340: bipush          12
        //   342: if_icmpeq       353
        //   345: getstatic       ex.a:I
        //   348: bipush          13
        //   350: if_icmpne       537
        //   353: iconst_2       
        //   354: anewarray       Ljava/lang/Object;
        //   357: astore          7
        //   359: new             Ljava/lang/Thread;
        //   362: dup            
        //   363: new             Lfc$1;
        //   366: dup            
        //   367: aload           7
        //   369: invokespecial   fc$1.<init>:([Ljava/lang/Object;)V
        //   372: invokespecial   java/lang/Thread.<init>:(Ljava/lang/Runnable;)V
        //   375: invokevirtual   java/lang/Thread.start:()V
        //   378: aload           7
        //   380: iconst_0       
        //   381: aaload         
        //   382: ifnonnull       399
        //   385: ldc2_w          10
        //   388: invokestatic    java/lang/Thread.sleep:(J)V
        //   391: goto            378
        //   394: astore          31
        //   396: goto            378
        //   399: aload           7
        //   401: iconst_1       
        //   402: aaload         
        //   403: checkcast       Landroid/bluetooth/BluetoothAdapter;
        //   406: astore          8
        //   408: aload_0        
        //   409: getfield        fc.k:Lfd;
        //   412: pop            
        //   413: ldc             "android.bluetooth.BluetoothProfile$ServiceListener"
        //   415: invokestatic    fd.a:(Ljava/lang/String;)Ljava/lang/Class;
        //   418: astore          10
        //   420: aload_0        
        //   421: invokevirtual   java/lang/Object.getClass:()Ljava/lang/Class;
        //   424: invokevirtual   java/lang/Class.getClassLoader:()Ljava/lang/ClassLoader;
        //   427: iconst_1       
        //   428: anewarray       Ljava/lang/Class;
        //   431: dup            
        //   432: iconst_0       
        //   433: aload           10
        //   435: aastore        
        //   436: new             Lfc$2;
        //   439: dup            
        //   440: aload_0        
        //   441: invokespecial   fc$2.<init>:(Lfc;)V
        //   444: invokestatic    java/lang/reflect/Proxy.newProxyInstance:(Ljava/lang/ClassLoader;[Ljava/lang/Class;Ljava/lang/reflect/InvocationHandler;)Ljava/lang/Object;
        //   447: astore          11
        //   449: aload_0        
        //   450: getfield        fc.l:Ljava/lang/Object;
        //   453: astore          12
        //   455: aload           12
        //   457: monitorenter   
        //   458: invokestatic    java/lang/System.currentTimeMillis:()J
        //   461: lstore          14
        //   463: aload_0        
        //   464: getfield        fc.k:Lfd;
        //   467: pop            
        //   468: ldc             "android.bluetooth.BluetoothProfile"
        //   470: invokestatic    fd.a:(Ljava/lang/String;)Ljava/lang/Class;
        //   473: astore          17
        //   475: aload_0        
        //   476: getfield        fc.k:Lfd;
        //   479: pop            
        //   480: ldc             "android.bluetooth.BluetoothAdapter"
        //   482: invokestatic    fd.a:(Ljava/lang/String;)Ljava/lang/Class;
        //   485: astore          19
        //   487: aload_0        
        //   488: getfield        fc.k:Lfd;
        //   491: pop            
        //   492: aload           19
        //   494: ldc             "isEnabled"
        //   496: iconst_0       
        //   497: anewarray       Ljava/lang/Class;
        //   500: invokestatic    fd.a:(Ljava/lang/Class;Ljava/lang/String;[Ljava/lang/Class;)Ljava/lang/reflect/Method;
        //   503: aload           8
        //   505: iconst_0       
        //   506: anewarray       Ljava/lang/Object;
        //   509: invokevirtual   java/lang/reflect/Method.invoke:(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
        //   512: checkcast       Ljava/lang/Boolean;
        //   515: invokevirtual   java/lang/Boolean.booleanValue:()Z
        //   518: istore          30
        //   520: iload           30
        //   522: ifne            552
        //   525: aload           12
        //   527: monitorexit    
        //   528: return         
        //   529: astore          13
        //   531: aload           12
        //   533: monitorexit    
        //   534: aload           13
        //   536: athrow         
        //   537: invokestatic    android/bluetooth/BluetoothAdapter.getDefaultAdapter:()Landroid/bluetooth/BluetoothAdapter;
        //   540: astore          8
        //   542: goto            408
        //   545: astore          20
        //   547: aload           20
        //   549: invokevirtual   java/lang/Exception.printStackTrace:()V
        //   552: aload_0        
        //   553: getfield        fc.k:Lfd;
        //   556: pop            
        //   557: iconst_3       
        //   558: anewarray       Ljava/lang/Class;
        //   561: astore          22
        //   563: aload           22
        //   565: iconst_0       
        //   566: ldc             Landroid/content/Context;.class
        //   568: aastore        
        //   569: aload           22
        //   571: iconst_1       
        //   572: aload           10
        //   574: aastore        
        //   575: aload           22
        //   577: iconst_2       
        //   578: getstatic       java/lang/Integer.TYPE:Ljava/lang/Class;
        //   581: aastore        
        //   582: aload           19
        //   584: ldc             "getProfileProxy"
        //   586: aload           22
        //   588: invokestatic    fd.a:(Ljava/lang/Class;Ljava/lang/String;[Ljava/lang/Class;)Ljava/lang/reflect/Method;
        //   591: astore          23
        //   593: iconst_3       
        //   594: anewarray       Ljava/lang/Object;
        //   597: astore          26
        //   599: aload           26
        //   601: iconst_0       
        //   602: aload_1        
        //   603: aastore        
        //   604: aload           26
        //   606: iconst_1       
        //   607: aload           11
        //   609: aastore        
        //   610: aload_0        
        //   611: getfield        fc.k:Lfd;
        //   614: pop            
        //   615: aload           26
        //   617: iconst_2       
        //   618: aload           17
        //   620: ldc             "HEADSET"
        //   622: invokestatic    fd.a:(Ljava/lang/Class;Ljava/lang/String;)Ljava/lang/Object;
        //   625: aastore        
        //   626: aload           23
        //   628: aload           8
        //   630: aload           26
        //   632: invokevirtual   java/lang/reflect/Method.invoke:(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
        //   635: pop            
        //   636: aload_0        
        //   637: getfield        fc.l:Ljava/lang/Object;
        //   640: ldc2_w          1000
        //   643: invokevirtual   java/lang/Object.wait:(J)V
        //   646: aload_0        
        //   647: getfield        fc.i:Z
        //   650: ifne            726
        //   653: getstatic       fc.d:Lbe;
        //   656: invokevirtual   be.e:()Z
        //   659: ifeq            670
        //   662: getstatic       fc.d:Lbe;
        //   665: ldc             "BluetoothHeadsetOEM native service NOT connected in time. Gave up!!!"
        //   667: invokevirtual   be.e:(Ljava/lang/Object;)V
        //   670: aload_0        
        //   671: iconst_1       
        //   672: putfield        fc.h:Z
        //   675: aload           12
        //   677: monitorexit    
        //   678: return         
        //   679: astore          24
        //   681: aload           24
        //   683: invokevirtual   java/lang/Exception.printStackTrace:()V
        //   686: goto            636
        //   689: astore          25
        //   691: getstatic       fc.d:Lbe;
        //   694: invokevirtual   be.e:()Z
        //   697: ifeq            646
        //   700: getstatic       fc.d:Lbe;
        //   703: new             Ljava/lang/StringBuilder;
        //   706: dup            
        //   707: ldc             "BluetoothHeadsetOEM native mHeadsetSyncObj.wait() threw exception:"
        //   709: invokespecial   java/lang/StringBuilder.<init>:(Ljava/lang/String;)V
        //   712: aload           25
        //   714: invokevirtual   java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
        //   717: invokevirtual   java/lang/StringBuilder.toString:()Ljava/lang/String;
        //   720: invokevirtual   be.e:(Ljava/lang/Object;)V
        //   723: goto            646
        //   726: getstatic       fc.d:Lbe;
        //   729: invokevirtual   be.c:()Z
        //   732: ifeq            675
        //   735: getstatic       fc.d:Lbe;
        //   738: new             Ljava/lang/StringBuilder;
        //   741: dup            
        //   742: ldc             "BluetoothHeadsetOEM native service connection took "
        //   744: invokespecial   java/lang/StringBuilder.<init>:(Ljava/lang/String;)V
        //   747: invokestatic    java/lang/System.currentTimeMillis:()J
        //   750: lload           14
        //   752: lsub           
        //   753: invokevirtual   java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
        //   756: ldc             "ms"
        //   758: invokevirtual   java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
        //   761: invokevirtual   java/lang/StringBuilder.toString:()Ljava/lang/String;
        //   764: invokevirtual   be.c:(Ljava/lang/Object;)V
        //   767: goto            675
        //    Exceptions:
        //  Try           Handler
        //  Start  End    Start  End    Type                            
        //  -----  -----  -----  -----  --------------------------------
        //  101    123    207    215    Any
        //  123    133    170    207    Ljava/lang/InterruptedException;
        //  123    133    207    215    Any
        //  133    157    207    215    Any
        //  157    166    207    215    Any
        //  166    169    207    215    Any
        //  172    204    207    215    Any
        //  215    256    207    215    Any
        //  385    391    394    399    Ljava/lang/Exception;
        //  458    487    529    537    Any
        //  487    520    545    552    Ljava/lang/Exception;
        //  487    520    529    537    Any
        //  525    528    529    537    Any
        //  547    552    529    537    Any
        //  552    593    529    537    Any
        //  593    636    679    689    Ljava/lang/Exception;
        //  593    636    529    537    Any
        //  636    646    689    726    Ljava/lang/InterruptedException;
        //  636    646    529    537    Any
        //  646    670    529    537    Any
        //  670    675    529    537    Any
        //  675    678    529    537    Any
        //  681    686    529    537    Any
        //  691    723    529    537    Any
        //  726    767    529    537    Any
        // 
        // The error that occurred was:
        // 
        // java.lang.IllegalStateException: Expression is linked from several locations: Label_0636:
        //     at com.strobel.decompiler.ast.Error.expressionLinkedFromMultipleLocations(Error.java:27)
        //     at com.strobel.decompiler.ast.AstOptimizer.mergeDisparateObjectInitializations(AstOptimizer.java:2592)
        //     at com.strobel.decompiler.ast.AstOptimizer.optimize(AstOptimizer.java:235)
        //     at com.strobel.decompiler.ast.AstOptimizer.optimize(AstOptimizer.java:42)
        //     at com.strobel.decompiler.languages.java.ast.AstMethodBodyBuilder.createMethodBody(AstMethodBodyBuilder.java:214)
        //     at com.strobel.decompiler.languages.java.ast.AstMethodBodyBuilder.createMethodBody(AstMethodBodyBuilder.java:99)
        //     at com.strobel.decompiler.languages.java.ast.AstBuilder.createMethodBody(AstBuilder.java:757)
        //     at com.strobel.decompiler.languages.java.ast.AstBuilder.createConstructor(AstBuilder.java:692)
        //     at com.strobel.decompiler.languages.java.ast.AstBuilder.addTypeMembers(AstBuilder.java:529)
        //     at com.strobel.decompiler.languages.java.ast.AstBuilder.createTypeCore(AstBuilder.java:499)
        //     at com.strobel.decompiler.languages.java.ast.AstBuilder.createTypeNoCache(AstBuilder.java:141)
        //     at com.strobel.decompiler.languages.java.ast.AstBuilder.createType(AstBuilder.java:130)
        //     at com.strobel.decompiler.languages.java.ast.AstBuilder.addType(AstBuilder.java:105)
        //     at com.strobel.decompiler.languages.java.JavaLanguage.buildAst(JavaLanguage.java:71)
        //     at com.strobel.decompiler.languages.java.JavaLanguage.decompileType(JavaLanguage.java:59)
        //     at com.strobel.decompiler.DecompilerDriver.decompileType(DecompilerDriver.java:317)
        //     at com.strobel.decompiler.DecompilerDriver.decompileJar(DecompilerDriver.java:238)
        //     at com.strobel.decompiler.DecompilerDriver.main(DecompilerDriver.java:123)
        // 
        throw new IllegalStateException("An error occurred while decompiling this method.");
    }
    
    private void a(final Object o) {
        final fd k = this.k;
        final Class a = fd.a("android.bluetooth.BluetoothProfile");
        final fd i = this.k;
        final Class a2 = fd.a("android.bluetooth.BluetoothAdapter");
        final fd j = this.k;
        final Method b = fd.b(a2, "closeProfileProxy", Integer.TYPE, a);
        final BluetoothAdapter defaultAdapter = BluetoothAdapter.getDefaultAdapter();
        try {
            final Object[] array = new Object[2];
            final fd l = this.k;
            array[0] = fd.a(a, "HEADSET");
            array[1] = o;
            b.invoke(defaultAdapter, array);
        }
        catch (Exception ex) {
            ex.printStackTrace();
        }
    }
    
    private void f() {
        if (this.g != null) {
            this.g.d();
            this.g = null;
        }
    }
    
    public final BluetoothDevice a() {
        if (this.f && this.g != null) {
            return this.g.a();
        }
        if (!this.f && this.j != null) {
            final fd k = this.k;
            final Class a = fd.a("android.bluetooth.BluetoothProfile");
            final fd i = this.k;
            final Method b = fd.b(a, "getConnectedDevices", new Class[0]);
            while (true) {
                try {
                    final List<BluetoothDevice> list = (List<BluetoothDevice>)b.invoke(this.j, new Object[0]);
                    if (list != null && list.size() > 0) {
                        return list.get(0);
                    }
                }
                catch (Exception ex) {
                    ex.printStackTrace();
                    final List<BluetoothDevice> list = null;
                    continue;
                }
                break;
            }
            return null;
        }
        return null;
    }
    
    public final boolean b() {
        if (this.f) {
            if (this.g != null) {
                return this.g.b();
            }
        }
        else if (fc.d.e()) {
            fc.d.e("BluetoothHeadsetOEM startVoiceRecognition() called on native headset!!!");
            return false;
        }
        return false;
    }
    
    public final boolean c() {
        if (this.f) {
            if (this.g != null) {
                return this.g.c();
            }
        }
        else if (fc.d.e()) {
            fc.d.e("BluetoothHeadsetOEM stopVoiceRecognition() called on native headset!!!");
            return false;
        }
        return false;
    }
    
    public final void d() {
        if (this.f) {
            this.f();
        }
        else if (this.j != null) {
            this.a(this.j);
            this.j = null;
        }
    }
}
