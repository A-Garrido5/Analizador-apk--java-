// 
// Decompiled by Procyon v0.5.30
// 

package com.ihs.b.a;

import java.util.Observable;
import java.util.Map;
import java.util.Locale;
import java.util.HashMap;
import com.ihs.g.e;
import com.ihs.g.f;
import com.ihs.session.l;
import com.ihs.f.a.d;
import com.ihs.alerts.g;
import com.ihs.session.c;

public class a extends c implements g, d
{
    protected static String a;
    protected static String b;
    protected static String c;
    protected static String d;
    protected static Long e;
    protected static String f;
    protected static String g;
    protected static String h;
    protected static boolean i;
    protected static int j;
    protected static boolean k;
    
    static {
        com.ihs.b.a.a.a = null;
        com.ihs.b.a.a.b = null;
        com.ihs.b.a.a.c = null;
        com.ihs.b.a.a.d = null;
        com.ihs.b.a.a.e = 60L;
        com.ihs.b.a.a.f = null;
        com.ihs.b.a.a.g = null;
        com.ihs.b.a.a.h = null;
        com.ihs.b.a.a.i = false;
        com.ihs.b.a.a.k = false;
    }
    
    private void d() {
        if (com.ihs.b.a.a.c != null) {
            com.ihs.g.c.a("iHSAppFrameWork", "start remote config initialize()");
            com.ihs.f.a.c.b().a(com.ihs.b.a.a.c, com.ihs.b.a.a.d, com.ihs.b.a.a.e, this);
        }
        com.ihs.g.c.a("statetracker", "4.5.1 start alert.");
        com.ihs.alerts.d.a().a(com.ihs.b.a.a.j);
        if (com.ihs.b.a.a.b != null && com.ihs.b.a.a.a != null) {
            com.ihs.alerts.d.a().a(com.ihs.b.a.a.a, com.ihs.b.a.a.b, this);
        }
    }
    
    public void a(final long n) {
        com.ihs.g.c.a("iHSAppFrameWork", "endFrameworkService is entrance");
        l.a = false;
        com.ihs.alerts.d.a().e();
        com.ihs.a.d.a().c(com.ihs.g.a.a);
        com.ihs.h.a.a(n);
        com.ihs.b.a.a.k = false;
    }
    
    @Override
    public void a(final com.ihs.alerts.d d) {
    }
    
    @Override
    public void a(final com.ihs.alerts.d d, final Exception ex) {
        com.ihs.g.c.a("iHSAppFrameWork", "alertsDidFail invoked");
    }
    
    @Override
    public boolean a() {
        return true;
    }
    
    public void b() {
        com.ihs.g.c.a("iHSAppFrameWork", "startFrameworkService entrance");
        l.a = false;
        com.ihs.alerts.l.a = com.ihs.b.a.a.g;
        com.ihs.g.f.a();
        com.ihs.g.c.a("statetracker", "4.1 market");
        com.ihs.g.e.a(com.ihs.g.a.a, com.ihs.b.a.a.f);
        com.ihs.g.c.a("statetracker", "4.2 version control");
        com.ihs.h.a.b();
        com.ihs.g.c.a("statetracker", "4.3 start analytics");
        com.ihs.a.d.a().a(com.ihs.g.a.a);
        if (com.ihs.b.a.a.k) {
            new Thread() {
                @Override
                public final void run() {
                    com.ihs.g.c.a("start thread to parser plist file.");
                    com.ihs.b.a.a.this.d();
                    super.run();
                }
            }.start();
        }
        else {
            com.ihs.g.c.a("statetracker", "4.4 start remote");
            this.d();
        }
        com.ihs.g.c.a("statetracker", "4.5 start logmarketinfo");
        final HashMap<String, String> hashMap = new HashMap<String, String>();
        hashMap.put("CurrentMarket", com.ihs.g.e.a().b());
        hashMap.put("Market", com.ihs.g.e.a().c());
        com.ihs.g.e.a();
        hashMap.put("MarketGroup", com.ihs.g.e.a(com.ihs.g.e.a().c()));
        hashMap.put("Location", Locale.getDefault().getCountry());
        com.ihs.a.d.a();
        com.ihs.a.d.a("MarketInfo", hashMap);
        com.ihs.g.c.a("iHSAppFrameWork", "startframeworkservice end.......");
    }
    
    @Override
    public void b(final boolean b) {
    }
    
    @Override
    public void c() {
    }
    
    @Override
    public void update(final Observable observable, final Object o) {
        super.update(observable, o);
        final Long n = (Long)o;
        com.ihs.g.c.a("iHSAppFrameWork", "observer received start/end time is " + (long)n);
        if (0L == n) {
            if (!com.ihs.b.a.a.i) {
                com.ihs.b.a.a.i = true;
                this.b();
            }
        }
        else if (com.ihs.b.a.a.i) {
            com.ihs.b.a.a.i = false;
            this.a(n);
        }
    }
}
