// 
// Decompiled by Procyon v0.5.30
// 

package com.ihs.alerts;

import java.util.Random;
import com.ihs.g.c;
import com.ihs.h.a;
import com.ihs.g.d;
import java.util.Map;

public final class p extends j
{
    private static p d;
    private int a;
    private Map b;
    private Map c;
    
    public static p a() {
        synchronized (p.class) {
            if (p.d == null) {
                p.d = new p();
            }
            return p.d;
        }
    }
    
    public static void a(final Map map) {
        final Map d = com.ihs.g.d.d(map, "FirstLaunchAlert");
        if (d != null) {
            final Map d2 = com.ihs.g.d.d(d, "Alert");
            if (d2 != null) {
                a().b = d2;
            }
        }
        final Map d3 = com.ihs.g.d.d(map, "UpdateAlert");
        if (d3 != null) {
            final p a = a();
            a.a = com.ihs.g.d.e(com.ihs.alerts.d.a(d3), "Probability");
            a.c = com.ihs.g.d.d(d3, "Alert");
        }
    }
    
    public final void b() {
        if (this.c != null) {
            this.c.clear();
        }
        if (this.b != null) {
            this.b.clear();
        }
    }
    
    public final h c() {
        if (this.b != null && !this.b.isEmpty() && com.ihs.h.a.a().c()) {
            com.ihs.a.d.a();
            com.ihs.a.d.c("HSFirstLaunchAlert_Showed");
            com.ihs.a.d.a().a("iHandyAlerts_Events", "iHandyAlerts_FirstLaunchAlert_Showed", com.ihs.g.a.a.getPackageName());
            return j.a(this.b, e.c);
        }
        com.ihs.g.c.a("iHSAlertLibrary", "update alert probablility is " + this.a);
        final Map c = this.c;
        int n = 0;
        if (c != null) {
            final boolean empty = this.c.isEmpty();
            n = 0;
            if (!empty) {
                if (com.ihs.h.a.a().d()) {
                    final int nextInt = new Random().nextInt(100);
                    final int a = this.a;
                    n = 0;
                    if (nextInt < a) {
                        n = 1;
                    }
                }
                else {
                    com.ihs.g.c.a("ihsupdatealert", "not firsttimelaunchappsinceupdate ");
                    n = 0;
                }
            }
        }
        if (n != 0) {
            com.ihs.a.d.a();
            com.ihs.a.d.c("HSUpdateAlert_Showed");
            com.ihs.a.d.a().a("iHandyAlerts_Events", "iHandyAlerts_UpdateAlert_Showed", com.ihs.g.a.a.getPackageName());
            return j.a(this.c, e.b);
        }
        return null;
    }
    
    @Override
    protected final Object clone() {
        throw new CloneNotSupportedException();
    }
}
