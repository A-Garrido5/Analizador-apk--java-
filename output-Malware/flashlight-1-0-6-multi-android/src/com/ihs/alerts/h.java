// 
// Decompiled by Procyon v0.5.30
// 

package com.ihs.alerts;

import android.content.DialogInterface;
import android.net.Uri;
import com.ihs.g.j;
import com.ihs.g.e;
import com.ihs.g.a;
import android.content.Intent;
import android.text.TextUtils;
import android.os.Build$VERSION;
import com.ihs.g.c;
import java.util.Map;
import android.content.Context;
import java.util.List;
import android.content.DialogInterface$OnClickListener;
import android.app.AlertDialog;

public final class h extends AlertDialog implements DialogInterface$OnClickListener
{
    private static /* synthetic */ int[] d;
    private static /* synthetic */ int[] e;
    private List a;
    private int[] b;
    private boolean c;
    
    public h(final Context context, final Map map) {
        super(context);
        this.b = new int[3];
        this.c = false;
        final String a = com.ihs.alerts.d.a(map, "Title");
        final String a2 = com.ihs.alerts.d.a(map, "Body");
        if (a == null || a2 == null) {
            this.c = true;
        }
        this.a = com.ihs.g.d.c(map, "Actions");
        if (this.a == null) {
            com.ihs.g.c.a("lost alert actions configure.");
            throw new RuntimeException("You must configure the alert actions.");
        }
        this.setIcon(com.ihs.alerts.d.a().b());
        this.setTitle((CharSequence)a);
        this.setMessage((CharSequence)a2);
        this.setCancelable(false);
        this.b[0] = -2;
        this.b[1] = -3;
        this.b[2] = -1;
        for (int i = 0; i < this.a.size(); ++i) {
            final String a3 = com.ihs.alerts.d.a(this.a.get(i), "Text");
            com.ihs.g.c.a("iHSAlertLibrary", "button title=" + a3);
            this.setButton(this.b[i], (CharSequence)a3, (DialogInterface$OnClickListener)this);
        }
    }
    
    public h(final Context context, final Map map, final byte b) {
        super(context, 2);
        this.b = new int[3];
        this.c = false;
        final String a = com.ihs.alerts.d.a(map, "Title");
        final String a2 = com.ihs.alerts.d.a(map, "Body");
        if (a == null || a2 == null) {
            this.c = true;
        }
        this.a = com.ihs.g.d.c(map, "Actions");
        if (this.a == null) {
            com.ihs.g.c.a("lost alert actions configure.");
            throw new RuntimeException("You must configure the alert actions.");
        }
        this.setIcon(com.ihs.alerts.d.a().b());
        this.setTitle((CharSequence)a);
        this.setMessage((CharSequence)a2);
        this.setCancelable(false);
        com.ihs.g.c.a("os version=" + Build$VERSION.SDK_INT + ", icecream=14");
        this.b[0] = -1;
        this.b[1] = -3;
        this.b[2] = -2;
        for (int i = 0; i < this.a.size(); ++i) {
            final String a3 = com.ihs.alerts.d.a(this.a.get(i), "Text");
            com.ihs.g.c.a("iHSAlertLibrary", "button title=" + a3);
            this.setButton(this.b[i], (CharSequence)a3, (DialogInterface$OnClickListener)this);
        }
        com.ihs.g.c.a("iHSAlertLibrary", "hsalertview create end");
    }
    
    public static void a(final Map map) {
        final f a = f.a(com.ihs.g.d.e(map, "Type"));
        final d a2 = com.ihs.alerts.d.a();
        o.a().b();
        a2.d = false;
        String s = "";
        String s2 = "";
        switch (b()[com.ihs.alerts.d.a.ordinal()]) {
            case 3: {
                s = "HSFirstLauncherAlert";
                s2 = "FirstLauncherAlert";
                break;
            }
            case 1:
            case 7: {
                s = "HSRateAlert";
                s2 = "RateAlert";
                break;
            }
            case 2: {
                s = "HSUpdateAlert";
                s2 = "UpdateAlert";
                break;
            }
            case 4: {
                s = "HSMessageAlert";
                s2 = "MessageAlert";
                break;
            }
            case 5: {
                s = "HSPromoteAlert";
                s2 = "PromoteAlert";
                break;
            }
            case 6: {
                s = "HSExitAlert";
                s2 = "ExitAlert";
                break;
            }
        }
        final com.ihs.a.d a3 = com.ihs.a.d.a();
        switch (c()[a.ordinal()]) {
            default: {}
            case 4: {
                final String a4 = com.ihs.g.d.a(map, (String)null, "EngagementID");
                c.a("engagement id is " + a4);
                if (TextUtils.isEmpty((CharSequence)a4)) {
                    com.ihs.a.d.c(String.valueOf(s) + "_RateButton_Clicked");
                }
                else {
                    c.a("send broadcast to APP");
                    final Intent intent = new Intent("alert.ratebutton.clicked.ACTION");
                    com.ihs.alerts.d.a();
                    final StringBuffer sb = new StringBuffer();
                    sb.append(com.ihs.g.a.a.getPackageName());
                    sb.append(".");
                    sb.append("alert.ratebutton.clicked.Engagement.ID");
                    intent.putExtra(sb.toString(), a4);
                    com.ihs.g.a.a.sendBroadcast(intent);
                    com.ihs.a.d.a(String.valueOf(s) + "_RateButton_Clicked", new String[] { "EngagementID", a4 });
                }
                a3.a("iHandyAlerts_Events", "iHandyAlerts_" + s2 + "_RateButton_Clicked", com.ihs.g.a.a.getPackageName());
                com.ihs.g.e.a().a(com.ihs.g.a.b);
                a2.b = true;
                a2.c = false;
                j.a("HSRateAlertNoPopUpForever", true);
            }
            case 3: {
                com.ihs.a.d.c(String.valueOf(s) + "_GoToURLButton_Clicked");
                a3.a("iHandyAlerts_Events", "iHandyAlerts_" + s2 + "_GoToURLButton_Clicked", com.ihs.g.a.a.getPackageName());
                final String value = String.valueOf(map.get("URL"));
                while (true) {
                    try {
                        com.ihs.g.a.b.startActivity(new Intent("android.intent.action.VIEW", Uri.parse(value)));
                        com.ihs.alerts.d.a().b = true;
                        a2.b = true;
                    }
                    catch (Exception ex) {
                        c.b(ex.getLocalizedMessage());
                        continue;
                    }
                    break;
                }
            }
            case 5: {
                a2.c = false;
                j.a("HSRateAlertNoPopUpForever", true);
            }
            case 6: {
                com.ihs.a.d.c(String.valueOf(s) + "_DownloadButton_Clicked");
                a3.a("iHandyAlerts_Events", "iHandyAlerts_" + s2 + "_DownloadButton_Clicked", com.ihs.g.a.a.getPackageName());
                m.a();
                m.b();
                a2.b = true;
            }
            case 7: {
                com.ihs.a.d.c(String.valueOf(s) + "_HateAndEmailToButton_Clicked");
                a3.a("iHandyAlerts_Events", "iHandyAlerts_" + s2 + "_HateAndEmailToButton_Clicked", com.ihs.g.a.a.getPackageName());
                final Context a5 = com.ihs.g.a.a;
                a2.g();
                a2.h();
                a2.i();
                while (true) {
                    try {
                        final String a6 = com.ihs.f.a.c.a().a(new String[] { "Application", "HateEmail", "EmailAddress" });
                        if (!TextUtils.isEmpty((CharSequence)a6)) {
                            final Uri parse = Uri.parse("mailto:" + a6);
                            final Intent intent2 = new Intent("android.intent.action.SENDTO", parse);
                            intent2.putExtra("android.intent.extra.SUBJECT", com.ihs.f.a.c.a().a("", "Application", "HateEmail", "EmailTitle"));
                            intent2.putExtra("android.intent.extra.TEXT", com.ihs.f.a.c.a().a("", "Application", "HateEmail", "EmailContents"));
                            c.a("ihsinit", "emailTo(url) email to is " + parse.toString());
                            intent2.setFlags(335544320);
                            a5.startActivity(intent2);
                        }
                        a2.b = true;
                        a2.c = false;
                        j.a("HSRateAlertNoPopUpForever", true);
                        return;
                    }
                    catch (Exception ex2) {
                        c.b(ex2.getLocalizedMessage());
                        continue;
                    }
                    continue;
                }
            }
        }
    }
    
    private static /* synthetic */ int[] b() {
        final int[] d = h.d;
        if (d != null) {
            return d;
        }
        final int[] d2 = new int[com.ihs.alerts.e.values().length];
        while (true) {
            try {
                d2[com.ihs.alerts.e.g.ordinal()] = 7;
                try {
                    d2[com.ihs.alerts.e.f.ordinal()] = 6;
                    try {
                        d2[com.ihs.alerts.e.c.ordinal()] = 3;
                        try {
                            d2[com.ihs.alerts.e.d.ordinal()] = 4;
                            try {
                                d2[com.ihs.alerts.e.e.ordinal()] = 5;
                                try {
                                    d2[com.ihs.alerts.e.a.ordinal()] = 1;
                                    try {
                                        d2[com.ihs.alerts.e.b.ordinal()] = 2;
                                        return h.d = d2;
                                    }
                                    catch (NoSuchFieldError noSuchFieldError) {}
                                }
                                catch (NoSuchFieldError noSuchFieldError2) {}
                            }
                            catch (NoSuchFieldError noSuchFieldError3) {}
                        }
                        catch (NoSuchFieldError noSuchFieldError4) {}
                    }
                    catch (NoSuchFieldError noSuchFieldError5) {}
                }
                catch (NoSuchFieldError noSuchFieldError6) {}
            }
            catch (NoSuchFieldError noSuchFieldError7) {
                continue;
            }
            break;
        }
    }
    
    private static /* synthetic */ int[] c() {
        final int[] e = h.e;
        if (e != null) {
            return e;
        }
        final int[] e2 = new int[f.values().length];
        while (true) {
            try {
                e2[f.b.ordinal()] = 2;
                try {
                    e2[f.e.ordinal()] = 5;
                    try {
                        e2[f.f.ordinal()] = 6;
                        try {
                            e2[f.c.ordinal()] = 3;
                            try {
                                e2[f.g.ordinal()] = 7;
                                try {
                                    e2[f.a.ordinal()] = 1;
                                    try {
                                        e2[f.d.ordinal()] = 4;
                                        return h.e = e2;
                                    }
                                    catch (NoSuchFieldError noSuchFieldError) {}
                                }
                                catch (NoSuchFieldError noSuchFieldError2) {}
                            }
                            catch (NoSuchFieldError noSuchFieldError3) {}
                        }
                        catch (NoSuchFieldError noSuchFieldError4) {}
                    }
                    catch (NoSuchFieldError noSuchFieldError5) {}
                }
                catch (NoSuchFieldError noSuchFieldError6) {}
            }
            catch (NoSuchFieldError noSuchFieldError7) {
                continue;
            }
            break;
        }
    }
    
    public final boolean a() {
        return !this.c;
    }
    
    public final void onClick(final DialogInterface dialogInterface, final int n) {
        a(this.a.get((int)this.getButton(n).getTag()));
    }
    
    public final void show() {
        super.show();
        for (int i = 0; i < this.a.size(); ++i) {
            this.getButton(this.b[i]).setTag((Object)i);
        }
    }
}
