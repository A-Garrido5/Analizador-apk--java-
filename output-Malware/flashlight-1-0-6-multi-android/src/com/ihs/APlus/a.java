// 
// Decompiled by Procyon v0.5.30
// 

package com.ihs.APlus;

import android.annotation.SuppressLint;
import android.content.IntentFilter;
import com.ihs.a.d;
import com.ihs.g.k;
import com.ihs.i.ag;
import android.os.IBinder;
import com.ihs.i.l;
import android.util.Log;
import android.net.NetworkInfo;
import android.net.ConnectivityManager;
import android.app.Service;
import java.util.TimerTask;
import android.net.NetworkInfo$State;
import com.ihs.g.c;
import android.content.Intent;
import android.content.Context;
import java.util.Timer;
import android.content.BroadcastReceiver;

final class a extends BroadcastReceiver
{
    Timer a;
    final long b;
    final /* synthetic */ APlusService c;
    
    private a(final APlusService c) {
        this.c = c;
        this.b = 30000L;
    }
    
    static /* synthetic */ void a(final a a) {
        if (a.c.f != null) {
            a.c.f.a();
        }
        a.c.b(true);
        if (a.a != null) {
            a.a.cancel();
        }
        a.a = null;
    }
    
    public final void a() {
        if (this.a != null) {
            this.a.cancel();
            this.a = null;
        }
    }
    
    public final void onReceive(final Context context, final Intent intent) {
        com.ihs.g.c.a("ihsAPlus", "aplus inner receiver received action is:" + intent.getAction());
        final NetworkInfo$State connected = NetworkInfo$State.CONNECTED;
        final APlusService c = this.c;
        if (connected != b(context)) {
            if (this.a != null) {
                this.a.cancel();
                this.a = null;
            }
        }
        else {
            com.ihs.g.c.a("ihsAPlus", "network is connected....");
            if (com.ihs.i.c.c != this.c.c.e() && com.ihs.i.c.b != this.c.c.e()) {
                com.ihs.g.c.a("ihsAPlus", "aplus websocket prepare to start to connect....");
                if (this.a == null) {
                    (this.a = new Timer()).schedule(new TimerTask() {
                        @Override
                        public final void run() {
                            com.ihs.APlus.a.a(com.ihs.APlus.a.this);
                        }
                    }, 30000L);
                    com.ihs.g.c.a("ihsAPlus", "after delay time, start connect ......");
                }
            }
        }
    }
}
