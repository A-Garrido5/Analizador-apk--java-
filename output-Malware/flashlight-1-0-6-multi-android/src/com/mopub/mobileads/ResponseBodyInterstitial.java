// 
// Decompiled by Procyon v0.5.30
// 

package com.mopub.mobileads;

import java.util.Map;
import android.content.Context;

abstract class ResponseBodyInterstitial extends CustomEventInterstitial
{
    protected AdConfiguration mAdConfiguration;
    long mBroadcastIdentifier;
    private EventForwardingBroadcastReceiver mBroadcastReceiver;
    protected Context mContext;
    
    private boolean extrasAreValid(final Map map) {
        return map.containsKey("Html-Response-Body");
    }
    
    protected abstract void extractExtras(final Map p0);
    
    @Override
    protected void loadInterstitial(final Context mContext, final CustomEventInterstitial$CustomEventInterstitialListener customEventInterstitial$CustomEventInterstitialListener, final Map map, final Map map2) {
        this.mContext = mContext;
        if (this.extrasAreValid(map2)) {
            this.extractExtras(map2);
            this.mAdConfiguration = AdConfiguration.extractFromMap(map);
            if (this.mAdConfiguration != null) {
                this.mBroadcastIdentifier = this.mAdConfiguration.getBroadcastIdentifier();
            }
            (this.mBroadcastReceiver = new EventForwardingBroadcastReceiver(customEventInterstitial$CustomEventInterstitialListener, this.mBroadcastIdentifier)).register(mContext);
            this.preRenderHtml(customEventInterstitial$CustomEventInterstitialListener);
            return;
        }
        customEventInterstitial$CustomEventInterstitialListener.onInterstitialFailed(MoPubErrorCode.NETWORK_INVALID_STATE);
    }
    
    @Override
    protected void onInvalidate() {
        if (this.mBroadcastReceiver != null) {
            this.mBroadcastReceiver.unregister();
        }
    }
    
    protected abstract void preRenderHtml(final CustomEventInterstitial$CustomEventInterstitialListener p0);
    
    @Override
    protected abstract void showInterstitial();
}
