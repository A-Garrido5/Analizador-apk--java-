// 
// Decompiled by Procyon v0.5.30
// 

package com.mopub.mobileads;

import com.mopub.common.GpsHelper$GpsHelperListener;
import com.mopub.common.GpsHelper;
import com.mopub.common.SharedPreferencesHelper;
import android.content.SharedPreferences;
import android.content.Context;
import org.apache.http.HttpEntity;
import org.apache.http.HttpResponse;
import org.apache.http.impl.client.DefaultHttpClient;
import org.apache.http.client.methods.HttpUriRequest;
import org.apache.http.client.methods.HttpGet;
import com.mopub.mobileads.factories.HttpClientFactory;
import android.util.Log;

class MoPubConversionTracker$TrackOpen implements Runnable
{
    final /* synthetic */ MoPubConversionTracker this$0;
    
    private MoPubConversionTracker$TrackOpen(final MoPubConversionTracker this$0) {
        this.this$0 = this$0;
    }
    
    @Override
    public void run() {
        final String generateUrlString = new MoPubConversionTracker$ConversionUrlGenerator(this.this$0, null).generateUrlString("ads.mopub.com");
        Log.d("MoPub", "Conversion track: " + generateUrlString);
        final DefaultHttpClient create = HttpClientFactory.create();
        HttpResponse execute;
        try {
            execute = create.execute((HttpUriRequest)new HttpGet(generateUrlString));
            if (execute.getStatusLine().getStatusCode() != 200) {
                Log.d("MoPub", "Conversion track failed: Status code != 200.");
                return;
            }
        }
        catch (Exception ex) {
            Log.d("MoPub", "Conversion track failed [" + ex.getClass().getSimpleName() + "]: " + generateUrlString);
            return;
        }
        final HttpEntity entity = execute.getEntity();
        if (entity == null || entity.getContentLength() == 0L) {
            Log.d("MoPub", "Conversion track failed: Response was empty.");
            return;
        }
        Log.d("MoPub", "Conversion track successful.");
        this.this$0.mSharedPreferences.edit().putBoolean(this.this$0.mIsTrackedKey, true).commit();
    }
}
