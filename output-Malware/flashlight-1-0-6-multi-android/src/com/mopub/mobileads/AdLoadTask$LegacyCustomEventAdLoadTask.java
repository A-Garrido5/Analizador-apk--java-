// 
// Decompiled by Procyon v0.5.30
// 

package com.mopub.mobileads;

import android.app.Activity;
import android.util.Log;
import org.apache.http.Header;

@Deprecated
class AdLoadTask$LegacyCustomEventAdLoadTask extends AdLoadTask
{
    private Header mHeader;
    
    public AdLoadTask$LegacyCustomEventAdLoadTask(final AdViewController adViewController, final Header mHeader) {
        super(adViewController);
        this.mHeader = mHeader;
    }
    
    @Override
    void cleanup() {
        this.mHeader = null;
    }
    
    @Override
    void execute() {
        final AdViewController adViewController = (AdViewController)this.mWeakAdViewController.get();
        if (adViewController == null || adViewController.isDestroyed()) {
            return;
        }
        adViewController.setNotLoading();
        final MoPubView moPubView = adViewController.getMoPubView();
        if (this.mHeader == null) {
            Log.i("MoPub", "Couldn't call custom method because the server did not specify one.");
            moPubView.loadFailUrl(MoPubErrorCode.ADAPTER_NOT_FOUND);
            return;
        }
        final String value = this.mHeader.getValue();
        Log.i("MoPub", "Trying to call method named " + value);
        final Activity activity = moPubView.getActivity();
        try {
            activity.getClass().getMethod(value, MoPubView.class).invoke(activity, moPubView);
        }
        catch (NoSuchMethodException ex) {
            Log.d("MoPub", "Couldn't perform custom method named " + value + "(MoPubView view) because your activity class has no such method");
            moPubView.loadFailUrl(MoPubErrorCode.ADAPTER_NOT_FOUND);
        }
        catch (Exception ex2) {
            Log.d("MoPub", "Couldn't perform custom method named " + value);
            moPubView.loadFailUrl(MoPubErrorCode.ADAPTER_NOT_FOUND);
        }
    }
    
    @Deprecated
    Header getHeader() {
        return this.mHeader;
    }
}
