// 
// Decompiled by Procyon v0.5.30
// 

package com.mopub.mobileads;

import android.webkit.WebViewClient;
import android.annotation.TargetApi;
import com.mopub.common.util.VersionCode;
import android.content.Context;
import android.os.Handler;

public class HtmlInterstitialWebView extends BaseHtmlWebView
{
    protected static final String MOPUB_JS_INTERFACE_NAME = "mopubUriInterface";
    private Handler mHandler;
    
    public HtmlInterstitialWebView(final Context context, final AdConfiguration adConfiguration) {
        super(context, adConfiguration);
        this.mHandler = new Handler();
    }
    
    private void postHandlerRunnable(final Runnable runnable) {
        this.mHandler.post(runnable);
    }
    
    void addMoPubUriJavascriptInterface(final HtmlInterstitialWebView$MoPubUriJavascriptFireFinishLoadListener htmlInterstitialWebView$MoPubUriJavascriptFireFinishLoadListener) {
        this.addJavascriptInterface((Object)new Object() {
            public final boolean fireFinishLoad() {
                HtmlInterstitialWebView.this.postHandlerRunnable(new Runnable() {
                    @Override
                    public void run() {
                        htmlInterstitialWebView$MoPubUriJavascriptFireFinishLoadListener.onInterstitialLoaded();
                    }
                });
                return true;
            }
        }, "mopubUriInterface");
    }
    
    @TargetApi(11)
    @Override
    public void destroy() {
        if (VersionCode.currentApiLevel().isAtLeast(VersionCode.HONEYCOMB)) {
            this.removeJavascriptInterface("mopubUriInterface");
        }
        super.destroy();
    }
    
    public void init(final CustomEventInterstitial$CustomEventInterstitialListener customEventInterstitial$CustomEventInterstitialListener, final boolean b, final String s, final String s2) {
        super.init(b);
        this.setWebViewClient((WebViewClient)new HtmlWebViewClient(new HtmlInterstitialWebView$HtmlInterstitialWebViewListener(customEventInterstitial$CustomEventInterstitialListener), this, s2, s));
        this.addMoPubUriJavascriptInterface(new HtmlInterstitialWebView$MoPubUriJavascriptFireFinishLoadListener() {
            @Override
            public void onInterstitialLoaded() {
                if (!HtmlInterstitialWebView.this.mIsDestroyed) {
                    customEventInterstitial$CustomEventInterstitialListener.onInterstitialLoaded();
                }
            }
        });
    }
}
