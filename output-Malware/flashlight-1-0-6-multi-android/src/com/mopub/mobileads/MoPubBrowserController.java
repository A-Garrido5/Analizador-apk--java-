// 
// Decompiled by Procyon v0.5.30
// 

package com.mopub.mobileads;

import com.mopub.common.MoPubBrowser;
import com.mopub.common.util.IntentUtils;
import android.util.Log;
import com.mopub.mobileads.util.Utils;
import android.content.Intent;
import android.net.Uri;
import android.content.Context;

class MoPubBrowserController extends MraidAbstractController
{
    private static final String LOGTAG = "MoPubBrowserController";
    private Context mContext;
    
    MoPubBrowserController(final MraidView mraidView) {
        super(mraidView);
        this.mContext = mraidView.getContext();
    }
    
    private boolean isWebSiteUrl(final String s) {
        return s.startsWith("http://") || s.startsWith("https://");
    }
    
    private boolean launchApplicationUrl(final String s) {
        final Intent intent = new Intent("android.intent.action.VIEW", Uri.parse(s));
        intent.addFlags(268435456);
        return Utils.executeIntent(this.getMraidView().getContext(), intent, "Unable to open intent.");
    }
    
    protected void open(final String s) {
        Log.d("MoPubBrowserController", "Opening url: " + s);
        final MraidView mraidView = this.getMraidView();
        if (mraidView.getMraidListener() != null) {
            mraidView.getMraidListener().onOpen(mraidView);
        }
        if (!this.isWebSiteUrl(s) && IntentUtils.canHandleApplicationUrl(this.mContext, s)) {
            this.launchApplicationUrl(s);
            return;
        }
        final Intent intent = new Intent(this.mContext, (Class)MoPubBrowser.class);
        intent.putExtra("URL", s);
        intent.addFlags(268435456);
        this.mContext.startActivity(intent);
    }
}
