// 
// Decompiled by Procyon v0.5.30
// 

package com.mopub.nativeads;

import java.util.Iterator;
import android.graphics.drawable.Drawable;
import android.view.View;
import com.mopub.common.util.MoPubLog;
import android.widget.ImageView;
import android.widget.TextView;

class NativeViewHolder
{
    TextView callToActionView;
    ImageView iconImageView;
    ImageView mainImageView;
    TextView textView;
    TextView titleView;
    
    private void addTextView(final TextView textView, final String text) {
        if (textView == null) {
            MoPubLog.d("Attempted to add text (" + text + ") to null TextView.");
            return;
        }
        textView.setText((CharSequence)null);
        if (text == null) {
            MoPubLog.d("Attempted to set TextView contents to null.");
            return;
        }
        textView.setText((CharSequence)text);
    }
    
    static NativeViewHolder fromViewBinder(final View view, final ViewBinder viewBinder) {
        final NativeViewHolder nativeViewHolder = new NativeViewHolder();
        try {
            nativeViewHolder.titleView = (TextView)view.findViewById(viewBinder.titleId);
            nativeViewHolder.textView = (TextView)view.findViewById(viewBinder.textId);
            nativeViewHolder.callToActionView = (TextView)view.findViewById(viewBinder.callToActionId);
            nativeViewHolder.mainImageView = (ImageView)view.findViewById(viewBinder.mainImageId);
            nativeViewHolder.iconImageView = (ImageView)view.findViewById(viewBinder.iconImageId);
            return nativeViewHolder;
        }
        catch (ClassCastException ex) {
            MoPubLog.d("Could not cast View from id in ViewBinder to expected View type", ex);
            return null;
        }
    }
    
    void update(final NativeResponse nativeResponse) {
        this.addTextView(this.titleView, nativeResponse.getTitle());
        this.addTextView(this.textView, nativeResponse.getText());
        this.addTextView(this.callToActionView, nativeResponse.getCallToAction());
        nativeResponse.loadMainImage(this.mainImageView);
        nativeResponse.loadIconImage(this.iconImageView);
    }
    
    void updateExtras(final View view, final NativeResponse nativeResponse, final ViewBinder viewBinder) {
        for (final String s : viewBinder.extras.keySet()) {
            final View viewById = view.findViewById((int)viewBinder.extras.get(s));
            final Object extra = nativeResponse.getExtra(s);
            if (viewById instanceof ImageView) {
                ((ImageView)viewById).setImageDrawable((Drawable)null);
                nativeResponse.loadExtrasImage(s, (ImageView)viewById);
            }
            else if (viewById instanceof TextView) {
                ((TextView)viewById).setText((CharSequence)null);
                if (!(extra instanceof String)) {
                    continue;
                }
                this.addTextView((TextView)viewById, (String)extra);
            }
            else {
                MoPubLog.d("View bound to " + s + " should be an instance of TextView or ImageView.");
            }
        }
    }
}
