// 
// Decompiled by Procyon v0.5.30
// 

package com.ihandysoft.ad.a;

import java.util.Locale;
import com.ihs.g.c;
import com.ihandysoft.ad.g;
import com.ihandysoft.ad.i;
import android.os.Looper;
import android.os.Handler;
import android.content.Context;
import java.util.Date;
import android.location.Location;
import java.util.Map;
import android.view.View;

public class a
{
    protected b a;
    protected View b;
    protected com.ihandysoft.ad.a c;
    protected Map d;
    protected String e;
    protected Location f;
    protected Date g;
    protected boolean h;
    protected int i;
    protected int j;
    protected Context k;
    protected Handler l;
    protected boolean m;
    
    public a() {
        this.l = new Handler(Looper.getMainLooper());
    }
    
    private int E() {
        return com.ihandysoft.ad.b.b.a(this.d.get("allowedExtraDisplayCycles"));
    }
    
    public static a a(final Map d, final Context k) {
        Class<a> a = (Class<a>)i.a(com.ihandysoft.ad.b.b.a(d.get("adType"))).a();
        if (a == null) {
            a = a.class;
        }
        while (true) {
            try {
                final a a2 = a.newInstance();
                if (a2 != null) {
                    a2.d = d;
                    a2.k = k;
                }
                a2.c = com.ihandysoft.ad.a.a(k);
                return a2;
            }
            catch (Exception ex) {
                final a a2 = null;
                continue;
            }
            break;
        }
    }
    
    public final void A() {
        this.j = 1 + this.E();
    }
    
    public final void B() {
        ++this.j;
    }
    
    public final boolean C() {
        return this.j > 0;
    }
    
    public final Location D() {
        return this.f;
    }
    
    public final Context a() {
        return this.k;
    }
    
    public final void a(final int i) {
        this.i = i;
    }
    
    public final void a(final Location f) {
        this.f = f;
    }
    
    public final void a(final b a) {
        this.a = a;
    }
    
    protected final void a(final Exception ex) {
        this.l.post((Runnable)new Runnable() {
            @Override
            public final void run() {
                if (com.ihandysoft.ad.a.a.this.a != null) {
                    com.ihandysoft.ad.a.a.this.a.a(com.ihandysoft.ad.a.a.this, ex);
                }
            }
        });
    }
    
    public final void a(final String e) {
        this.e = e;
    }
    
    public final void a(final boolean h) {
        this.h = h;
    }
    
    public boolean a(final Map map) {
        return this.c().ordinal() == com.ihandysoft.ad.b.b.a(map.get("adType")) && this.e() == com.ihandysoft.ad.b.b.c(map.get("preload"));
    }
    
    public final String b() {
        return this.c().name();
    }
    
    public final i c() {
        return com.ihandysoft.ad.i.values()[com.ihandysoft.ad.b.b.a(this.d.get("adType"))];
    }
    
    public final g d() {
        return com.ihandysoft.ad.g.a(com.ihandysoft.ad.b.b.a(this.d.get("networkType")));
    }
    
    public final boolean e() {
        return com.ihandysoft.ad.b.b.c(this.d.get("preload"));
    }
    
    public final boolean f() {
        return this.h;
    }
    
    public final float g() {
        return com.ihandysoft.ad.b.b.b(this.d.get("cpm"));
    }
    
    public final float h() {
        return com.ihandysoft.ad.b.b.b(this.d.get("cpmDecreaseRate"));
    }
    
    public final float i() {
        return com.ihandysoft.ad.b.b.b(this.d.get("adTimeInterval"));
    }
    
    public final int j() {
        return com.ihandysoft.ad.b.b.a(this.d.get("forceReloadCount"));
    }
    
    public final int k() {
        return this.i;
    }
    
    public final boolean l() {
        return com.ihandysoft.ad.b.b.c(this.d.get("locationDisabled"));
    }
    
    public final Date m() {
        return this.g;
    }
    
    public final View n() {
        return this.b;
    }
    
    public final Map o() {
        return this.d;
    }
    
    protected void p() {
        this.a((Exception)null);
    }
    
    public final void q() {
        this.l.post((Runnable)new Runnable() {
            @Override
            public final void run() {
                com.ihandysoft.ad.a.a.this.g = new Date();
                com.ihandysoft.ad.a.a.this.p();
            }
        });
    }
    
    public final void r() {
        com.ihandysoft.ad.b.a.a(this.l, new Runnable() {
            @Override
            public final void run() {
                com.ihandysoft.ad.a.a.this.m = true;
                com.ihandysoft.ad.a.a.this.t();
                com.ihandysoft.ad.a.a.this.g = null;
                com.ihandysoft.ad.a.a.this.a = null;
                com.ihs.g.c.a("HSAd", String.valueOf(com.ihandysoft.ad.a.a.this.b()) + " is unloaded.");
            }
        });
    }
    
    public final boolean s() {
        return this.m;
    }
    
    protected void t() {
    }
    
    @Override
    public String toString() {
        return String.format(Locale.US, "%s:%6.2f", this.c().name(), this.g());
    }
    
    protected final void u() {
        this.l.post((Runnable)new Runnable() {
            @Override
            public final void run() {
                if (com.ihandysoft.ad.a.a.this.a != null) {
                    com.ihandysoft.ad.a.a.this.a.a(com.ihandysoft.ad.a.a.this);
                }
            }
        });
    }
    
    protected final void v() {
        this.l.post((Runnable)new Runnable() {
            @Override
            public final void run() {
                if (com.ihandysoft.ad.a.a.this.a != null) {
                    com.ihandysoft.ad.a.a.this.a.b(com.ihandysoft.ad.a.a.this);
                }
            }
        });
    }
    
    protected final void w() {
        this.l.post((Runnable)new Runnable() {
            @Override
            public final void run() {
                if (com.ihandysoft.ad.a.a.this.a != null) {
                    final b a = com.ihandysoft.ad.a.a.this.a;
                    final a a2 = com.ihandysoft.ad.a.a.this;
                }
            }
        });
    }
    
    protected final void x() {
        this.l.post((Runnable)new Runnable() {
            @Override
            public final void run() {
                if (com.ihandysoft.ad.a.a.this.a != null) {
                    final b a = com.ihandysoft.ad.a.a.this.a;
                    final a a2 = com.ihandysoft.ad.a.a.this;
                    a.e();
                }
            }
        });
    }
    
    protected final void y() {
        this.l.post((Runnable)new Runnable() {
            @Override
            public final void run() {
                if (com.ihandysoft.ad.a.a.this.a != null) {
                    final b a = com.ihandysoft.ad.a.a.this.a;
                    final a a2 = com.ihandysoft.ad.a.a.this;
                    a.d();
                }
            }
        });
    }
    
    public final boolean z() {
        return this.j > this.E();
    }
}
