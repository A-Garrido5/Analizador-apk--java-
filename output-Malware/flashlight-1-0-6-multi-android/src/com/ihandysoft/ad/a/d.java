// 
// Decompiled by Procyon v0.5.30
// 

package com.ihandysoft.ad.a;

import android.view.View;
import java.util.TimerTask;
import java.util.Timer;
import com.amazon.device.ads.AdTargetingOptions;
import android.view.ViewGroup$LayoutParams;
import android.widget.FrameLayout$LayoutParams;
import com.amazon.device.ads.AdLayout;
import android.app.Activity;
import com.amazon.device.ads.AdRegistration;
import com.amazon.device.ads.AdProperties;
import com.amazon.device.ads.AdError;
import com.amazon.device.ads.Ad;
import java.util.Map;
import com.amazon.device.ads.AdListener;

public class d extends a implements AdListener
{
    private static boolean n;
    
    static {
        d.n = true;
    }
    
    @Override
    public final boolean a(final Map map) {
        return super.a(map) && this.d.get("applicationID").equals(map.get("applicationID"));
    }
    
    @Override
    public void onAdCollapsed(final Ad ad) {
        this.x();
    }
    
    @Override
    public void onAdDismissed(final Ad ad) {
        this.x();
    }
    
    @Override
    public void onAdExpanded(final Ad ad) {
        this.v();
        this.w();
    }
    
    @Override
    public void onAdFailedToLoad(final Ad ad, final AdError adError) {
        this.a(new Exception(adError.getMessage()));
    }
    
    @Override
    public void onAdLoaded(final Ad ad, final AdProperties adProperties) {
        this.u();
    }
    
    public final void p() {
        Label_0027: {
            if (!d.n) {
                break Label_0027;
            }
            d.n = false;
            try {
                AdRegistration.setAppKey(this.d.get("applicationID"));
                final AdLayout b = new AdLayout((Activity)this.a());
                ((AdLayout)(this.b = (View)b)).setListener(this);
                b.setLayoutParams((ViewGroup$LayoutParams)new FrameLayout$LayoutParams(-1, -2));
                b.loadAd(new AdTargetingOptions());
            }
            catch (Exception ex) {
                d.n = true;
                new Timer().schedule(new TimerTask() {
                    @Override
                    public final void run() {
                        d.this.a(ex);
                    }
                }, 100L);
            }
        }
    }
    
    public final void t() {
        if (this.b != null) {
            ((AdLayout)this.b).setListener(null);
            ((AdLayout)this.b).destroy();
        }
        super.t();
    }
}
