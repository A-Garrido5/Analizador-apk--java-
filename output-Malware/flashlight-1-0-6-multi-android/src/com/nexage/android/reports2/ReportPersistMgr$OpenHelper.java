// 
// Decompiled by Procyon v0.5.30
// 

package com.nexage.android.reports2;

import com.nexage.android.internal.NexageLog;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteDatabase$CursorFactory;
import android.content.Context;
import com.nexage.android.NexageAdManager;
import android.database.sqlite.SQLiteOpenHelper;

class ReportPersistMgr$OpenHelper extends SQLiteOpenHelper
{
    private static final String DATABASE_NAME;
    private static final int DATABASE_VERSION = 16;
    
    static {
        DATABASE_NAME = "Nexage_" + NexageAdManager.getDCN() + "_Cache.db";
    }
    
    ReportPersistMgr$OpenHelper(final Context context) {
        super(context, ReportPersistMgr$OpenHelper.DATABASE_NAME, (SQLiteDatabase$CursorFactory)null, 16);
    }
    
    public void onCreate(final SQLiteDatabase sqLiteDatabase) {
        sqLiteDatabase.execSQL("CREATE TABLE reqTable(seq INTEGER PRIMARY KEY,pos TEXT,svcTimestamp INTEGER,svcRespTime INTEGER,st INTEGER,buyer TEXT,pru TEXT,flushTs INTEGER,json TEXT,a TEXT)");
        sqLiteDatabase.execSQL("CREATE TABLE clickTable(seq INTEGER PRIMARY KEY,pos TEXT,posSeq INTEGER,ts INTEGER,tagId TEXT,flushTs INTEGER,a TEXT)");
        sqLiteDatabase.execSQL("CREATE TABLE diplayTable(seq INTEGER PRIMARY KEY,pos TEXT,posSeq INTEGER,ts INTEGER,tagId TEXT,buyer TEXT,pru TEXT,flushTs INTEGER,a TEXT)");
    }
    
    public void onUpgrade(final SQLiteDatabase sqLiteDatabase, final int n, final int n2) {
        NexageLog.i("ReportPersist", "Re-created DB");
        sqLiteDatabase.execSQL("DROP TABLE IF EXISTS reqTable");
        sqLiteDatabase.execSQL("DROP TABLE IF EXISTS clickTable");
        sqLiteDatabase.execSQL("DROP TABLE IF EXISTS diplayTable");
        this.onCreate(sqLiteDatabase);
    }
}
