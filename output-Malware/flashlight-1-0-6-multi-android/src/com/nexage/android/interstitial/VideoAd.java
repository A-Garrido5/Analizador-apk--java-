// 
// Decompiled by Procyon v0.5.30
// 

package com.nexage.android.interstitial;

import java.io.ByteArrayInputStream;
import java.io.InputStream;
import com.nexage.android.internal.AdLayout;
import android.app.Activity;
import java.util.TimerTask;
import android.view.Display;
import android.view.ViewGroup$LayoutParams;
import android.widget.RelativeLayout$LayoutParams;
import java.util.Iterator;
import java.util.List;
import com.nexage.android.internal.NexageLog;
import android.view.animation.Animation$AnimationListener;
import android.view.animation.AlphaAnimation;
import android.view.animation.Interpolator;
import android.view.animation.LinearInterpolator;
import android.view.animation.RotateAnimation;
import com.nexage.android.reports2.AdService2;
import com.nexage.android.internal.NexageContext;
import android.view.SurfaceView;
import android.view.SurfaceHolder;
import android.widget.ImageView;
import android.media.MediaPlayer;
import android.graphics.drawable.Drawable;
import android.widget.ImageButton;
import android.os.Handler;
import android.view.animation.Animation;
import java.util.Timer;
import android.widget.RelativeLayout;
import com.nexage.android.NexageActivity;
import android.view.SurfaceHolder$Callback;
import android.media.MediaPlayer$OnVideoSizeChangedListener;
import android.media.MediaPlayer$OnPreparedListener;
import android.media.MediaPlayer$OnErrorListener;
import android.media.MediaPlayer$OnCompletionListener;
import com.nexage.android.internal.Ad;

public class VideoAd extends Ad implements MediaPlayer$OnCompletionListener, MediaPlayer$OnErrorListener, MediaPlayer$OnPreparedListener, MediaPlayer$OnVideoSizeChangedListener, SurfaceHolder$Callback
{
    private static final long DISMISS_DELAY = 5000L;
    private static final long FADE_DURATION = 2000L;
    private static final long HIDE_DELAY = 4000L;
    private static final long LOADING_DELAY = 10000L;
    private static final long QUARTILE_TIMER_INTERVAL = 250L;
    private static final double REPLAY_SCALE = 0.4;
    private static final double SKIP_INFO_PADDING_SCALE = 0.1;
    private static final double SKIP_INFO_SCALE = 0.15;
    private static final double SPINNER_SCALE = 0.4;
    private static final String TAG = "VideoAd";
    private NexageActivity activity;
    private RelativeLayout buttonPanel;
    private Timer dismissTimer;
    private Animation fadeAnimation;
    private Handler handler;
    private Timer hidePanelTimer;
    private ImageButton infoButton;
    private Drawable infoDisabledDrawable;
    private Drawable infoEnabledDrawable;
    private boolean isReplaying;
    private boolean isVideoPrepared;
    private boolean isVideoSizeKnown;
    private Timer loadingTimer;
    private MediaPlayer mediaPlayer;
    private RelativeLayout overlay;
    private int quartile;
    private Timer quartileTimer;
    private ImageButton replayButton;
    private RelativeLayout rootLayout;
    private ImageButton skipButton;
    private Animation spinAnimation;
    private ImageView spinner;
    private SurfaceHolder surfaceHolder;
    private SurfaceView surfaceView;
    private String url;
    private VASTDocument vastDoc;
    private int videoDuration;
    private int videoHeight;
    private final VideoAd$VideoLayout videoLayout;
    private int videoWidth;
    
    public VideoAd(final NexageContext nexageContext, final AdService2 adService2) {
        super(nexageContext, adService2);
        this.url = null;
        this.isVideoSizeKnown = false;
        this.isVideoPrepared = false;
        this.isReplaying = false;
        this.videoLayout = new VideoAd$VideoLayout(this, null);
    }
    
    private void createAnimations() {
        (this.spinAnimation = (Animation)new RotateAnimation(0.0f, 360.0f, 1, 0.5f, 1, 0.5f)).setDuration(1000L);
        this.spinAnimation.setInterpolator((Interpolator)new LinearInterpolator());
        this.spinAnimation.setRepeatCount(-1);
        (this.fadeAnimation = (Animation)new AlphaAnimation(1.0f, 0.0f)).setDuration(2000L);
        this.fadeAnimation.setAnimationListener((Animation$AnimationListener)new Animation$AnimationListener() {
            public void onAnimationEnd(final Animation animation) {
                VideoAd.this.buttonPanel.setVisibility(8);
            }
            
            public void onAnimationRepeat(final Animation animation) {
            }
            
            public void onAnimationStart(final Animation animation) {
            }
        });
    }
    
    private void createUi() {
        // 
        // This method could not be decompiled.
        // 
        // Original Bytecode:
        // 
        //     0: ldc             "VideoAd"
        //     2: ldc             "createUi"
        //     4: invokestatic    com/nexage/android/internal/NexageLog.d:(Ljava/lang/String;Ljava/lang/String;)V
        //     7: aload_0        
        //     8: new             Landroid/media/MediaPlayer;
        //    11: dup            
        //    12: invokespecial   android/media/MediaPlayer.<init>:()V
        //    15: putfield        com/nexage/android/interstitial/VideoAd.mediaPlayer:Landroid/media/MediaPlayer;
        //    18: aload_0        
        //    19: getfield        com/nexage/android/interstitial/VideoAd.mediaPlayer:Landroid/media/MediaPlayer;
        //    22: aload_0        
        //    23: invokevirtual   android/media/MediaPlayer.setOnCompletionListener:(Landroid/media/MediaPlayer$OnCompletionListener;)V
        //    26: aload_0        
        //    27: getfield        com/nexage/android/interstitial/VideoAd.mediaPlayer:Landroid/media/MediaPlayer;
        //    30: aload_0        
        //    31: invokevirtual   android/media/MediaPlayer.setOnErrorListener:(Landroid/media/MediaPlayer$OnErrorListener;)V
        //    34: aload_0        
        //    35: getfield        com/nexage/android/interstitial/VideoAd.mediaPlayer:Landroid/media/MediaPlayer;
        //    38: aload_0        
        //    39: invokevirtual   android/media/MediaPlayer.setOnPreparedListener:(Landroid/media/MediaPlayer$OnPreparedListener;)V
        //    42: aload_0        
        //    43: getfield        com/nexage/android/interstitial/VideoAd.mediaPlayer:Landroid/media/MediaPlayer;
        //    46: aload_0        
        //    47: invokevirtual   android/media/MediaPlayer.setOnVideoSizeChangedListener:(Landroid/media/MediaPlayer$OnVideoSizeChangedListener;)V
        //    50: aload_0        
        //    51: getfield        com/nexage/android/interstitial/VideoAd.mediaPlayer:Landroid/media/MediaPlayer;
        //    54: iconst_3       
        //    55: invokevirtual   android/media/MediaPlayer.setAudioStreamType:(I)V
        //    58: aload_0        
        //    59: getfield        com/nexage/android/interstitial/VideoAd.activity:Lcom/nexage/android/NexageActivity;
        //    62: invokevirtual   com/nexage/android/NexageActivity.getResources:()Landroid/content/res/Resources;
        //    65: invokevirtual   android/content/res/Resources.getDisplayMetrics:()Landroid/util/DisplayMetrics;
        //    68: getfield        android/util/DisplayMetrics.widthPixels:I
        //    71: istore_1       
        //    72: aload_0        
        //    73: getfield        com/nexage/android/interstitial/VideoAd.activity:Lcom/nexage/android/NexageActivity;
        //    76: invokevirtual   com/nexage/android/NexageActivity.getResources:()Landroid/content/res/Resources;
        //    79: invokevirtual   android/content/res/Resources.getDisplayMetrics:()Landroid/util/DisplayMetrics;
        //    82: getfield        android/util/DisplayMetrics.heightPixels:I
        //    85: istore_2       
        //    86: ldc             "VideoAd"
        //    88: new             Ljava/lang/StringBuilder;
        //    91: dup            
        //    92: ldc_w           "screen "
        //    95: invokespecial   java/lang/StringBuilder.<init>:(Ljava/lang/String;)V
        //    98: iload_1        
        //    99: invokevirtual   java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
        //   102: ldc_w           "x"
        //   105: invokevirtual   java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
        //   108: iload_2        
        //   109: invokevirtual   java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
        //   112: invokevirtual   java/lang/StringBuilder.toString:()Ljava/lang/String;
        //   115: invokestatic    com/nexage/android/internal/NexageLog.d:(Ljava/lang/String;Ljava/lang/String;)V
        //   118: new             Landroid/widget/RelativeLayout$LayoutParams;
        //   121: dup            
        //   122: iconst_m1      
        //   123: iconst_m1      
        //   124: invokespecial   android/widget/RelativeLayout$LayoutParams.<init>:(II)V
        //   127: astore_3       
        //   128: aload_0        
        //   129: new             Landroid/widget/RelativeLayout;
        //   132: dup            
        //   133: aload_0        
        //   134: getfield        com/nexage/android/interstitial/VideoAd.activity:Lcom/nexage/android/NexageActivity;
        //   137: invokespecial   android/widget/RelativeLayout.<init>:(Landroid/content/Context;)V
        //   140: putfield        com/nexage/android/interstitial/VideoAd.rootLayout:Landroid/widget/RelativeLayout;
        //   143: aload_0        
        //   144: getfield        com/nexage/android/interstitial/VideoAd.rootLayout:Landroid/widget/RelativeLayout;
        //   147: aload_3        
        //   148: invokevirtual   android/widget/RelativeLayout.setLayoutParams:(Landroid/view/ViewGroup$LayoutParams;)V
        //   151: aload_0        
        //   152: getfield        com/nexage/android/interstitial/VideoAd.rootLayout:Landroid/widget/RelativeLayout;
        //   155: iconst_0       
        //   156: iconst_0       
        //   157: iconst_0       
        //   158: iconst_0       
        //   159: invokevirtual   android/widget/RelativeLayout.setPadding:(IIII)V
        //   162: aload_0        
        //   163: getfield        com/nexage/android/interstitial/VideoAd.rootLayout:Landroid/widget/RelativeLayout;
        //   166: iconst_0       
        //   167: invokevirtual   android/widget/RelativeLayout.setBackgroundColor:(I)V
        //   170: aload_0        
        //   171: new             Landroid/view/SurfaceView;
        //   174: dup            
        //   175: aload_0        
        //   176: getfield        com/nexage/android/interstitial/VideoAd.activity:Lcom/nexage/android/NexageActivity;
        //   179: invokespecial   android/view/SurfaceView.<init>:(Landroid/content/Context;)V
        //   182: putfield        com/nexage/android/interstitial/VideoAd.surfaceView:Landroid/view/SurfaceView;
        //   185: aload_0        
        //   186: getfield        com/nexage/android/interstitial/VideoAd.surfaceView:Landroid/view/SurfaceView;
        //   189: aload_3        
        //   190: invokevirtual   android/view/SurfaceView.setLayoutParams:(Landroid/view/ViewGroup$LayoutParams;)V
        //   193: aload_0        
        //   194: getfield        com/nexage/android/interstitial/VideoAd.rootLayout:Landroid/widget/RelativeLayout;
        //   197: aload_0        
        //   198: getfield        com/nexage/android/interstitial/VideoAd.surfaceView:Landroid/view/SurfaceView;
        //   201: invokevirtual   android/widget/RelativeLayout.addView:(Landroid/view/View;)V
        //   204: aload_0        
        //   205: aload_0        
        //   206: getfield        com/nexage/android/interstitial/VideoAd.surfaceView:Landroid/view/SurfaceView;
        //   209: invokevirtual   android/view/SurfaceView.getHolder:()Landroid/view/SurfaceHolder;
        //   212: putfield        com/nexage/android/interstitial/VideoAd.surfaceHolder:Landroid/view/SurfaceHolder;
        //   215: aload_0        
        //   216: getfield        com/nexage/android/interstitial/VideoAd.surfaceHolder:Landroid/view/SurfaceHolder;
        //   219: aload_0        
        //   220: invokeinterface android/view/SurfaceHolder.addCallback:(Landroid/view/SurfaceHolder$Callback;)V
        //   225: aload_0        
        //   226: getfield        com/nexage/android/interstitial/VideoAd.surfaceHolder:Landroid/view/SurfaceHolder;
        //   229: iconst_3       
        //   230: invokeinterface android/view/SurfaceHolder.setType:(I)V
        //   235: aload_0        
        //   236: new             Landroid/widget/RelativeLayout;
        //   239: dup            
        //   240: aload_0        
        //   241: getfield        com/nexage/android/interstitial/VideoAd.activity:Lcom/nexage/android/NexageActivity;
        //   244: invokespecial   android/widget/RelativeLayout.<init>:(Landroid/content/Context;)V
        //   247: putfield        com/nexage/android/interstitial/VideoAd.overlay:Landroid/widget/RelativeLayout;
        //   250: aload_0        
        //   251: getfield        com/nexage/android/interstitial/VideoAd.overlay:Landroid/widget/RelativeLayout;
        //   254: aload_3        
        //   255: invokevirtual   android/widget/RelativeLayout.setLayoutParams:(Landroid/view/ViewGroup$LayoutParams;)V
        //   258: aload_0        
        //   259: getfield        com/nexage/android/interstitial/VideoAd.overlay:Landroid/widget/RelativeLayout;
        //   262: iconst_0       
        //   263: iconst_0       
        //   264: iconst_0       
        //   265: iconst_0       
        //   266: invokevirtual   android/widget/RelativeLayout.setPadding:(IIII)V
        //   269: aload_0        
        //   270: getfield        com/nexage/android/interstitial/VideoAd.overlay:Landroid/widget/RelativeLayout;
        //   273: iconst_0       
        //   274: invokevirtual   android/widget/RelativeLayout.setBackgroundColor:(I)V
        //   277: aload_0        
        //   278: getfield        com/nexage/android/interstitial/VideoAd.overlay:Landroid/widget/RelativeLayout;
        //   281: new             Lcom/nexage/android/interstitial/VideoAd$1;
        //   284: dup            
        //   285: aload_0        
        //   286: invokespecial   com/nexage/android/interstitial/VideoAd$1.<init>:(Lcom/nexage/android/interstitial/VideoAd;)V
        //   289: invokevirtual   android/widget/RelativeLayout.setOnClickListener:(Landroid/view/View$OnClickListener;)V
        //   292: ldc2_w          0.4
        //   295: iload_1        
        //   296: iload_2        
        //   297: invokestatic    java/lang/Math.min:(II)I
        //   300: i2d            
        //   301: dmul           
        //   302: d2i            
        //   303: istore          4
        //   305: ldc             "VideoAd"
        //   307: new             Ljava/lang/StringBuilder;
        //   310: dup            
        //   311: ldc_w           "spinner size "
        //   314: invokespecial   java/lang/StringBuilder.<init>:(Ljava/lang/String;)V
        //   317: iload           4
        //   319: invokevirtual   java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
        //   322: invokevirtual   java/lang/StringBuilder.toString:()Ljava/lang/String;
        //   325: invokestatic    com/nexage/android/internal/NexageLog.d:(Ljava/lang/String;Ljava/lang/String;)V
        //   328: new             Landroid/widget/RelativeLayout$LayoutParams;
        //   331: dup            
        //   332: iload           4
        //   334: iload           4
        //   336: invokespecial   android/widget/RelativeLayout$LayoutParams.<init>:(II)V
        //   339: astore          5
        //   341: aload           5
        //   343: bipush          13
        //   345: invokevirtual   android/widget/RelativeLayout$LayoutParams.addRule:(I)V
        //   348: aload_0        
        //   349: new             Landroid/widget/ImageView;
        //   352: dup            
        //   353: aload_0        
        //   354: getfield        com/nexage/android/interstitial/VideoAd.activity:Lcom/nexage/android/NexageActivity;
        //   357: invokespecial   android/widget/ImageView.<init>:(Landroid/content/Context;)V
        //   360: putfield        com/nexage/android/interstitial/VideoAd.spinner:Landroid/widget/ImageView;
        //   363: aload_0        
        //   364: new             Landroid/widget/ImageButton;
        //   367: dup            
        //   368: aload_0        
        //   369: getfield        com/nexage/android/interstitial/VideoAd.activity:Lcom/nexage/android/NexageActivity;
        //   372: invokespecial   android/widget/ImageButton.<init>:(Landroid/content/Context;)V
        //   375: putfield        com/nexage/android/interstitial/VideoAd.spinner:Landroid/widget/ImageView;
        //   378: aload_0        
        //   379: invokevirtual   java/lang/Object.getClass:()Ljava/lang/Class;
        //   382: ldc_w           "assets/spinner.png"
        //   385: invokevirtual   java/lang/Class.getResourceAsStream:(Ljava/lang/String;)Ljava/io/InputStream;
        //   388: astore          6
        //   390: new             Landroid/graphics/drawable/BitmapDrawable;
        //   393: dup            
        //   394: aload_0        
        //   395: getfield        com/nexage/android/interstitial/VideoAd.activity:Lcom/nexage/android/NexageActivity;
        //   398: invokevirtual   com/nexage/android/NexageActivity.getResources:()Landroid/content/res/Resources;
        //   401: aload           6
        //   403: invokespecial   android/graphics/drawable/BitmapDrawable.<init>:(Landroid/content/res/Resources;Ljava/io/InputStream;)V
        //   406: astore          7
        //   408: aload           6
        //   410: invokevirtual   java/io/InputStream.close:()V
        //   413: aload_0        
        //   414: getfield        com/nexage/android/interstitial/VideoAd.spinner:Landroid/widget/ImageView;
        //   417: aload           7
        //   419: invokevirtual   android/widget/ImageView.setImageDrawable:(Landroid/graphics/drawable/Drawable;)V
        //   422: aload_0        
        //   423: getfield        com/nexage/android/interstitial/VideoAd.spinner:Landroid/widget/ImageView;
        //   426: aload           5
        //   428: invokevirtual   android/widget/ImageView.setLayoutParams:(Landroid/view/ViewGroup$LayoutParams;)V
        //   431: aload_0        
        //   432: getfield        com/nexage/android/interstitial/VideoAd.spinner:Landroid/widget/ImageView;
        //   435: getstatic       android/widget/ImageView$ScaleType.CENTER_CROP:Landroid/widget/ImageView$ScaleType;
        //   438: invokevirtual   android/widget/ImageView.setScaleType:(Landroid/widget/ImageView$ScaleType;)V
        //   441: aload_0        
        //   442: getfield        com/nexage/android/interstitial/VideoAd.spinner:Landroid/widget/ImageView;
        //   445: iconst_0       
        //   446: iconst_0       
        //   447: iconst_0       
        //   448: iconst_0       
        //   449: invokevirtual   android/widget/ImageView.setPadding:(IIII)V
        //   452: aload_0        
        //   453: getfield        com/nexage/android/interstitial/VideoAd.spinner:Landroid/widget/ImageView;
        //   456: iconst_0       
        //   457: invokevirtual   android/widget/ImageView.setBackgroundColor:(I)V
        //   460: aload_0        
        //   461: getfield        com/nexage/android/interstitial/VideoAd.overlay:Landroid/widget/RelativeLayout;
        //   464: aload_0        
        //   465: getfield        com/nexage/android/interstitial/VideoAd.spinner:Landroid/widget/ImageView;
        //   468: invokevirtual   android/widget/RelativeLayout.addView:(Landroid/view/View;)V
        //   471: ldc2_w          0.4
        //   474: iload_1        
        //   475: iload_2        
        //   476: invokestatic    java/lang/Math.min:(II)I
        //   479: i2d            
        //   480: dmul           
        //   481: d2i            
        //   482: istore          9
        //   484: ldc             "VideoAd"
        //   486: new             Ljava/lang/StringBuilder;
        //   489: dup            
        //   490: ldc_w           "replay size "
        //   493: invokespecial   java/lang/StringBuilder.<init>:(Ljava/lang/String;)V
        //   496: iload           9
        //   498: invokevirtual   java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
        //   501: invokevirtual   java/lang/StringBuilder.toString:()Ljava/lang/String;
        //   504: invokestatic    com/nexage/android/internal/NexageLog.d:(Ljava/lang/String;Ljava/lang/String;)V
        //   507: new             Landroid/widget/RelativeLayout$LayoutParams;
        //   510: dup            
        //   511: iload           9
        //   513: iload           9
        //   515: invokespecial   android/widget/RelativeLayout$LayoutParams.<init>:(II)V
        //   518: astore          10
        //   520: aload           10
        //   522: bipush          13
        //   524: invokevirtual   android/widget/RelativeLayout$LayoutParams.addRule:(I)V
        //   527: aload_0        
        //   528: new             Landroid/widget/ImageButton;
        //   531: dup            
        //   532: aload_0        
        //   533: getfield        com/nexage/android/interstitial/VideoAd.activity:Lcom/nexage/android/NexageActivity;
        //   536: invokespecial   android/widget/ImageButton.<init>:(Landroid/content/Context;)V
        //   539: putfield        com/nexage/android/interstitial/VideoAd.replayButton:Landroid/widget/ImageButton;
        //   542: aload_0        
        //   543: invokevirtual   java/lang/Object.getClass:()Ljava/lang/Class;
        //   546: ldc_w           "assets/replay.png"
        //   549: invokevirtual   java/lang/Class.getResourceAsStream:(Ljava/lang/String;)Ljava/io/InputStream;
        //   552: astore          11
        //   554: new             Landroid/graphics/drawable/BitmapDrawable;
        //   557: dup            
        //   558: aload_0        
        //   559: getfield        com/nexage/android/interstitial/VideoAd.activity:Lcom/nexage/android/NexageActivity;
        //   562: invokevirtual   com/nexage/android/NexageActivity.getResources:()Landroid/content/res/Resources;
        //   565: aload           11
        //   567: invokespecial   android/graphics/drawable/BitmapDrawable.<init>:(Landroid/content/res/Resources;Ljava/io/InputStream;)V
        //   570: astore          12
        //   572: aload           11
        //   574: invokevirtual   java/io/InputStream.close:()V
        //   577: aload_0        
        //   578: getfield        com/nexage/android/interstitial/VideoAd.replayButton:Landroid/widget/ImageButton;
        //   581: aload           12
        //   583: invokevirtual   android/widget/ImageButton.setImageDrawable:(Landroid/graphics/drawable/Drawable;)V
        //   586: aload_0        
        //   587: getfield        com/nexage/android/interstitial/VideoAd.replayButton:Landroid/widget/ImageButton;
        //   590: aload           10
        //   592: invokevirtual   android/widget/ImageButton.setLayoutParams:(Landroid/view/ViewGroup$LayoutParams;)V
        //   595: aload_0        
        //   596: getfield        com/nexage/android/interstitial/VideoAd.replayButton:Landroid/widget/ImageButton;
        //   599: getstatic       android/widget/ImageView$ScaleType.CENTER_CROP:Landroid/widget/ImageView$ScaleType;
        //   602: invokevirtual   android/widget/ImageButton.setScaleType:(Landroid/widget/ImageView$ScaleType;)V
        //   605: aload_0        
        //   606: getfield        com/nexage/android/interstitial/VideoAd.replayButton:Landroid/widget/ImageButton;
        //   609: iconst_0       
        //   610: iconst_0       
        //   611: iconst_0       
        //   612: iconst_0       
        //   613: invokevirtual   android/widget/ImageButton.setPadding:(IIII)V
        //   616: aload_0        
        //   617: getfield        com/nexage/android/interstitial/VideoAd.replayButton:Landroid/widget/ImageButton;
        //   620: iconst_0       
        //   621: invokevirtual   android/widget/ImageButton.setBackgroundColor:(I)V
        //   624: aload_0        
        //   625: getfield        com/nexage/android/interstitial/VideoAd.replayButton:Landroid/widget/ImageButton;
        //   628: bipush          8
        //   630: invokevirtual   android/widget/ImageButton.setVisibility:(I)V
        //   633: aload_0        
        //   634: getfield        com/nexage/android/interstitial/VideoAd.replayButton:Landroid/widget/ImageButton;
        //   637: new             Lcom/nexage/android/interstitial/VideoAd$2;
        //   640: dup            
        //   641: aload_0        
        //   642: invokespecial   com/nexage/android/interstitial/VideoAd$2.<init>:(Lcom/nexage/android/interstitial/VideoAd;)V
        //   645: invokevirtual   android/widget/ImageButton.setOnClickListener:(Landroid/view/View$OnClickListener;)V
        //   648: aload_0        
        //   649: getfield        com/nexage/android/interstitial/VideoAd.overlay:Landroid/widget/RelativeLayout;
        //   652: aload_0        
        //   653: getfield        com/nexage/android/interstitial/VideoAd.replayButton:Landroid/widget/ImageButton;
        //   656: invokevirtual   android/widget/RelativeLayout.addView:(Landroid/view/View;)V
        //   659: new             Landroid/widget/RelativeLayout$LayoutParams;
        //   662: dup            
        //   663: iconst_m1      
        //   664: bipush          -2
        //   666: invokespecial   android/widget/RelativeLayout$LayoutParams.<init>:(II)V
        //   669: astore          14
        //   671: aload           14
        //   673: bipush          12
        //   675: invokevirtual   android/widget/RelativeLayout$LayoutParams.addRule:(I)V
        //   678: ldc2_w          0.1
        //   681: iload_1        
        //   682: iload_2        
        //   683: invokestatic    java/lang/Math.min:(II)I
        //   686: i2d            
        //   687: dmul           
        //   688: d2i            
        //   689: istore          15
        //   691: ldc             "VideoAd"
        //   693: new             Ljava/lang/StringBuilder;
        //   696: dup            
        //   697: ldc_w           "padding "
        //   700: invokespecial   java/lang/StringBuilder.<init>:(Ljava/lang/String;)V
        //   703: iload           15
        //   705: invokevirtual   java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
        //   708: invokevirtual   java/lang/StringBuilder.toString:()Ljava/lang/String;
        //   711: invokestatic    com/nexage/android/internal/NexageLog.d:(Ljava/lang/String;Ljava/lang/String;)V
        //   714: aload_0        
        //   715: new             Landroid/widget/RelativeLayout;
        //   718: dup            
        //   719: aload_0        
        //   720: getfield        com/nexage/android/interstitial/VideoAd.activity:Lcom/nexage/android/NexageActivity;
        //   723: invokespecial   android/widget/RelativeLayout.<init>:(Landroid/content/Context;)V
        //   726: putfield        com/nexage/android/interstitial/VideoAd.buttonPanel:Landroid/widget/RelativeLayout;
        //   729: aload_0        
        //   730: getfield        com/nexage/android/interstitial/VideoAd.buttonPanel:Landroid/widget/RelativeLayout;
        //   733: aload           14
        //   735: invokevirtual   android/widget/RelativeLayout.setLayoutParams:(Landroid/view/ViewGroup$LayoutParams;)V
        //   738: aload_0        
        //   739: getfield        com/nexage/android/interstitial/VideoAd.buttonPanel:Landroid/widget/RelativeLayout;
        //   742: iload           15
        //   744: iconst_0       
        //   745: iload           15
        //   747: iconst_0       
        //   748: invokevirtual   android/widget/RelativeLayout.setPadding:(IIII)V
        //   751: aload_0        
        //   752: getfield        com/nexage/android/interstitial/VideoAd.buttonPanel:Landroid/widget/RelativeLayout;
        //   755: iconst_0       
        //   756: invokevirtual   android/widget/RelativeLayout.setBackgroundColor:(I)V
        //   759: aload_0        
        //   760: getfield        com/nexage/android/interstitial/VideoAd.overlay:Landroid/widget/RelativeLayout;
        //   763: aload_0        
        //   764: getfield        com/nexage/android/interstitial/VideoAd.buttonPanel:Landroid/widget/RelativeLayout;
        //   767: invokevirtual   android/widget/RelativeLayout.addView:(Landroid/view/View;)V
        //   770: ldc2_w          0.15
        //   773: iload_1        
        //   774: iload_2        
        //   775: invokestatic    java/lang/Math.min:(II)I
        //   778: i2d            
        //   779: dmul           
        //   780: d2i            
        //   781: istore          16
        //   783: ldc             "VideoAd"
        //   785: new             Ljava/lang/StringBuilder;
        //   788: dup            
        //   789: ldc_w           "skip size "
        //   792: invokespecial   java/lang/StringBuilder.<init>:(Ljava/lang/String;)V
        //   795: iload           16
        //   797: invokevirtual   java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
        //   800: invokevirtual   java/lang/StringBuilder.toString:()Ljava/lang/String;
        //   803: invokestatic    com/nexage/android/internal/NexageLog.d:(Ljava/lang/String;Ljava/lang/String;)V
        //   806: new             Landroid/widget/RelativeLayout$LayoutParams;
        //   809: dup            
        //   810: iload           16
        //   812: iload           16
        //   814: invokespecial   android/widget/RelativeLayout$LayoutParams.<init>:(II)V
        //   817: astore          17
        //   819: aload_0        
        //   820: new             Landroid/widget/ImageButton;
        //   823: dup            
        //   824: aload_0        
        //   825: getfield        com/nexage/android/interstitial/VideoAd.activity:Lcom/nexage/android/NexageActivity;
        //   828: invokespecial   android/widget/ImageButton.<init>:(Landroid/content/Context;)V
        //   831: putfield        com/nexage/android/interstitial/VideoAd.skipButton:Landroid/widget/ImageButton;
        //   834: aload_0        
        //   835: invokevirtual   java/lang/Object.getClass:()Ljava/lang/Class;
        //   838: ldc_w           "assets/skip.png"
        //   841: invokevirtual   java/lang/Class.getResourceAsStream:(Ljava/lang/String;)Ljava/io/InputStream;
        //   844: astore          18
        //   846: new             Landroid/graphics/drawable/BitmapDrawable;
        //   849: dup            
        //   850: aload_0        
        //   851: getfield        com/nexage/android/interstitial/VideoAd.activity:Lcom/nexage/android/NexageActivity;
        //   854: invokevirtual   com/nexage/android/NexageActivity.getResources:()Landroid/content/res/Resources;
        //   857: aload           18
        //   859: invokespecial   android/graphics/drawable/BitmapDrawable.<init>:(Landroid/content/res/Resources;Ljava/io/InputStream;)V
        //   862: astore          19
        //   864: aload           18
        //   866: invokevirtual   java/io/InputStream.close:()V
        //   869: aload_0        
        //   870: getfield        com/nexage/android/interstitial/VideoAd.skipButton:Landroid/widget/ImageButton;
        //   873: aload           19
        //   875: invokevirtual   android/widget/ImageButton.setImageDrawable:(Landroid/graphics/drawable/Drawable;)V
        //   878: aload_0        
        //   879: getfield        com/nexage/android/interstitial/VideoAd.skipButton:Landroid/widget/ImageButton;
        //   882: aload           17
        //   884: invokevirtual   android/widget/ImageButton.setLayoutParams:(Landroid/view/ViewGroup$LayoutParams;)V
        //   887: aload_0        
        //   888: getfield        com/nexage/android/interstitial/VideoAd.skipButton:Landroid/widget/ImageButton;
        //   891: getstatic       android/widget/ImageView$ScaleType.CENTER_CROP:Landroid/widget/ImageView$ScaleType;
        //   894: invokevirtual   android/widget/ImageButton.setScaleType:(Landroid/widget/ImageView$ScaleType;)V
        //   897: aload_0        
        //   898: getfield        com/nexage/android/interstitial/VideoAd.skipButton:Landroid/widget/ImageButton;
        //   901: iconst_0       
        //   902: iconst_0       
        //   903: iconst_0       
        //   904: iconst_0       
        //   905: invokevirtual   android/widget/ImageButton.setPadding:(IIII)V
        //   908: aload_0        
        //   909: getfield        com/nexage/android/interstitial/VideoAd.skipButton:Landroid/widget/ImageButton;
        //   912: iconst_0       
        //   913: invokevirtual   android/widget/ImageButton.setBackgroundColor:(I)V
        //   916: aload_0        
        //   917: getfield        com/nexage/android/interstitial/VideoAd.skipButton:Landroid/widget/ImageButton;
        //   920: new             Lcom/nexage/android/interstitial/VideoAd$3;
        //   923: dup            
        //   924: aload_0        
        //   925: invokespecial   com/nexage/android/interstitial/VideoAd$3.<init>:(Lcom/nexage/android/interstitial/VideoAd;)V
        //   928: invokevirtual   android/widget/ImageButton.setOnClickListener:(Landroid/view/View$OnClickListener;)V
        //   931: aload_0        
        //   932: getfield        com/nexage/android/interstitial/VideoAd.buttonPanel:Landroid/widget/RelativeLayout;
        //   935: aload_0        
        //   936: getfield        com/nexage/android/interstitial/VideoAd.skipButton:Landroid/widget/ImageButton;
        //   939: invokevirtual   android/widget/RelativeLayout.addView:(Landroid/view/View;)V
        //   942: ldc2_w          0.15
        //   945: iload_1        
        //   946: iload_2        
        //   947: invokestatic    java/lang/Math.min:(II)I
        //   950: i2d            
        //   951: dmul           
        //   952: d2i            
        //   953: istore          21
        //   955: ldc             "VideoAd"
        //   957: new             Ljava/lang/StringBuilder;
        //   960: dup            
        //   961: ldc_w           "info size "
        //   964: invokespecial   java/lang/StringBuilder.<init>:(Ljava/lang/String;)V
        //   967: iload           21
        //   969: invokevirtual   java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
        //   972: invokevirtual   java/lang/StringBuilder.toString:()Ljava/lang/String;
        //   975: invokestatic    com/nexage/android/internal/NexageLog.d:(Ljava/lang/String;Ljava/lang/String;)V
        //   978: new             Landroid/widget/RelativeLayout$LayoutParams;
        //   981: dup            
        //   982: iload           21
        //   984: iload           21
        //   986: invokespecial   android/widget/RelativeLayout$LayoutParams.<init>:(II)V
        //   989: astore          22
        //   991: aload           22
        //   993: bipush          11
        //   995: invokevirtual   android/widget/RelativeLayout$LayoutParams.addRule:(I)V
        //   998: aload_0        
        //   999: new             Landroid/widget/ImageButton;
        //  1002: dup            
        //  1003: aload_0        
        //  1004: getfield        com/nexage/android/interstitial/VideoAd.activity:Lcom/nexage/android/NexageActivity;
        //  1007: invokespecial   android/widget/ImageButton.<init>:(Landroid/content/Context;)V
        //  1010: putfield        com/nexage/android/interstitial/VideoAd.infoButton:Landroid/widget/ImageButton;
        //  1013: aload_0        
        //  1014: invokevirtual   java/lang/Object.getClass:()Ljava/lang/Class;
        //  1017: ldc_w           "assets/infoDisabled.png"
        //  1020: invokevirtual   java/lang/Class.getResourceAsStream:(Ljava/lang/String;)Ljava/io/InputStream;
        //  1023: astore          23
        //  1025: aload_0        
        //  1026: new             Landroid/graphics/drawable/BitmapDrawable;
        //  1029: dup            
        //  1030: aload_0        
        //  1031: getfield        com/nexage/android/interstitial/VideoAd.activity:Lcom/nexage/android/NexageActivity;
        //  1034: invokevirtual   com/nexage/android/NexageActivity.getResources:()Landroid/content/res/Resources;
        //  1037: aload           23
        //  1039: invokespecial   android/graphics/drawable/BitmapDrawable.<init>:(Landroid/content/res/Resources;Ljava/io/InputStream;)V
        //  1042: putfield        com/nexage/android/interstitial/VideoAd.infoDisabledDrawable:Landroid/graphics/drawable/Drawable;
        //  1045: aload           23
        //  1047: invokevirtual   java/io/InputStream.close:()V
        //  1050: aload_0        
        //  1051: invokevirtual   java/lang/Object.getClass:()Ljava/lang/Class;
        //  1054: ldc_w           "assets/infoEnabled.png"
        //  1057: invokevirtual   java/lang/Class.getResourceAsStream:(Ljava/lang/String;)Ljava/io/InputStream;
        //  1060: astore          25
        //  1062: aload_0        
        //  1063: new             Landroid/graphics/drawable/BitmapDrawable;
        //  1066: dup            
        //  1067: aload_0        
        //  1068: getfield        com/nexage/android/interstitial/VideoAd.activity:Lcom/nexage/android/NexageActivity;
        //  1071: invokevirtual   com/nexage/android/NexageActivity.getResources:()Landroid/content/res/Resources;
        //  1074: aload           25
        //  1076: invokespecial   android/graphics/drawable/BitmapDrawable.<init>:(Landroid/content/res/Resources;Ljava/io/InputStream;)V
        //  1079: putfield        com/nexage/android/interstitial/VideoAd.infoEnabledDrawable:Landroid/graphics/drawable/Drawable;
        //  1082: aload           25
        //  1084: invokevirtual   java/io/InputStream.close:()V
        //  1087: aload_0        
        //  1088: getfield        com/nexage/android/interstitial/VideoAd.infoButton:Landroid/widget/ImageButton;
        //  1091: aload_0        
        //  1092: getfield        com/nexage/android/interstitial/VideoAd.infoDisabledDrawable:Landroid/graphics/drawable/Drawable;
        //  1095: invokevirtual   android/widget/ImageButton.setImageDrawable:(Landroid/graphics/drawable/Drawable;)V
        //  1098: aload_0        
        //  1099: getfield        com/nexage/android/interstitial/VideoAd.infoButton:Landroid/widget/ImageButton;
        //  1102: aload           22
        //  1104: invokevirtual   android/widget/ImageButton.setLayoutParams:(Landroid/view/ViewGroup$LayoutParams;)V
        //  1107: aload_0        
        //  1108: getfield        com/nexage/android/interstitial/VideoAd.infoButton:Landroid/widget/ImageButton;
        //  1111: getstatic       android/widget/ImageView$ScaleType.CENTER_CROP:Landroid/widget/ImageView$ScaleType;
        //  1114: invokevirtual   android/widget/ImageButton.setScaleType:(Landroid/widget/ImageView$ScaleType;)V
        //  1117: aload_0        
        //  1118: getfield        com/nexage/android/interstitial/VideoAd.infoButton:Landroid/widget/ImageButton;
        //  1121: iconst_0       
        //  1122: iconst_0       
        //  1123: iconst_0       
        //  1124: iconst_0       
        //  1125: invokevirtual   android/widget/ImageButton.setPadding:(IIII)V
        //  1128: aload_0        
        //  1129: getfield        com/nexage/android/interstitial/VideoAd.infoButton:Landroid/widget/ImageButton;
        //  1132: iconst_0       
        //  1133: invokevirtual   android/widget/ImageButton.setBackgroundColor:(I)V
        //  1136: aload_0        
        //  1137: getfield        com/nexage/android/interstitial/VideoAd.infoButton:Landroid/widget/ImageButton;
        //  1140: iconst_0       
        //  1141: invokevirtual   android/widget/ImageButton.setEnabled:(Z)V
        //  1144: aload_0        
        //  1145: getfield        com/nexage/android/interstitial/VideoAd.infoButton:Landroid/widget/ImageButton;
        //  1148: new             Lcom/nexage/android/interstitial/VideoAd$4;
        //  1151: dup            
        //  1152: aload_0        
        //  1153: invokespecial   com/nexage/android/interstitial/VideoAd$4.<init>:(Lcom/nexage/android/interstitial/VideoAd;)V
        //  1156: invokevirtual   android/widget/ImageButton.setOnClickListener:(Landroid/view/View$OnClickListener;)V
        //  1159: aload_0        
        //  1160: getfield        com/nexage/android/interstitial/VideoAd.buttonPanel:Landroid/widget/RelativeLayout;
        //  1163: aload_0        
        //  1164: getfield        com/nexage/android/interstitial/VideoAd.infoButton:Landroid/widget/ImageButton;
        //  1167: invokevirtual   android/widget/RelativeLayout.addView:(Landroid/view/View;)V
        //  1170: aload_0        
        //  1171: getfield        com/nexage/android/interstitial/VideoAd.rootLayout:Landroid/widget/RelativeLayout;
        //  1174: aload_0        
        //  1175: getfield        com/nexage/android/interstitial/VideoAd.overlay:Landroid/widget/RelativeLayout;
        //  1178: invokevirtual   android/widget/RelativeLayout.addView:(Landroid/view/View;)V
        //  1181: aload_0        
        //  1182: getfield        com/nexage/android/interstitial/VideoAd.activity:Lcom/nexage/android/NexageActivity;
        //  1185: aload_0        
        //  1186: getfield        com/nexage/android/interstitial/VideoAd.rootLayout:Landroid/widget/RelativeLayout;
        //  1189: invokevirtual   com/nexage/android/NexageActivity.setContentView:(Landroid/view/View;)V
        //  1192: aload_0        
        //  1193: invokespecial   com/nexage/android/interstitial/VideoAd.createAnimations:()V
        //  1196: aload_0        
        //  1197: invokespecial   com/nexage/android/interstitial/VideoAd.startSpinner:()V
        //  1200: aload_0        
        //  1201: invokespecial   com/nexage/android/interstitial/VideoAd.startLoadingTimer:()V
        //  1204: aload_0        
        //  1205: invokespecial   com/nexage/android/interstitial/VideoAd.restartHidePanelTimer:()V
        //  1208: return         
        //  1209: astore          8
        //  1211: goto            413
        //  1214: astore          13
        //  1216: goto            577
        //  1219: astore          20
        //  1221: goto            869
        //  1224: astore          24
        //  1226: goto            1050
        //  1229: astore          26
        //  1231: goto            1087
        //    Exceptions:
        //  Try           Handler
        //  Start  End    Start  End    Type                 
        //  -----  -----  -----  -----  ---------------------
        //  408    413    1209   1214   Ljava/io/IOException;
        //  572    577    1214   1219   Ljava/io/IOException;
        //  864    869    1219   1224   Ljava/io/IOException;
        //  1045   1050   1224   1229   Ljava/io/IOException;
        //  1082   1087   1229   1234   Ljava/io/IOException;
        // 
        // The error that occurred was:
        // 
        // java.lang.IndexOutOfBoundsException: Index: 576, Size: 576
        //     at java.util.ArrayList.rangeCheck(ArrayList.java:653)
        //     at java.util.ArrayList.get(ArrayList.java:429)
        //     at com.strobel.decompiler.ast.AstBuilder.convertToAst(AstBuilder.java:3303)
        //     at com.strobel.decompiler.ast.AstBuilder.build(AstBuilder.java:113)
        //     at com.strobel.decompiler.languages.java.ast.AstMethodBodyBuilder.createMethodBody(AstMethodBodyBuilder.java:210)
        //     at com.strobel.decompiler.languages.java.ast.AstMethodBodyBuilder.createMethodBody(AstMethodBodyBuilder.java:99)
        //     at com.strobel.decompiler.languages.java.ast.AstBuilder.createMethodBody(AstBuilder.java:757)
        //     at com.strobel.decompiler.languages.java.ast.AstBuilder.createMethod(AstBuilder.java:655)
        //     at com.strobel.decompiler.languages.java.ast.AstBuilder.addTypeMembers(AstBuilder.java:532)
        //     at com.strobel.decompiler.languages.java.ast.AstBuilder.createTypeCore(AstBuilder.java:499)
        //     at com.strobel.decompiler.languages.java.ast.AstBuilder.createTypeNoCache(AstBuilder.java:141)
        //     at com.strobel.decompiler.languages.java.ast.AstBuilder.createType(AstBuilder.java:130)
        //     at com.strobel.decompiler.languages.java.ast.AstBuilder.addType(AstBuilder.java:105)
        //     at com.strobel.decompiler.languages.java.JavaLanguage.buildAst(JavaLanguage.java:71)
        //     at com.strobel.decompiler.languages.java.JavaLanguage.decompileType(JavaLanguage.java:59)
        //     at com.strobel.decompiler.DecompilerDriver.decompileType(DecompilerDriver.java:317)
        //     at com.strobel.decompiler.DecompilerDriver.decompileJar(DecompilerDriver.java:238)
        //     at com.strobel.decompiler.DecompilerDriver.main(DecompilerDriver.java:123)
        // 
        throw new IllegalStateException("An error occurred while decompiling this method.");
    }
    
    private void fireEvent(final String s) {
        NexageLog.i("VideoAd", "fireEvent " + s);
        final List eventURLs = this.vastDoc.getEventURLs(s);
        if (eventURLs != null) {
            NexageLog.i("VideoAd", "eventList size " + eventURLs.size());
            final Iterator<String> iterator = eventURLs.iterator();
            while (iterator.hasNext()) {
                this.fireURL(iterator.next(), s);
            }
        }
        else {
            NexageLog.i("VideoAd", "eventList is null");
        }
    }
    
    private void fireURL(final String s, final String s2) {
        new Thread() {
            @Override
            public void run() {
                // 
                // This method could not be decompiled.
                // 
                // Original Bytecode:
                // 
                //     0: aconst_null    
                //     1: astore_1       
                //     2: ldc             "VideoAd"
                //     4: new             Ljava/lang/StringBuilder;
                //     7: dup            
                //     8: ldc             "fireURL event: "
                //    10: invokespecial   java/lang/StringBuilder.<init>:(Ljava/lang/String;)V
                //    13: aload_0        
                //    14: getfield        com/nexage/android/interstitial/VideoAd$10.val$name:Ljava/lang/String;
                //    17: invokevirtual   java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
                //    20: ldc             ", url: "
                //    22: invokevirtual   java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
                //    25: aload_0        
                //    26: getfield        com/nexage/android/interstitial/VideoAd$10.val$urlStr:Ljava/lang/String;
                //    29: invokevirtual   java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
                //    32: invokevirtual   java/lang/StringBuilder.toString:()Ljava/lang/String;
                //    35: invokestatic    com/nexage/android/internal/NexageLog.d:(Ljava/lang/String;Ljava/lang/String;)V
                //    38: new             Ljava/net/URL;
                //    41: dup            
                //    42: aload_0        
                //    43: getfield        com/nexage/android/interstitial/VideoAd$10.val$urlStr:Ljava/lang/String;
                //    46: invokespecial   java/net/URL.<init>:(Ljava/lang/String;)V
                //    49: astore          6
                //    51: iconst_1       
                //    52: invokestatic    java/net/HttpURLConnection.setFollowRedirects:(Z)V
                //    55: aload           6
                //    57: invokevirtual   java/net/URL.openConnection:()Ljava/net/URLConnection;
                //    60: checkcast       Ljava/net/HttpURLConnection;
                //    63: astore          7
                //    65: aload           7
                //    67: sipush          5000
                //    70: invokevirtual   java/net/HttpURLConnection.setConnectTimeout:(I)V
                //    73: aload           7
                //    75: ldc             "Connection"
                //    77: ldc             "close"
                //    79: invokevirtual   java/net/HttpURLConnection.setRequestProperty:(Ljava/lang/String;Ljava/lang/String;)V
                //    82: aload           7
                //    84: ldc             "GET"
                //    86: invokevirtual   java/net/HttpURLConnection.setRequestMethod:(Ljava/lang/String;)V
                //    89: getstatic       com/nexage/android/internal/NexageContext.s_UserAgent:Ljava/lang/String;
                //    92: ifnull          114
                //    95: getstatic       com/nexage/android/internal/NexageContext.s_UserAgent:Ljava/lang/String;
                //    98: invokevirtual   java/lang/String.length:()I
                //   101: ifle            114
                //   104: aload           7
                //   106: ldc             "User-Agent"
                //   108: getstatic       com/nexage/android/internal/NexageContext.s_UserAgent:Ljava/lang/String;
                //   111: invokevirtual   java/net/HttpURLConnection.setRequestProperty:(Ljava/lang/String;Ljava/lang/String;)V
                //   114: aload           7
                //   116: invokevirtual   java/net/HttpURLConnection.getResponseCode:()I
                //   119: istore          10
                //   121: ldc             "VideoAd"
                //   123: new             Ljava/lang/StringBuilder;
                //   126: dup            
                //   127: ldc             "fireURL event: "
                //   129: invokespecial   java/lang/StringBuilder.<init>:(Ljava/lang/String;)V
                //   132: aload_0        
                //   133: getfield        com/nexage/android/interstitial/VideoAd$10.val$name:Ljava/lang/String;
                //   136: invokevirtual   java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
                //   139: ldc             ", response: "
                //   141: invokevirtual   java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
                //   144: iload           10
                //   146: invokevirtual   java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
                //   149: invokevirtual   java/lang/StringBuilder.toString:()Ljava/lang/String;
                //   152: invokestatic    com/nexage/android/internal/NexageLog.d:(Ljava/lang/String;Ljava/lang/String;)V
                //   155: aload           7
                //   157: ifnull          165
                //   160: aload           7
                //   162: invokevirtual   java/net/HttpURLConnection.disconnect:()V
                //   165: return         
                //   166: astore          4
                //   168: aload_0        
                //   169: getfield        com/nexage/android/interstitial/VideoAd$10.this$0:Lcom/nexage/android/interstitial/VideoAd;
                //   172: invokevirtual   com/nexage/android/interstitial/VideoAd.getPosition:()Ljava/lang/String;
                //   175: new             Ljava/lang/StringBuilder;
                //   178: dup            
                //   179: invokespecial   java/lang/StringBuilder.<init>:()V
                //   182: aload_0        
                //   183: getfield        com/nexage/android/interstitial/VideoAd$10.val$urlStr:Ljava/lang/String;
                //   186: invokevirtual   java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
                //   189: ldc             ": "
                //   191: invokevirtual   java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
                //   194: aload           4
                //   196: invokevirtual   java/lang/Exception.getMessage:()Ljava/lang/String;
                //   199: invokevirtual   java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
                //   202: ldc             ":"
                //   204: invokevirtual   java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
                //   207: aload           4
                //   209: invokevirtual   java/lang/Exception.toString:()Ljava/lang/String;
                //   212: invokevirtual   java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
                //   215: invokevirtual   java/lang/StringBuilder.toString:()Ljava/lang/String;
                //   218: invokestatic    com/nexage/android/internal/NexageLog.w:(Ljava/lang/String;Ljava/lang/String;)V
                //   221: aload_1        
                //   222: ifnull          165
                //   225: aload_1        
                //   226: invokevirtual   java/net/HttpURLConnection.disconnect:()V
                //   229: return         
                //   230: astore          5
                //   232: return         
                //   233: astore_2       
                //   234: aload_1        
                //   235: ifnull          242
                //   238: aload_1        
                //   239: invokevirtual   java/net/HttpURLConnection.disconnect:()V
                //   242: aload_2        
                //   243: athrow         
                //   244: astore          11
                //   246: return         
                //   247: astore_3       
                //   248: goto            242
                //   251: astore          9
                //   253: aload           7
                //   255: astore_1       
                //   256: aload           9
                //   258: astore_2       
                //   259: goto            234
                //   262: astore          8
                //   264: aload           7
                //   266: astore_1       
                //   267: aload           8
                //   269: astore          4
                //   271: goto            168
                //    Exceptions:
                //  Try           Handler
                //  Start  End    Start  End    Type                 
                //  -----  -----  -----  -----  ---------------------
                //  2      65     166    168    Ljava/lang/Exception;
                //  2      65     233    234    Any
                //  65     114    262    274    Ljava/lang/Exception;
                //  65     114    251    262    Any
                //  114    155    262    274    Ljava/lang/Exception;
                //  114    155    251    262    Any
                //  160    165    244    247    Ljava/lang/Exception;
                //  168    221    233    234    Any
                //  225    229    230    233    Ljava/lang/Exception;
                //  238    242    247    251    Ljava/lang/Exception;
                // 
                // The error that occurred was:
                // 
                // java.lang.IllegalStateException: Expression is linked from several locations: Label_0114:
                //     at com.strobel.decompiler.ast.Error.expressionLinkedFromMultipleLocations(Error.java:27)
                //     at com.strobel.decompiler.ast.AstOptimizer.mergeDisparateObjectInitializations(AstOptimizer.java:2592)
                //     at com.strobel.decompiler.ast.AstOptimizer.optimize(AstOptimizer.java:235)
                //     at com.strobel.decompiler.ast.AstOptimizer.optimize(AstOptimizer.java:42)
                //     at com.strobel.decompiler.languages.java.ast.AstMethodBodyBuilder.createMethodBody(AstMethodBodyBuilder.java:214)
                //     at com.strobel.decompiler.languages.java.ast.AstMethodBodyBuilder.createMethodBody(AstMethodBodyBuilder.java:99)
                //     at com.strobel.decompiler.languages.java.ast.AstBuilder.createMethodBody(AstBuilder.java:757)
                //     at com.strobel.decompiler.languages.java.ast.AstBuilder.createMethod(AstBuilder.java:655)
                //     at com.strobel.decompiler.languages.java.ast.AstBuilder.addTypeMembers(AstBuilder.java:532)
                //     at com.strobel.decompiler.languages.java.ast.AstBuilder.createTypeCore(AstBuilder.java:499)
                //     at com.strobel.decompiler.languages.java.ast.AstBuilder.createTypeNoCache(AstBuilder.java:141)
                //     at com.strobel.decompiler.languages.java.ast.AstBuilder.createType(AstBuilder.java:130)
                //     at com.strobel.decompiler.languages.java.ast.AstMethodBodyBuilder.transformCall(AstMethodBodyBuilder.java:1163)
                //     at com.strobel.decompiler.languages.java.ast.AstMethodBodyBuilder.transformByteCode(AstMethodBodyBuilder.java:1010)
                //     at com.strobel.decompiler.languages.java.ast.AstMethodBodyBuilder.transformExpression(AstMethodBodyBuilder.java:540)
                //     at com.strobel.decompiler.languages.java.ast.AstMethodBodyBuilder.transformByteCode(AstMethodBodyBuilder.java:554)
                //     at com.strobel.decompiler.languages.java.ast.AstMethodBodyBuilder.transformExpression(AstMethodBodyBuilder.java:540)
                //     at com.strobel.decompiler.languages.java.ast.AstMethodBodyBuilder.transformNode(AstMethodBodyBuilder.java:392)
                //     at com.strobel.decompiler.languages.java.ast.AstMethodBodyBuilder.transformBlock(AstMethodBodyBuilder.java:333)
                //     at com.strobel.decompiler.languages.java.ast.AstMethodBodyBuilder.createMethodBody(AstMethodBodyBuilder.java:294)
                //     at com.strobel.decompiler.languages.java.ast.AstMethodBodyBuilder.createMethodBody(AstMethodBodyBuilder.java:99)
                //     at com.strobel.decompiler.languages.java.ast.AstBuilder.createMethodBody(AstBuilder.java:757)
                //     at com.strobel.decompiler.languages.java.ast.AstBuilder.createMethod(AstBuilder.java:655)
                //     at com.strobel.decompiler.languages.java.ast.AstBuilder.addTypeMembers(AstBuilder.java:532)
                //     at com.strobel.decompiler.languages.java.ast.AstBuilder.createTypeCore(AstBuilder.java:499)
                //     at com.strobel.decompiler.languages.java.ast.AstBuilder.createTypeNoCache(AstBuilder.java:141)
                //     at com.strobel.decompiler.languages.java.ast.AstBuilder.createType(AstBuilder.java:130)
                //     at com.strobel.decompiler.languages.java.ast.AstBuilder.addType(AstBuilder.java:105)
                //     at com.strobel.decompiler.languages.java.JavaLanguage.buildAst(JavaLanguage.java:71)
                //     at com.strobel.decompiler.languages.java.JavaLanguage.decompileType(JavaLanguage.java:59)
                //     at com.strobel.decompiler.DecompilerDriver.decompileType(DecompilerDriver.java:317)
                //     at com.strobel.decompiler.DecompilerDriver.decompileJar(DecompilerDriver.java:238)
                //     at com.strobel.decompiler.DecompilerDriver.main(DecompilerDriver.java:123)
                // 
                throw new IllegalStateException("An error occurred while decompiling this method.");
            }
        }.start();
    }
    
    private void infoClicked() {
        NexageLog.d("VideoAd", "infoClicked");
        this.fireEvent("ClickTracking");
        this.cleanUp();
        if (this.addClickToReport()) {
            this.nexageContext.clicked();
        }
        NexageContext.lauchBrowser(this.vastDoc.m_ClickThroughURL, this.getPosition());
        this.activity.finish();
    }
    
    private void overlayClicked() {
        NexageLog.d("VideoAd", "overlayClicked");
        this.buttonPanel.setVisibility(0);
        if (this.mediaPlayer.isPlaying()) {
            this.restartHidePanelTimer();
        }
    }
    
    private void prepareVideoPlayback() {
        NexageLog.i("VideoAd", "prepareVideoPlayback");
        final Display defaultDisplay = this.activity.getWindowManager().getDefaultDisplay();
        final int width = defaultDisplay.getWidth();
        final int height = defaultDisplay.getHeight();
        final double n = 1.0 * width / this.videoWidth;
        final double n2 = 1.0 * height / this.videoHeight;
        final double min = Math.min(n, n2);
        final int n3 = (int)(min * this.videoWidth);
        final int n4 = (int)(min * this.videoHeight);
        NexageLog.d("VideoAd", "screen " + width + "x" + height);
        NexageLog.d("VideoAd", "video  " + this.videoWidth + "x" + this.videoHeight);
        NexageLog.d("VideoAd", "widthRatio   " + n);
        NexageLog.d("VideoAd", "heightRatio   " + n2);
        NexageLog.d("VideoAd", "surface " + n3 + "x" + n4);
        final RelativeLayout$LayoutParams layoutParams = new RelativeLayout$LayoutParams(n3, n4);
        layoutParams.addRule(13);
        this.surfaceView.setLayoutParams((ViewGroup$LayoutParams)layoutParams);
        this.surfaceHolder.setFixedSize(n3, n4);
        this.startPlayback();
    }
    
    private void replayClicked() {
        NexageLog.d("VideoAd", "replayClicked");
        this.stopDismissTimer();
        this.replayButton.setVisibility(8);
        this.startPlayback();
    }
    
    private void restartHidePanelTimer() {
        NexageLog.d("VideoAd", "restartHidePanelTimer");
        this.stopHidePanelTimer();
        (this.hidePanelTimer = new Timer()).schedule(new TimerTask() {
            @Override
            public void run() {
                VideoAd.this.handler.post((Runnable)new Runnable() {
                    @Override
                    public void run() {
                        NexageLog.d("VideoAd", "hiding buttons");
                        VideoAd.this.buttonPanel.startAnimation(VideoAd.this.fadeAnimation);
                    }
                });
            }
        }, 4000L);
    }
    
    private void skipClicked() {
        synchronized (this) {
            NexageLog.d("VideoAd", "skipClicked");
            this.activity.finish();
        }
    }
    
    private void startDismissTimer() {
        NexageLog.d("VideoAd", "startDismissTimer");
        this.stopDismissTimer();
        (this.dismissTimer = new Timer()).schedule(new TimerTask() {
            @Override
            public void run() {
                NexageLog.d("VideoAd", "auto-dismissing");
                VideoAd.this.skipClicked();
            }
        }, 5000L);
    }
    
    private void startLoadingTimer() {
        NexageLog.d("VideoAd", "startLoadingTimer");
        this.stopLoadingTimer();
        (this.loadingTimer = new Timer()).schedule(new TimerTask() {
            @Override
            public void run() {
                VideoAd.this.handler.post((Runnable)new Runnable() {
                    @Override
                    public void run() {
                        NexageLog.d("VideoAd", "loading timeout");
                        VideoAd.this.skipClicked();
                    }
                });
            }
        }, 10000L);
    }
    
    private void startPlayback() {
        NexageLog.d("VideoAd", "startPlayback");
        this.restartHidePanelTimer();
        this.stopSpinner();
        this.mediaPlayer.start();
        this.isAdViewed = true;
        if (!this.isReplaying) {
            this.fireEvent("Impression");
            this.addDisplayToReport();
            this.startQuartileTimer();
        }
    }
    
    private void startQuartileTimer() {
        NexageLog.d("VideoAd", "startQuartileTimer");
        this.stopQuartileTimer();
        this.quartile = 0;
        (this.quartileTimer = new Timer()).scheduleAtFixedRate(new TimerTask() {
            @Override
            public void run() {
                while (true) {
                    while (true) {
                        int n;
                        try {
                            final int currentPosition = VideoAd.this.mediaPlayer.getCurrentPosition();
                            if (currentPosition == 0) {
                                return;
                            }
                            n = currentPosition * 100 / VideoAd.this.videoDuration;
                            if (n < 25 * VideoAd.this.quartile) {
                                break;
                            }
                            if (VideoAd.this.quartile == 0) {
                                NexageLog.i("VideoAd", "video at start (" + n + "%)");
                                VideoAd.this.fireEvent("start");
                                VideoAd.this.quartile++;
                                return;
                            }
                        }
                        catch (Exception ex) {
                            NexageLog.w("VideoAd", "videoView.getCurrentPosition problem: " + ex.getMessage());
                            this.cancel();
                            return;
                        }
                        if (VideoAd.this.quartile == 1) {
                            NexageLog.i("VideoAd", "video at first quartile (" + n + "%)");
                            VideoAd.this.fireEvent("firstQuartile");
                            continue;
                        }
                        if (VideoAd.this.quartile == 2) {
                            NexageLog.i("VideoAd", "video at midpoint (" + n + "%)");
                            VideoAd.this.fireEvent("midpoint");
                            continue;
                        }
                        if (VideoAd.this.quartile == 3) {
                            NexageLog.i("VideoAd", "video at third quartile (" + n + "%)");
                            VideoAd.this.fireEvent("thirdQuartile");
                            VideoAd.this.stopQuartileTimer();
                            continue;
                        }
                        continue;
                    }
                }
            }
        }, 0L, 250L);
    }
    
    private void startSpinner() {
        this.spinner.startAnimation(this.spinAnimation);
    }
    
    private void stopDismissTimer() {
        NexageLog.d("VideoAd", "stopDismissTimer");
        if (this.dismissTimer != null) {
            this.dismissTimer.cancel();
            this.dismissTimer = null;
        }
    }
    
    private void stopHidePanelTimer() {
        if (this.hidePanelTimer != null) {
            this.hidePanelTimer.cancel();
            this.hidePanelTimer = null;
        }
    }
    
    private void stopLoadingTimer() {
        NexageLog.d("VideoAd", "stopLoadingTimer");
        if (this.loadingTimer != null) {
            this.loadingTimer.cancel();
            this.loadingTimer = null;
        }
    }
    
    private void stopQuartileTimer() {
        if (this.quartileTimer != null) {
            this.quartileTimer.cancel();
            this.quartileTimer = null;
        }
    }
    
    private void stopSpinner() {
        this.spinner.clearAnimation();
        this.spinner.setVisibility(8);
    }
    
    public void cleanUp() {
        synchronized (this) {
            NexageLog.i("VideoAd", "cleanUp");
            this.stopQuartileTimer();
            this.stopLoadingTimer();
            this.stopDismissTimer();
            this.stopHidePanelTimer();
            this.stopSpinner();
            if (this.mediaPlayer != null) {
                NexageLog.i("VideoAd", "cleaning up mediaPlayer");
                if (this.mediaPlayer.isPlaying()) {
                    NexageLog.i("VideoAd", "stopping mediaPlayer");
                    this.mediaPlayer.stop();
                }
                this.mediaPlayer.setOnCompletionListener((MediaPlayer$OnCompletionListener)null);
                this.mediaPlayer.setOnErrorListener((MediaPlayer$OnErrorListener)null);
                this.mediaPlayer.setOnPreparedListener((MediaPlayer$OnPreparedListener)null);
                this.mediaPlayer.setOnVideoSizeChangedListener((MediaPlayer$OnVideoSizeChangedListener)null);
                this.mediaPlayer.release();
                this.mediaPlayer = null;
            }
        }
    }
    
    public void dismiss() {
        NexageLog.d("VideoAd", "dismiss");
    }
    
    @Override
    public AdLayout getLayout(final Activity activity) {
        return this.videoLayout;
    }
    
    @Override
    public void init(final NexageActivity activity) {
        NexageLog.d("VideoAd", "init");
        (this.activity = activity).setRequestedOrientation(0);
        this.handler = new Handler();
        this.createUi();
    }
    
    public void onCompletion(final MediaPlayer mediaPlayer) {
        NexageLog.d("VideoAd", "onCompletion");
        this.stopHidePanelTimer();
        this.buttonPanel.clearAnimation();
        this.replayButton.setVisibility(0);
        if (!this.isReplaying) {
            NexageLog.d("VideoAd", "clickThroughURL " + this.vastDoc.m_ClickThroughURL);
            if (this.vastDoc.m_ClickThroughURL != null && this.vastDoc.m_ClickThroughURL.length() > 10) {
                this.infoButton.setImageDrawable(this.infoEnabledDrawable);
                this.infoButton.setEnabled(true);
            }
            this.isReplaying = true;
            this.fireEvent("complete");
        }
        this.buttonPanel.setVisibility(0);
        this.startDismissTimer();
        NexageLog.i("VideoAd", "video at end");
    }
    
    public boolean onError(final MediaPlayer mediaPlayer, final int n, final int n2) {
        NexageLog.e("VideoAd", "onError: " + n + "," + n2);
        this.skipClicked();
        return true;
    }
    
    public void onPrepared(final MediaPlayer mediaPlayer) {
        NexageLog.d("VideoAd", "onPrepared");
        this.isVideoPrepared = true;
        this.videoDuration = mediaPlayer.getDuration();
        NexageLog.i("VideoAd", "video duration " + this.videoDuration);
        if (this.isVideoSizeKnown) {
            this.stopLoadingTimer();
            this.prepareVideoPlayback();
        }
    }
    
    public void onVideoSizeChanged(final MediaPlayer mediaPlayer, final int videoWidth, final int videoHeight) {
        NexageLog.d("VideoAd", "onVideoSizeChanged " + videoWidth + "x" + videoHeight);
        if (videoWidth == 0 || videoHeight == 0) {
            NexageLog.e("VideoAd", "invalid video width(" + videoWidth + ") or height(" + videoHeight + ")");
        }
        else {
            if (this.isVideoSizeKnown && videoWidth == this.videoWidth && videoHeight == this.videoHeight) {
                NexageLog.d("VideoAd", "onVideoSizeChanged already called with same width and height");
                return;
            }
            this.isVideoSizeKnown = true;
            this.videoWidth = videoWidth;
            this.videoHeight = videoHeight;
            if (this.isVideoPrepared) {
                this.stopLoadingTimer();
                this.prepareVideoPlayback();
            }
        }
    }
    
    public int prepare(final InputStream inputStream) {
        NexageLog.d("VideoAd", "prepare");
        try {
            this.vastDoc = new VASTDocument(inputStream);
            this.url = this.vastDoc.getVideoURL(this.getPosition());
            NexageLog.d("VideoAd", "url: " + this.url);
            if (this.url == null || this.url.length() < 10) {
                return -1;
            }
        }
        catch (Exception ex) {
            NexageLog.e("VideoAd", "prepare caught exception: ", ex);
            return -3;
        }
        return 1;
    }
    
    @Override
    public int prepare(final String s) {
        return this.prepare(new ByteArrayInputStream(s.getBytes()));
    }
    
    public void surfaceChanged(final SurfaceHolder surfaceHolder, final int n, final int n2, final int n3) {
        NexageLog.d("VideoAd", "surfaceChanged " + n2 + "x" + n3);
    }
    
    public void surfaceCreated(final SurfaceHolder surfaceHolder) {
        NexageLog.d("VideoAd", "surfaceCreated");
        try {
            this.mediaPlayer.setDisplay(this.surfaceHolder);
            this.mediaPlayer.setDataSource(this.url);
            this.mediaPlayer.prepareAsync();
        }
        catch (Exception ex) {
            NexageLog.e("VideoAd", "VideoAd caught exception", ex);
        }
    }
    
    public void surfaceDestroyed(final SurfaceHolder surfaceHolder) {
        NexageLog.d("VideoAd", "surfaceDestroyed");
        this.cleanUp();
        if (!this.isReplaying && this.isAdViewed) {
            this.fireEvent("close");
        }
    }
}
