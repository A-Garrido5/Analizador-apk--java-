// 
// Decompiled by Procyon v0.5.30
// 

package com.nexage.android.interstitial;

import java.util.Iterator;
import android.view.View;
import android.view.ViewGroup;
import com.nexage.android.NexageActivity;
import com.nexage.android.internal.NexageLog;
import android.app.PendingIntent;
import android.content.Intent;
import android.app.Activity;
import com.nexage.android.internal.Ad;
import java.util.ArrayList;

public class InterstitialLayout
{
    private static ArrayList s_List;
    private static volatile int s_Sequence;
    private Ad m_Ad;
    public Activity m_AppActivity;
    private Runnable m_DisplayTask;
    private int m_ID;
    private Intent m_Intent;
    public Intent m_IntentData;
    public PendingIntent m_PendingResult;
    private InterstitialLayout$InterstitialType m_Type;
    private InterstitialView m_View;
    
    static {
        InterstitialLayout.s_Sequence = 0;
        InterstitialLayout.s_List = new ArrayList();
    }
    
    public InterstitialLayout(final String s) {
    }
    
    private boolean add() {
        NexageLog.i("add method not implemented");
        return false;
    }
    
    public static InterstitialLayout display(final NexageActivity nexageActivity, final int n) {
        while (true) {
        Label_0043:
            while (true) {
                Label_0270: {
                    while (true) {
                        InterstitialLayout interstitialLayout = null;
                        Label_0225: {
                            Label_0194: {
                                Label_0182: {
                                    synchronized (InterstitialLayout.class) {
                                        final Iterator<InterstitialLayout> iterator = InterstitialLayout.s_List.iterator();
                                        while (iterator.hasNext()) {
                                            interstitialLayout = iterator.next();
                                            if (n == interstitialLayout.m_ID) {
                                                break Label_0043;
                                            }
                                        }
                                        break Label_0270;
                                        if (interstitialLayout == null) {
                                            interstitialLayout = null;
                                        }
                                        else {
                                            if (interstitialLayout.m_DisplayTask != null) {
                                                interstitialLayout.m_DisplayTask.run();
                                            }
                                            interstitialLayout.m_ID = -2;
                                            InterstitialLayout.s_List.remove(interstitialLayout);
                                            switch (interstitialLayout.m_Type) {
                                                default: {
                                                    interstitialLayout.m_IntentData = new Intent();
                                                    interstitialLayout.m_PendingResult = interstitialLayout.m_AppActivity.createPendingResult(0, interstitialLayout.m_IntentData, 1073741824);
                                                    interstitialLayout.m_IntentData.putExtra("com.nexage.NexageActivity", true);
                                                    break;
                                                }
                                                case View: {
                                                    break Label_0182;
                                                }
                                                case Extern: {
                                                    break Label_0194;
                                                }
                                                case Video: {
                                                    break Label_0225;
                                                }
                                            }
                                        }
                                        return interstitialLayout;
                                    }
                                }
                                nexageActivity.setInterstitialContentView((ViewGroup)interstitialLayout.m_View);
                                continue;
                            }
                            interstitialLayout.m_Ad.init(nexageActivity);
                            if (interstitialLayout.m_Intent != null) {
                                nexageActivity.startActivityForResult(interstitialLayout.m_Intent, 134217728);
                                continue;
                            }
                            continue;
                        }
                        interstitialLayout.m_Ad.init(nexageActivity);
                        interstitialLayout.m_View.addView(interstitialLayout.m_Ad.getLayout(nexageActivity).getView());
                        nexageActivity.setContentView((View)interstitialLayout.m_View);
                        continue;
                    }
                }
                InterstitialLayout interstitialLayout = null;
                continue Label_0043;
            }
        }
    }
    
    private void init(final Activity appActivity, final Intent intent, final Ad ad) {
        final int s_Sequence = InterstitialLayout.s_Sequence;
        InterstitialLayout.s_Sequence = s_Sequence + 1;
        this.m_ID = s_Sequence;
        this.m_Intent = intent;
        this.m_Ad = ad;
        this.m_Type = InterstitialLayout$InterstitialType.Extern;
        this.m_AppActivity = appActivity;
    }
    
    private void init(final Activity appActivity, final InterstitialView view) {
        final int s_Sequence = InterstitialLayout.s_Sequence;
        InterstitialLayout.s_Sequence = s_Sequence + 1;
        this.m_ID = s_Sequence;
        this.m_View = view;
        this.m_Type = InterstitialLayout$InterstitialType.View;
        this.m_AppActivity = appActivity;
    }
    
    private void init(final Activity appActivity, final InterstitialView view, final VideoAd ad) {
        final int s_Sequence = InterstitialLayout.s_Sequence;
        InterstitialLayout.s_Sequence = s_Sequence + 1;
        this.m_ID = s_Sequence;
        this.m_View = view;
        this.m_Ad = ad;
        this.m_Type = InterstitialLayout$InterstitialType.Video;
        this.m_AppActivity = appActivity;
    }
    
    public boolean add(final Activity activity, final Intent intent, final Ad ad) {
        synchronized (this) {
            this.init(activity, intent, ad);
            return this.add();
        }
    }
    
    public boolean add(final Activity activity, final InterstitialView interstitialView) {
        synchronized (this) {
            this.init(activity, interstitialView);
            return this.add();
        }
    }
    
    public boolean add(final Activity activity, final InterstitialView interstitialView, final VideoAd videoAd) {
        synchronized (this) {
            this.init(activity, interstitialView, videoAd);
            return this.add();
        }
    }
    
    public boolean checkResult(final int n, final Intent intent) {
        return n == 134217728 || this.m_Ad.activityFinished(intent);
    }
}
