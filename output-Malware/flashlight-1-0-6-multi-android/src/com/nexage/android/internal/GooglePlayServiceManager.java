// 
// Decompiled by Procyon v0.5.30
// 

package com.nexage.android.internal;

import com.google.android.gms.common.GooglePlayServicesUtil;
import com.google.android.gms.ads.identifier.AdvertisingIdClient;
import android.content.Context;
import com.google.android.gms.ads.identifier.AdvertisingIdClient$Info;

public class GooglePlayServiceManager
{
    private static String TAG;
    private static AdvertisingIdClient$Info info;
    
    static {
        GooglePlayServiceManager.TAG = "GooglePlayService";
    }
    
    public static String getId(final Context context) {
        // monitorenter(GooglePlayServiceManager.class)
        while (true) {
            try {
                try {
                    final boolean googlePlayServicesAvailable = isGooglePlayServicesAvailable(context);
                    String id = null;
                    if (googlePlayServicesAvailable) {
                        if (GooglePlayServiceManager.info == null) {
                            GooglePlayServiceManager.info = AdvertisingIdClient.getAdvertisingIdInfo(context);
                        }
                        id = GooglePlayServiceManager.info.getId();
                    }
                    NexageLog.d(GooglePlayServiceManager.TAG, "getId " + id);
                    return id;
                }
                finally {
                }
                // monitorexit(GooglePlayServiceManager.class)
            }
            catch (Exception ex) {
                final String id = null;
                continue;
            }
            break;
        }
    }
    
    private static boolean isGooglePlayServicesAvailable(final Context context) {
        final int googlePlayServicesAvailable = GooglePlayServicesUtil.isGooglePlayServicesAvailable(context);
        String s = null;
        switch (googlePlayServicesAvailable) {
            default: {
                s = "WTF";
                break;
            }
            case 0: {
                s = "SUCCESS";
                break;
            }
            case 1: {
                s = "SERVICE_MISSING";
                break;
            }
            case 2: {
                s = "SERVICE_VERSION_UPDATE_REQUIRED";
                break;
            }
            case 3: {
                s = "SERVICE_DISABLED";
                break;
            }
            case 9: {
                s = "SERVICE_INVALID";
                break;
            }
            case 12: {
                s = "DATE_INVALID";
                break;
            }
        }
        NexageLog.d(GooglePlayServiceManager.TAG, "isGooglePlayServicesAvailable " + s);
        return googlePlayServicesAvailable == 0;
    }
    
    public static boolean isLimitAdTrackingEnabled(final Context context) {
        // monitorenter(GooglePlayServiceManager.class)
        while (true) {
            try {
                try {
                    final boolean googlePlayServicesAvailable = isGooglePlayServicesAvailable(context);
                    boolean limitAdTrackingEnabled = false;
                    if (googlePlayServicesAvailable) {
                        if (GooglePlayServiceManager.info == null) {
                            GooglePlayServiceManager.info = AdvertisingIdClient.getAdvertisingIdInfo(context);
                        }
                        NexageLog.d(GooglePlayServiceManager.TAG, "isLimitAdTrackingEnabled " + GooglePlayServiceManager.info.isLimitAdTrackingEnabled());
                        limitAdTrackingEnabled = GooglePlayServiceManager.info.isLimitAdTrackingEnabled();
                    }
                    NexageLog.d(GooglePlayServiceManager.TAG, "isLimitAdTrackingEnabled " + limitAdTrackingEnabled);
                    return limitAdTrackingEnabled;
                }
                finally {
                }
                // monitorexit(GooglePlayServiceManager.class)
            }
            catch (Exception ex) {
                final boolean limitAdTrackingEnabled = false;
                continue;
            }
            break;
        }
    }
}
