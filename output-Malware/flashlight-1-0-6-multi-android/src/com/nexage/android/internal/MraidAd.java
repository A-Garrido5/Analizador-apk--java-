// 
// Decompiled by Procyon v0.5.30
// 

package com.nexage.android.internal;

import com.nexage.android.mraid.MraidLog;
import android.content.Context;
import android.app.Activity;
import com.nexage.android.reports2.AdService2;

public class MraidAd extends Ad
{
    private static final String TAG = "MraidAd";
    private final boolean isInterstitial;
    
    public MraidAd(final NexageContext nexageContext, final AdService2 adService2, final boolean isInterstitial) {
        super(nexageContext, adService2);
        this.isInterstitial = isInterstitial;
    }
    
    @Override
    public AdLayout getLayout(final Activity activity) {
        if (this.adLayout == null) {
            this.adLayout = new MraidAdLayout(this, (Context)activity, this.isInterstitial).getLayout();
        }
        return this.adLayout;
    }
    
    @Override
    public int prepare(final String adHtml) {
        MraidLog.v("MraidAd", "prepare:\n" + adHtml);
        if (adHtml == null || adHtml.length() == 0) {
            return -1;
        }
        this.adHtml = adHtml;
        return 1;
    }
    
    @Override
    public void setAttributes(final Integer n, final Integer n2, final String s) {
        MraidLog.d("MraidAd", "setAttributes");
        if (this.tag.networkId.equals("ADTECH")) {
            final StringBuilder sb = new StringBuilder("<script type='text/javascript'>");
            sb.append(this.adHtml);
            sb.append("</script>");
            this.adHtml = sb.toString();
        }
    }
}
