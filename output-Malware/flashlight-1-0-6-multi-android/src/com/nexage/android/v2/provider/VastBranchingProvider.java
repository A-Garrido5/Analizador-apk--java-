// 
// Decompiled by Procyon v0.5.30
// 

package com.nexage.android.v2.provider;

import com.nexage.android.internal.NexageContext;
import com.nexage.android.interstitial.VideoAd;
import com.nexage.android.internal.Ad;
import com.nexage.android.v2.provider.interstitial.NexageInterstitialProvider;
import com.nexage.android.v2.Task$InterstitialType;
import android.content.Context;
import android.content.Intent;
import com.nexage.android.NexageActivity;
import com.nexage.android.internal.NexageLog;
import com.nexage.android.v2.Task;

public class VastBranchingProvider extends BranchingProvider
{
    private static final String TAG = "VastBranchProv";
    
    @Override
    public boolean display(final Task task) {
        NexageLog.i("VastBranchProv", "display");
        if (task == null || task.appActivity == null) {
            return false;
        }
        final Ad ad = task.ad;
        synchronized (this) {
            final Intent intent = new Intent((Context)task.appActivity, (Class)NexageActivity.class);
            task.m_Type = Task$InterstitialType.Video;
            NexageInterstitialProvider.s_TaskMap.put(task.positionName, task);
            intent.putExtra("com.nexage.InterstitialAdPosition", task.positionName);
            task.appActivity.startActivity(intent);
            return ad.display();
        }
    }
    
    @Override
    public int prepare(final Task task, final String s) {
        NexageLog.i("VastBranchingProvider before creating context");
        final VideoAd ad = new VideoAd(new BranchingProvider$DumbNexageContext(this, task.appActivity), task.adService);
        NexageLog.i("VastBranchingProvider after creating context");
        ad.task = task;
        task.ad = ad;
        return ad.prepare(s);
    }
}
