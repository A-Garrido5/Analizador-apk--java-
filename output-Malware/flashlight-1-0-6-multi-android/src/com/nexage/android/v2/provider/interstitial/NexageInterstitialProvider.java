// 
// Decompiled by Procyon v0.5.30
// 

package com.nexage.android.v2.provider.interstitial;

import com.nexage.android.v2.provider.OrmmaBranchingProvider;
import com.nexage.android.v2.provider.MraidBranchingProvider;
import com.nexage.android.internal.Ad;
import com.nexage.android.v2.provider.VastBranchingProvider;
import android.content.Context;
import android.app.Activity;
import com.nexage.android.NexageActivity;
import com.nexage.android.internal.MraidAdLayout;
import com.nexage.android.internal.OrmmaAdLayout;
import com.nexage.android.interstitial.VideoAd;
import com.nexage.android.v2.Task$InterstitialType;
import com.nexage.android.v2.Task;
import com.nexage.android.internal.NexageLog;
import com.nexage.android.v2.provider.BranchingProvider;
import java.util.HashMap;
import java.util.regex.Pattern;
import com.nexage.android.v2.provider.BaseProvider;

public class NexageInterstitialProvider extends BaseProvider implements InterstitialProvider
{
    public static final int AD_TIMEOUT = 7500;
    static final String TAG = "NexIntProv";
    private static Pattern s_AdPattern;
    public static HashMap s_TaskMap;
    private static Pattern s_VastPattern;
    BranchingProvider provider;
    
    static {
        NexageInterstitialProvider.s_TaskMap = new HashMap();
        NexageInterstitialProvider.s_AdPattern = null;
        NexageInterstitialProvider.s_VastPattern = null;
    }
    
    public static void dismiss(final String s) {
        while (true) {
            final Task task;
            Label_0058: {
                synchronized (NexageInterstitialProvider.class) {
                    NexageLog.d("NexIntProv", "dismiss");
                    task = NexageInterstitialProvider.s_TaskMap.get(s);
                    if (task != null) {
                        if (task.m_Type != Task$InterstitialType.Video) {
                            break Label_0058;
                        }
                        ((VideoAd)task.ad).dismiss();
                    }
                    return;
                }
            }
            if (task.m_Type != Task$InterstitialType.View || task.m_View == null) {
                return;
            }
            if (task.m_View instanceof OrmmaAdLayout) {
                NexageLog.i("OrmmaView clear view");
                ((OrmmaAdLayout)task.m_View).clearOrmmaView();
                return;
            }
            if (task.m_View instanceof MraidAdLayout) {
                NexageLog.i("MraidView clear view");
                ((MraidAdLayout)task.m_View).clearMraidView();
            }
        }
    }
    
    public static Task display(final NexageActivity nexageActivity, final String s) {
        while (true) {
            Task task = null;
            Label_0077: {
                synchronized (NexageInterstitialProvider.class) {
                    task = NexageInterstitialProvider.s_TaskMap.get(s);
                    if (task == null) {
                        task = null;
                    }
                    else {
                        switch (task.m_Type) {
                            case View: {
                                nexageActivity.setInterstitialContentView(task.m_View);
                                break;
                            }
                            case Video: {
                                break Label_0077;
                            }
                            default: {
                                return task;
                            }
                        }
                    }
                    return task;
                }
            }
            task.ad.init(nexageActivity);
            nexageActivity.setContentView(task.ad.getLayout(nexageActivity).getView());
            return task;
        }
    }
    
    @Override
    public void cancel() {
    }
    
    @Override
    public void display(final Task task) {
        NexageLog.i("NexageInterstialProvider.display()");
        if (task.provider != null) {
            task.provider.display(task);
            task.displayed = true;
            return;
        }
        NexageLog.i("task.provider is null, can't display");
    }
    
    @Override
    public void getAd(final Context p0, final Task p1) {
        // 
        // This method could not be decompiled.
        // 
        // Original Bytecode:
        // 
        //     0: aload_0        
        //     1: monitorenter   
        //     2: lconst_0       
        //     3: lstore_3       
        //     4: lconst_0       
        //     5: lstore          5
        //     7: aload_2        
        //     8: ifnull          18
        //    11: aload_2        
        //    12: getfield        com/nexage/android/v2/Task.adTag:Lcom/nexage/android/rules/AdTag;
        //    15: ifnonnull       26
        //    18: ldc             "task or adTag is null, skipping getAd"
        //    20: invokestatic    com/nexage/android/internal/NexageLog.w:(Ljava/lang/String;)V
        //    23: aload_0        
        //    24: monitorexit    
        //    25: return         
        //    26: new             Ljava/lang/StringBuilder;
        //    29: dup            
        //    30: ldc             "NexIntProv "
        //    32: invokespecial   java/lang/StringBuilder.<init>:(Ljava/lang/String;)V
        //    35: aload_2        
        //    36: getfield        com/nexage/android/v2/Task.adTag:Lcom/nexage/android/rules/AdTag;
        //    39: getfield        com/nexage/android/rules/AdTag.name:Ljava/lang/String;
        //    42: invokevirtual   java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
        //    45: ldc             " "
        //    47: invokevirtual   java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
        //    50: aload_2        
        //    51: getfield        com/nexage/android/v2/Task.timestamp:J
        //    54: ldc2_w          10000
        //    57: lrem           
        //    58: invokevirtual   java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
        //    61: invokevirtual   java/lang/StringBuilder.toString:()Ljava/lang/String;
        //    64: astore          8
        //    66: aload           8
        //    68: ldc             "entering getAd"
        //    70: invokestatic    com/nexage/android/internal/NexageLog.d:(Ljava/lang/String;Ljava/lang/String;)V
        //    73: aload_2        
        //    74: aload_1        
        //    75: checkcast       Landroid/app/Activity;
        //    78: putfield        com/nexage/android/v2/Task.appActivity:Landroid/app/Activity;
        //    81: aload_2        
        //    82: getfield        com/nexage/android/v2/Task.adTag:Lcom/nexage/android/rules/AdTag;
        //    85: astore          9
        //    87: invokestatic    java/util/UUID.randomUUID:()Ljava/util/UUID;
        //    90: invokevirtual   java/util/UUID.toString:()Ljava/lang/String;
        //    93: ldc             "-"
        //    95: ldc             ""
        //    97: invokevirtual   java/lang/String.replace:(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Ljava/lang/String;
        //   100: astore          10
        //   102: aconst_null    
        //   103: astore          11
        //   105: aconst_null    
        //   106: astore          12
        //   108: aload           9
        //   110: getfield        com/nexage/android/rules/AdTag.adPostParams:Ljava/lang/String;
        //   113: invokevirtual   java/lang/String.length:()I
        //   116: iconst_1       
        //   117: if_icmple       627
        //   120: iconst_1       
        //   121: istore          32
        //   123: aload_2        
        //   124: getfield        com/nexage/android/v2/Task.adTag:Lcom/nexage/android/rules/AdTag;
        //   127: getfield        com/nexage/android/rules/AdTag.adRequestUrl:Ljava/lang/String;
        //   130: astore          33
        //   132: aload           8
        //   134: new             Ljava/lang/StringBuilder;
        //   137: dup            
        //   138: ldc             "getAd "
        //   140: invokespecial   java/lang/StringBuilder.<init>:(Ljava/lang/String;)V
        //   143: aload           33
        //   145: invokevirtual   java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
        //   148: invokevirtual   java/lang/StringBuilder.toString:()Ljava/lang/String;
        //   151: invokestatic    com/nexage/android/internal/NexageLog.d:(Ljava/lang/String;Ljava/lang/String;)V
        //   154: new             Ljava/util/HashMap;
        //   157: dup            
        //   158: invokespecial   java/util/HashMap.<init>:()V
        //   161: astore          34
        //   163: aload           34
        //   165: ldc             "RID"
        //   167: aload           10
        //   169: invokevirtual   java/util/HashMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
        //   172: pop            
        //   173: aload           33
        //   175: aload           34
        //   177: invokestatic    com/nexage/android/v2/provider/MacroSub.macroSub:(Ljava/lang/String;Ljava/util/HashMap;)Ljava/lang/String;
        //   180: astore          36
        //   182: invokestatic    com/nexage/android/NexageAdManager.getIsMediation:()Z
        //   185: istore          37
        //   187: aconst_null    
        //   188: astore          11
        //   190: aconst_null    
        //   191: astore          12
        //   193: iload           37
        //   195: ifeq            652
        //   198: invokestatic    com/nexage/android/internal/NexageContext.getNetType:()I
        //   201: ifne            633
        //   204: sipush          2000
        //   207: istore          38
        //   209: invokestatic    com/nexage/android/reports2/ReportManager.getTimestamp:()J
        //   212: lstore_3       
        //   213: new             Ljava/net/URL;
        //   216: dup            
        //   217: aload           36
        //   219: invokespecial   java/net/URL.<init>:(Ljava/lang/String;)V
        //   222: astore          39
        //   224: iconst_1       
        //   225: invokestatic    java/net/HttpURLConnection.setFollowRedirects:(Z)V
        //   228: aload           39
        //   230: invokevirtual   java/net/URL.openConnection:()Ljava/net/URLConnection;
        //   233: checkcast       Ljava/net/HttpURLConnection;
        //   236: astore          40
        //   238: aload           40
        //   240: iload           38
        //   242: invokevirtual   java/net/HttpURLConnection.setConnectTimeout:(I)V
        //   245: aload           40
        //   247: sipush          7500
        //   250: invokevirtual   java/net/HttpURLConnection.setReadTimeout:(I)V
        //   253: aload           40
        //   255: iconst_1       
        //   256: invokevirtual   java/net/HttpURLConnection.setDoInput:(Z)V
        //   259: aload           40
        //   261: ldc_w           "Connection"
        //   264: ldc_w           "close"
        //   267: invokevirtual   java/net/HttpURLConnection.setRequestProperty:(Ljava/lang/String;Ljava/lang/String;)V
        //   270: getstatic       com/nexage/android/internal/NexageContext.s_UserAgent:Ljava/lang/String;
        //   273: astore          46
        //   275: aconst_null    
        //   276: astore          12
        //   278: aload           46
        //   280: ifnull          303
        //   283: getstatic       com/nexage/android/internal/NexageContext.s_UserAgent:Ljava/lang/String;
        //   286: invokevirtual   java/lang/String.length:()I
        //   289: ifle            303
        //   292: aload           40
        //   294: ldc_w           "User-Agent"
        //   297: getstatic       com/nexage/android/internal/NexageContext.s_UserAgent:Ljava/lang/String;
        //   300: invokevirtual   java/net/HttpURLConnection.setRequestProperty:(Ljava/lang/String;Ljava/lang/String;)V
        //   303: iload           32
        //   305: ifeq            660
        //   308: aload           40
        //   310: ldc_w           "POST"
        //   313: invokevirtual   java/net/HttpURLConnection.setRequestMethod:(Ljava/lang/String;)V
        //   316: aload           40
        //   318: ldc_w           "Content-Type"
        //   321: ldc_w           "application/x-www-form-urlencoded; charset=utf-8"
        //   324: invokevirtual   java/net/HttpURLConnection.setRequestProperty:(Ljava/lang/String;Ljava/lang/String;)V
        //   327: aload           40
        //   329: iconst_1       
        //   330: invokevirtual   java/net/HttpURLConnection.setDoOutput:(Z)V
        //   333: aload           40
        //   335: invokevirtual   java/net/HttpURLConnection.getOutputStream:()Ljava/io/OutputStream;
        //   338: aload           9
        //   340: getfield        com/nexage/android/rules/AdTag.adPostParams:Ljava/lang/String;
        //   343: ldc_w           "UTF-8"
        //   346: invokevirtual   java/lang/String.getBytes:(Ljava/lang/String;)[B
        //   349: invokevirtual   java/io/OutputStream.write:([B)V
        //   352: aload           8
        //   354: new             Ljava/lang/StringBuilder;
        //   357: dup            
        //   358: ldc_w           "postParams: "
        //   361: invokespecial   java/lang/StringBuilder.<init>:(Ljava/lang/String;)V
        //   364: aload           9
        //   366: getfield        com/nexage/android/rules/AdTag.adPostParams:Ljava/lang/String;
        //   369: invokevirtual   java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
        //   372: invokevirtual   java/lang/StringBuilder.toString:()Ljava/lang/String;
        //   375: invokestatic    com/nexage/android/internal/NexageLog.d:(Ljava/lang/String;Ljava/lang/String;)V
        //   378: aload           40
        //   380: invokevirtual   java/net/HttpURLConnection.getResponseCode:()I
        //   383: istore          47
        //   385: invokestatic    com/nexage/android/reports2/ReportManager.getTimestamp:()J
        //   388: lstore          5
        //   390: aload           8
        //   392: new             Ljava/lang/StringBuilder;
        //   395: dup            
        //   396: ldc_w           "got response "
        //   399: invokespecial   java/lang/StringBuilder.<init>:(Ljava/lang/String;)V
        //   402: iload           47
        //   404: invokevirtual   java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
        //   407: invokevirtual   java/lang/StringBuilder.toString:()Ljava/lang/String;
        //   410: invokestatic    com/nexage/android/internal/NexageLog.d:(Ljava/lang/String;Ljava/lang/String;)V
        //   413: iload           47
        //   415: sipush          200
        //   418: if_icmpeq       429
        //   421: iload           47
        //   423: sipush          201
        //   426: if_icmpne       1135
        //   429: aload           40
        //   431: invokevirtual   java/net/HttpURLConnection.getInputStream:()Ljava/io/InputStream;
        //   434: astore          48
        //   436: aload           48
        //   438: astore          12
        //   440: new             Ljava/lang/StringBuilder;
        //   443: dup            
        //   444: invokespecial   java/lang/StringBuilder.<init>:()V
        //   447: astore          49
        //   449: new             Ljava/io/BufferedReader;
        //   452: dup            
        //   453: new             Ljava/io/InputStreamReader;
        //   456: dup            
        //   457: aload           12
        //   459: invokespecial   java/io/InputStreamReader.<init>:(Ljava/io/InputStream;)V
        //   462: sipush          4096
        //   465: invokespecial   java/io/BufferedReader.<init>:(Ljava/io/Reader;I)V
        //   468: astore          50
        //   470: aload           50
        //   472: invokevirtual   java/io/BufferedReader.readLine:()Ljava/lang/String;
        //   475: astore          57
        //   477: aload           57
        //   479: ifnull          500
        //   482: aload           49
        //   484: aload           57
        //   486: invokevirtual   java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
        //   489: pop            
        //   490: goto            470
        //   493: astore          52
        //   495: aload           52
        //   497: invokevirtual   java/io/IOException.printStackTrace:()V
        //   500: aload_0        
        //   501: aload           49
        //   503: invokevirtual   java/lang/StringBuilder.toString:()Ljava/lang/String;
        //   506: aload_2        
        //   507: invokevirtual   com/nexage/android/v2/provider/interstitial/NexageInterstitialProvider.handleContent:(Ljava/lang/String;Lcom/nexage/android/v2/Task;)I
        //   510: istore          53
        //   512: iload           53
        //   514: istore          54
        //   516: aload           12
        //   518: ifnull          526
        //   521: aload           12
        //   523: invokevirtual   java/io/InputStream.close:()V
        //   526: aload           40
        //   528: ifnull          1128
        //   531: aload           40
        //   533: invokevirtual   java/net/HttpURLConnection.disconnect:()V
        //   536: iload           54
        //   538: istore          20
        //   540: iload           20
        //   542: tableswitch {
        //               -6: 977
        //               -5: 966
        //               -4: 955
        //               -3: 576
        //               -2: 944
        //          default: 576
        //        }
        //   576: aload_2        
        //   577: iload           20
        //   579: putfield        com/nexage/android/v2/Task.status:I
        //   582: aload_2        
        //   583: getfield        com/nexage/android/v2/Task.ad:Lcom/nexage/android/internal/Ad;
        //   586: ifnull          598
        //   589: aload_2        
        //   590: getfield        com/nexage/android/v2/Task.ad:Lcom/nexage/android/internal/Ad;
        //   593: aload           10
        //   595: invokevirtual   com/nexage/android/internal/Ad.setAGuid:(Ljava/lang/String;)V
        //   598: aload_2        
        //   599: lload           5
        //   601: lload_3        
        //   602: lsub           
        //   603: invokevirtual   com/nexage/android/v2/Task.setResponseTime:(J)V
        //   606: iload           20
        //   608: iconst_1       
        //   609: if_icmpne       988
        //   612: aload_0        
        //   613: aload_2        
        //   614: invokevirtual   com/nexage/android/v2/provider/interstitial/NexageInterstitialProvider.fireAdReceived:(Lcom/nexage/android/v2/Task;)V
        //   617: goto            23
        //   620: astore          7
        //   622: aload_0        
        //   623: monitorexit    
        //   624: aload           7
        //   626: athrow         
        //   627: iconst_0       
        //   628: istore          32
        //   630: goto            123
        //   633: invokestatic    com/nexage/android/internal/NexageContext.getNetType:()I
        //   636: istore          59
        //   638: iload           59
        //   640: iconst_1       
        //   641: if_icmpne       1145
        //   644: sipush          4000
        //   647: istore          38
        //   649: goto            209
        //   652: sipush          7500
        //   655: istore          38
        //   657: goto            209
        //   660: aload           40
        //   662: ldc_w           "GET"
        //   665: invokevirtual   java/net/HttpURLConnection.setRequestMethod:(Ljava/lang/String;)V
        //   668: goto            378
        //   671: astore          45
        //   673: aconst_null    
        //   674: astore          14
        //   676: aload           40
        //   678: astore          15
        //   680: aload           45
        //   682: astore          13
        //   684: aload           8
        //   686: new             Ljava/lang/StringBuilder;
        //   689: dup            
        //   690: ldc_w           "caught "
        //   693: invokespecial   java/lang/StringBuilder.<init>:(Ljava/lang/String;)V
        //   696: aload           13
        //   698: invokevirtual   java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
        //   701: invokevirtual   java/lang/StringBuilder.toString:()Ljava/lang/String;
        //   704: invokestatic    com/nexage/android/internal/NexageLog.d:(Ljava/lang/String;Ljava/lang/String;)V
        //   707: bipush          -2
        //   709: istore          20
        //   711: aload           14
        //   713: ifnull          721
        //   716: aload           14
        //   718: invokevirtual   java/io/InputStream.close:()V
        //   721: aload           15
        //   723: ifnull          540
        //   726: aload           15
        //   728: invokevirtual   java/net/HttpURLConnection.disconnect:()V
        //   731: goto            540
        //   734: astore          21
        //   736: goto            540
        //   739: astore          55
        //   741: iload           54
        //   743: istore          20
        //   745: goto            540
        //   748: astore          29
        //   750: aload           8
        //   752: new             Ljava/lang/StringBuilder;
        //   755: dup            
        //   756: ldc_w           "caught "
        //   759: invokespecial   java/lang/StringBuilder.<init>:(Ljava/lang/String;)V
        //   762: aload           29
        //   764: invokevirtual   java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
        //   767: invokevirtual   java/lang/StringBuilder.toString:()Ljava/lang/String;
        //   770: invokestatic    com/nexage/android/internal/NexageLog.d:(Ljava/lang/String;Ljava/lang/String;)V
        //   773: bipush          -3
        //   775: istore          20
        //   777: aload           12
        //   779: ifnull          787
        //   782: aload           12
        //   784: invokevirtual   java/io/InputStream.close:()V
        //   787: aload           11
        //   789: ifnull          540
        //   792: aload           11
        //   794: invokevirtual   java/net/HttpURLConnection.disconnect:()V
        //   797: goto            540
        //   800: astore          30
        //   802: goto            540
        //   805: astore          26
        //   807: aload           8
        //   809: new             Ljava/lang/StringBuilder;
        //   812: dup            
        //   813: ldc_w           "caught "
        //   816: invokespecial   java/lang/StringBuilder.<init>:(Ljava/lang/String;)V
        //   819: aload           26
        //   821: invokevirtual   java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
        //   824: invokevirtual   java/lang/StringBuilder.toString:()Ljava/lang/String;
        //   827: invokestatic    com/nexage/android/internal/NexageLog.d:(Ljava/lang/String;Ljava/lang/String;)V
        //   830: bipush          -3
        //   832: istore          20
        //   834: aload           12
        //   836: ifnull          844
        //   839: aload           12
        //   841: invokevirtual   java/io/InputStream.close:()V
        //   844: aload           11
        //   846: ifnull          540
        //   849: aload           11
        //   851: invokevirtual   java/net/HttpURLConnection.disconnect:()V
        //   854: goto            540
        //   857: astore          27
        //   859: goto            540
        //   862: astore          23
        //   864: aload           8
        //   866: new             Ljava/lang/StringBuilder;
        //   869: dup            
        //   870: ldc_w           "caught "
        //   873: invokespecial   java/lang/StringBuilder.<init>:(Ljava/lang/String;)V
        //   876: aload           23
        //   878: invokevirtual   java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
        //   881: invokevirtual   java/lang/StringBuilder.toString:()Ljava/lang/String;
        //   884: invokestatic    com/nexage/android/internal/NexageLog.d:(Ljava/lang/String;Ljava/lang/String;)V
        //   887: bipush          -3
        //   889: istore          20
        //   891: aload           12
        //   893: ifnull          901
        //   896: aload           12
        //   898: invokevirtual   java/io/InputStream.close:()V
        //   901: aload           11
        //   903: ifnull          540
        //   906: aload           11
        //   908: invokevirtual   java/net/HttpURLConnection.disconnect:()V
        //   911: goto            540
        //   914: astore          24
        //   916: goto            540
        //   919: astore          16
        //   921: aload           12
        //   923: ifnull          931
        //   926: aload           12
        //   928: invokevirtual   java/io/InputStream.close:()V
        //   931: aload           11
        //   933: ifnull          941
        //   936: aload           11
        //   938: invokevirtual   java/net/HttpURLConnection.disconnect:()V
        //   941: aload           16
        //   943: athrow         
        //   944: aload           8
        //   946: ldc_w           "status AD_RECEIVED"
        //   949: invokestatic    com/nexage/android/internal/NexageLog.d:(Ljava/lang/String;Ljava/lang/String;)V
        //   952: goto            576
        //   955: aload           8
        //   957: ldc_w           "status AD_FAILED"
        //   960: invokestatic    com/nexage/android/internal/NexageLog.d:(Ljava/lang/String;Ljava/lang/String;)V
        //   963: goto            576
        //   966: aload           8
        //   968: ldc_w           "status AD_TIMEOUT"
        //   971: invokestatic    com/nexage/android/internal/NexageLog.d:(Ljava/lang/String;Ljava/lang/String;)V
        //   974: goto            576
        //   977: aload           8
        //   979: ldc_w           "status AD_ERROR"
        //   982: invokestatic    com/nexage/android/internal/NexageLog.d:(Ljava/lang/String;Ljava/lang/String;)V
        //   985: goto            576
        //   988: aload_0        
        //   989: aload_2        
        //   990: invokevirtual   com/nexage/android/v2/provider/interstitial/NexageInterstitialProvider.fireAdFailed:(Lcom/nexage/android/v2/Task;)V
        //   993: goto            23
        //   996: astore          56
        //   998: goto            526
        //  1001: astore          22
        //  1003: goto            721
        //  1006: astore          31
        //  1008: goto            787
        //  1011: astore          28
        //  1013: goto            844
        //  1016: astore          25
        //  1018: goto            901
        //  1021: astore          19
        //  1023: goto            931
        //  1026: astore          18
        //  1028: goto            941
        //  1031: astore          44
        //  1033: aload           40
        //  1035: astore          11
        //  1037: aload           44
        //  1039: astore          16
        //  1041: goto            921
        //  1044: astore          16
        //  1046: aload           14
        //  1048: astore          17
        //  1050: aload           15
        //  1052: astore          11
        //  1054: aload           17
        //  1056: astore          12
        //  1058: goto            921
        //  1061: astore          43
        //  1063: aload           40
        //  1065: astore          11
        //  1067: aload           43
        //  1069: astore          23
        //  1071: goto            864
        //  1074: astore          42
        //  1076: aload           40
        //  1078: astore          11
        //  1080: aload           42
        //  1082: astore          26
        //  1084: goto            807
        //  1087: astore          41
        //  1089: aload           40
        //  1091: astore          11
        //  1093: aload           41
        //  1095: astore          29
        //  1097: goto            750
        //  1100: astore          13
        //  1102: aconst_null    
        //  1103: astore          14
        //  1105: aconst_null    
        //  1106: astore          15
        //  1108: goto            684
        //  1111: astore          51
        //  1113: aload           12
        //  1115: astore          14
        //  1117: aload           40
        //  1119: astore          15
        //  1121: aload           51
        //  1123: astore          13
        //  1125: goto            684
        //  1128: iload           54
        //  1130: istore          20
        //  1132: goto            540
        //  1135: bipush          -3
        //  1137: istore          54
        //  1139: aconst_null    
        //  1140: astore          12
        //  1142: goto            516
        //  1145: iconst_0       
        //  1146: istore          38
        //  1148: goto            209
        //    Exceptions:
        //  Try           Handler
        //  Start  End    Start  End    Type                             
        //  -----  -----  -----  -----  ---------------------------------
        //  11     18     620    627    Any
        //  18     23     620    627    Any
        //  26     102    620    627    Any
        //  108    120    1100   1111   Ljava/net/SocketTimeoutException;
        //  108    120    748    750    Ljava/net/UnknownHostException;
        //  108    120    805    807    Ljava/net/SocketException;
        //  108    120    862    864    Ljava/lang/Exception;
        //  108    120    919    921    Any
        //  123    187    1100   1111   Ljava/net/SocketTimeoutException;
        //  123    187    748    750    Ljava/net/UnknownHostException;
        //  123    187    805    807    Ljava/net/SocketException;
        //  123    187    862    864    Ljava/lang/Exception;
        //  123    187    919    921    Any
        //  198    204    1100   1111   Ljava/net/SocketTimeoutException;
        //  198    204    748    750    Ljava/net/UnknownHostException;
        //  198    204    805    807    Ljava/net/SocketException;
        //  198    204    862    864    Ljava/lang/Exception;
        //  198    204    919    921    Any
        //  209    238    1100   1111   Ljava/net/SocketTimeoutException;
        //  209    238    748    750    Ljava/net/UnknownHostException;
        //  209    238    805    807    Ljava/net/SocketException;
        //  209    238    862    864    Ljava/lang/Exception;
        //  209    238    919    921    Any
        //  238    275    671    684    Ljava/net/SocketTimeoutException;
        //  238    275    1087   1100   Ljava/net/UnknownHostException;
        //  238    275    1074   1087   Ljava/net/SocketException;
        //  238    275    1061   1074   Ljava/lang/Exception;
        //  238    275    1031   1044   Any
        //  283    303    671    684    Ljava/net/SocketTimeoutException;
        //  283    303    1087   1100   Ljava/net/UnknownHostException;
        //  283    303    1074   1087   Ljava/net/SocketException;
        //  283    303    1061   1074   Ljava/lang/Exception;
        //  283    303    1031   1044   Any
        //  308    378    671    684    Ljava/net/SocketTimeoutException;
        //  308    378    1087   1100   Ljava/net/UnknownHostException;
        //  308    378    1074   1087   Ljava/net/SocketException;
        //  308    378    1061   1074   Ljava/lang/Exception;
        //  308    378    1031   1044   Any
        //  378    413    671    684    Ljava/net/SocketTimeoutException;
        //  378    413    1087   1100   Ljava/net/UnknownHostException;
        //  378    413    1074   1087   Ljava/net/SocketException;
        //  378    413    1061   1074   Ljava/lang/Exception;
        //  378    413    1031   1044   Any
        //  429    436    671    684    Ljava/net/SocketTimeoutException;
        //  429    436    1087   1100   Ljava/net/UnknownHostException;
        //  429    436    1074   1087   Ljava/net/SocketException;
        //  429    436    1061   1074   Ljava/lang/Exception;
        //  429    436    1031   1044   Any
        //  440    470    1111   1128   Ljava/net/SocketTimeoutException;
        //  440    470    1087   1100   Ljava/net/UnknownHostException;
        //  440    470    1074   1087   Ljava/net/SocketException;
        //  440    470    1061   1074   Ljava/lang/Exception;
        //  440    470    1031   1044   Any
        //  470    477    493    500    Ljava/io/IOException;
        //  470    477    1111   1128   Ljava/net/SocketTimeoutException;
        //  470    477    1087   1100   Ljava/net/UnknownHostException;
        //  470    477    1074   1087   Ljava/net/SocketException;
        //  470    477    1061   1074   Ljava/lang/Exception;
        //  470    477    1031   1044   Any
        //  482    490    493    500    Ljava/io/IOException;
        //  482    490    1111   1128   Ljava/net/SocketTimeoutException;
        //  482    490    1087   1100   Ljava/net/UnknownHostException;
        //  482    490    1074   1087   Ljava/net/SocketException;
        //  482    490    1061   1074   Ljava/lang/Exception;
        //  482    490    1031   1044   Any
        //  495    500    1111   1128   Ljava/net/SocketTimeoutException;
        //  495    500    1087   1100   Ljava/net/UnknownHostException;
        //  495    500    1074   1087   Ljava/net/SocketException;
        //  495    500    1061   1074   Ljava/lang/Exception;
        //  495    500    1031   1044   Any
        //  500    512    1111   1128   Ljava/net/SocketTimeoutException;
        //  500    512    1087   1100   Ljava/net/UnknownHostException;
        //  500    512    1074   1087   Ljava/net/SocketException;
        //  500    512    1061   1074   Ljava/lang/Exception;
        //  500    512    1031   1044   Any
        //  521    526    996    1001   Ljava/lang/Exception;
        //  521    526    620    627    Any
        //  531    536    739    748    Ljava/lang/Exception;
        //  531    536    620    627    Any
        //  576    598    620    627    Any
        //  598    606    620    627    Any
        //  612    617    620    627    Any
        //  633    638    1100   1111   Ljava/net/SocketTimeoutException;
        //  633    638    748    750    Ljava/net/UnknownHostException;
        //  633    638    805    807    Ljava/net/SocketException;
        //  633    638    862    864    Ljava/lang/Exception;
        //  633    638    919    921    Any
        //  660    668    671    684    Ljava/net/SocketTimeoutException;
        //  660    668    1087   1100   Ljava/net/UnknownHostException;
        //  660    668    1074   1087   Ljava/net/SocketException;
        //  660    668    1061   1074   Ljava/lang/Exception;
        //  660    668    1031   1044   Any
        //  684    707    1044   1061   Any
        //  716    721    1001   1006   Ljava/lang/Exception;
        //  716    721    620    627    Any
        //  726    731    734    739    Ljava/lang/Exception;
        //  726    731    620    627    Any
        //  750    773    919    921    Any
        //  782    787    1006   1011   Ljava/lang/Exception;
        //  782    787    620    627    Any
        //  792    797    800    805    Ljava/lang/Exception;
        //  792    797    620    627    Any
        //  807    830    919    921    Any
        //  839    844    1011   1016   Ljava/lang/Exception;
        //  839    844    620    627    Any
        //  849    854    857    862    Ljava/lang/Exception;
        //  849    854    620    627    Any
        //  864    887    919    921    Any
        //  896    901    1016   1021   Ljava/lang/Exception;
        //  896    901    620    627    Any
        //  906    911    914    919    Ljava/lang/Exception;
        //  906    911    620    627    Any
        //  926    931    1021   1026   Ljava/lang/Exception;
        //  926    931    620    627    Any
        //  936    941    1026   1031   Ljava/lang/Exception;
        //  936    941    620    627    Any
        //  941    944    620    627    Any
        //  944    952    620    627    Any
        //  955    963    620    627    Any
        //  966    974    620    627    Any
        //  977    985    620    627    Any
        //  988    993    620    627    Any
        // 
        // The error that occurred was:
        // 
        // java.lang.IndexOutOfBoundsException: Index: 486, Size: 486
        //     at java.util.ArrayList.rangeCheck(ArrayList.java:653)
        //     at java.util.ArrayList.get(ArrayList.java:429)
        //     at com.strobel.decompiler.ast.AstBuilder.convertToAst(AstBuilder.java:3303)
        //     at com.strobel.decompiler.ast.AstBuilder.convertToAst(AstBuilder.java:3417)
        //     at com.strobel.decompiler.ast.AstBuilder.build(AstBuilder.java:113)
        //     at com.strobel.decompiler.languages.java.ast.AstMethodBodyBuilder.createMethodBody(AstMethodBodyBuilder.java:210)
        //     at com.strobel.decompiler.languages.java.ast.AstMethodBodyBuilder.createMethodBody(AstMethodBodyBuilder.java:99)
        //     at com.strobel.decompiler.languages.java.ast.AstBuilder.createMethodBody(AstBuilder.java:757)
        //     at com.strobel.decompiler.languages.java.ast.AstBuilder.createMethod(AstBuilder.java:655)
        //     at com.strobel.decompiler.languages.java.ast.AstBuilder.addTypeMembers(AstBuilder.java:532)
        //     at com.strobel.decompiler.languages.java.ast.AstBuilder.createTypeCore(AstBuilder.java:499)
        //     at com.strobel.decompiler.languages.java.ast.AstBuilder.createTypeNoCache(AstBuilder.java:141)
        //     at com.strobel.decompiler.languages.java.ast.AstBuilder.createType(AstBuilder.java:130)
        //     at com.strobel.decompiler.languages.java.ast.AstBuilder.addType(AstBuilder.java:105)
        //     at com.strobel.decompiler.languages.java.JavaLanguage.buildAst(JavaLanguage.java:71)
        //     at com.strobel.decompiler.languages.java.JavaLanguage.decompileType(JavaLanguage.java:59)
        //     at com.strobel.decompiler.DecompilerDriver.decompileType(DecompilerDriver.java:317)
        //     at com.strobel.decompiler.DecompilerDriver.decompileJar(DecompilerDriver.java:238)
        //     at com.strobel.decompiler.DecompilerDriver.main(DecompilerDriver.java:123)
        // 
        throw new IllegalStateException("An error occurred while decompiling this method.");
    }
    
    @Override
    public String getProviderId() {
        return "NEXAGE";
    }
    
    protected int handleContent(final String s, final Task task) {
        NexageLog.i("NexIntProv", "entering handleContent for branching");
        if (NexageInterstitialProvider.s_VastPattern == null) {
            NexageInterstitialProvider.s_VastPattern = Pattern.compile("<VAST(.*?)</VAST>", 32);
        }
        if (NexageInterstitialProvider.s_AdPattern == null) {
            NexageInterstitialProvider.s_AdPattern = Pattern.compile("(?i)<((a|ref)\\s+href|iframe|script|embed|object|link|img|http://)");
        }
        final String adValidateRegex = task.adTag.adValidateRegex;
        if (adValidateRegex != null && adValidateRegex.length() > 0 && Pattern.compile(adValidateRegex).matcher(s).find()) {
            return -1;
        }
        NexageLog.i("NexIntProv", "networkId " + task.adTag.networkId);
        if (NexageInterstitialProvider.s_VastPattern.matcher(s).find()) {
            NexageLog.i("NexIntProv", "VAST branching");
            this.provider = new VastBranchingProvider();
            final int prepare = this.provider.prepare(task, s);
            task.provider = this.provider;
            return prepare;
        }
        if (NexageInterstitialProvider.s_AdPattern.matcher(s).find()) {
            NexageLog.i("NexIntProv", "HTML/script branching");
            if (Ad.isMraid(s)) {
                NexageLog.i("NexIntProv", "Mraid branching");
                this.provider = new MraidBranchingProvider();
            }
            else {
                NexageLog.i("NexIntProv", "Ormma branching");
                this.provider = new OrmmaBranchingProvider();
            }
            final int prepare2 = this.provider.prepare(task, s);
            task.provider = this.provider;
            return prepare2;
        }
        task.status = -1;
        NexageLog.i("NexIntProv", "Setting ad status to Task.AD_FAILED");
        NexageLog.e("NexIntProv", "No branching provider match for markup: " + s);
        return -1;
    }
}
