// 
// Decompiled by Procyon v0.5.30
// 

package com.google.android.gms.internal;

import com.google.android.gms.ads.identifier.AdvertisingIdClient$Info;
import com.google.android.gms.common.GooglePlayServicesRepairableException;
import com.google.android.gms.ads.identifier.AdvertisingIdClient;
import com.google.android.gms.common.GooglePlayServicesNotAvailableException;
import java.io.IOException;
import android.content.Context;

public class k extends j
{
    private k(final Context context, final n n, final o o) {
        super(context, n, o);
    }
    
    public static k a(final String s, final Context context) {
        final e e = new e();
        j.a(s, context, e);
        return new k(context, e, new q(239));
    }
    
    @Override
    protected void b(final Context context) {
        final long n = 1L;
        super.b(context);
        k$a k$a = null;
        try {
            final k$a f;
            k$a = (f = this.f(context));
            final boolean b = f.isLimitAdTrackingEnabled();
            if (!b) {
                goto Label_0063;
            }
            final k k = this;
            final int n2 = 28;
            final long n3 = n;
            k.a(n2, n3);
            final k$a k$a2 = k$a;
            final String s = k$a2.getId();
            final String s3;
            final String s2 = s3 = s;
            if (s3 != null) {
                final k i = this;
                final int n4 = 30;
                final String s4 = s2;
                i.a(n4, s4);
            }
            return;
        }
        catch (IOException ex) {
            this.a(28, 1L);
            return;
        }
        catch (GooglePlayServicesNotAvailableException ex2) {}
        try {
            final k$a f = k$a;
            final boolean b = f.isLimitAdTrackingEnabled();
            if (!b) {
                goto Label_0063;
            }
            final k k = this;
            final int n2 = 28;
            final long n3 = n;
            k.a(n2, n3);
            final k$a k$a2 = k$a;
            final String s = k$a2.getId();
            final String s3;
            final String s2 = s3 = s;
            if (s3 != null) {
                final k i = this;
                final int n4 = 30;
                final String s4 = s2;
                i.a(n4, s4);
            }
        }
        catch (IOException ex3) {}
    }
    
    k$a f(final Context context) {
        int i = 0;
        AdvertisingIdClient$Info advertisingIdInfo = null;
        String id = null;
        Label_0157: {
            byte[] array;
            try {
                advertisingIdInfo = AdvertisingIdClient.getAdvertisingIdInfo(context);
                id = advertisingIdInfo.getId();
                if (id == null || !id.matches("^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$")) {
                    break Label_0157;
                }
                array = new byte[16];
                int n = 0;
                while (i < id.length()) {
                    if (i == 8 || i == 13 || i == 18 || i == 23) {
                        ++i;
                    }
                    array[n] = (byte)((Character.digit(id.charAt(i), 16) << 4) + Character.digit(id.charAt(i + 1), 16));
                    ++n;
                    i += 2;
                }
            }
            catch (GooglePlayServicesRepairableException ex) {
                throw new IOException(ex);
            }
            final String a = this.jP.a(array, true);
            return new k$a(this, a, advertisingIdInfo.isLimitAdTrackingEnabled());
        }
        final String a = id;
        return new k$a(this, a, advertisingIdInfo.isLimitAdTrackingEnabled());
    }
}
