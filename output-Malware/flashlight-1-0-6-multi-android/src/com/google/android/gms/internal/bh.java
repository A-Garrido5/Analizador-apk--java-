// 
// Decompiled by Procyon v0.5.30
// 

package com.google.android.gms.internal;

import java.util.Iterator;
import android.os.RemoteException;
import android.content.Context;

public final class bh
{
    private final bq ky;
    private final Object li;
    private final Context mContext;
    private final cx mQ;
    private final bj mR;
    private boolean mS;
    private bm mT;
    
    public bh(final Context mContext, final cx mq, final bq ky, final bj mr) {
        this.li = new Object();
        this.mS = false;
        this.mContext = mContext;
        this.mQ = mq;
        this.ky = ky;
        this.mR = mr;
    }
    
    public final bn a(final long n, final long n2) {
        dw.v("Starting mediation.");
        for (final bi bi : this.mR.nc) {
            dw.x("Trying mediation network: " + bi.mX);
            for (final String s : bi.mY) {
                final bn b;
                synchronized (this.li) {
                    if (this.mS) {
                        return new bn(-1);
                    }
                    this.mT = new bm(this.mContext, s, this.ky, this.mR, bi, this.mQ.pg, this.mQ.kN, this.mQ.kK);
                    // monitorexit(this.li)
                    b = this.mT.b(n, n2);
                    if (b.nw == 0) {
                        dw.v("Adapter succeeded.");
                        return b;
                    }
                }
                if (b.ny != null) {
                    dv.rp.post((Runnable)new Runnable() {
                        @Override
                        public void run() {
                            try {
                                b.ny.destroy();
                            }
                            catch (RemoteException ex) {
                                dw.c("Could not destroy mediation adapter.", (Throwable)ex);
                            }
                        }
                    });
                }
            }
        }
        return new bn(1);
    }
    
    public final void cancel() {
        synchronized (this.li) {
            this.mS = true;
            if (this.mT != null) {
                this.mT.cancel();
            }
        }
    }
}
