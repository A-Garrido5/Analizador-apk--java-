// 
// Decompiled by Procyon v0.5.30
// 

package com.surpax.ledflashlight;

import android.content.ComponentName;
import android.text.TextUtils;
import java.util.List;
import java.util.Collection;
import java.util.ArrayList;
import com.ihs.g.c;
import android.annotation.SuppressLint;
import android.os.Bundle;
import android.widget.RemoteViews;
import android.app.PendingIntent;
import android.content.Intent;
import android.appwidget.AppWidgetManager;
import android.content.Context;
import android.appwidget.AppWidgetProvider;

public class PanelWidgetLarge extends AppWidgetProvider
{
    private static void a(final Context context, final AppWidgetManager appWidgetManager, final int n) {
        final PendingIntent broadcast = PendingIntent.getBroadcast(context.getApplicationContext(), 0, new Intent(context, (Class)StartLightReceiverLarge.class), 134217728);
        final RemoteViews remoteViews = new RemoteViews(context.getPackageName(), 2130903061);
        remoteViews.setOnClickPendingIntent(2131099714, broadcast);
        appWidgetManager.updateAppWidget(n, remoteViews);
    }
    
    @SuppressLint({ "NewApi" })
    public void onAppWidgetOptionsChanged(final Context context, final AppWidgetManager appWidgetManager, final int n, final Bundle bundle) {
        a(context, appWidgetManager, n);
        super.onAppWidgetOptionsChanged(context, appWidgetManager, n, bundle);
    }
    
    public void onDeleted(final Context context, final int[] array) {
        c.a("Widgets", "HomeScreen_Large_onDeleted");
        d.c(context, "HomeScreen_Large");
        final ArrayList list = new ArrayList(d.a(context, "PanelWidgetLargeIdList"));
        for (int length = array.length, i = 0; i < length; ++i) {
            list.remove(String.valueOf(array[i]));
        }
        d.a(context, "PanelWidgetLargeIdList", list);
        super.onDeleted(context, array);
    }
    
    public void onReceive(final Context context, final Intent intent) {
        super.onReceive(context, intent);
        final String action = intent.getAction();
        if (!TextUtils.isEmpty((CharSequence)action) && !action.equalsIgnoreCase("android.appwidget.action.APPWIDGET_DELETED") && !action.equalsIgnoreCase("android.appwidget.action.APPWIDGET_DISABLED")) {
            try {
                final AppWidgetManager instance = AppWidgetManager.getInstance(context.getApplicationContext());
                final int[] appWidgetIds = instance.getAppWidgetIds(new ComponentName(context.getApplicationContext(), (Class)PanelWidgetLarge.class));
                for (int length = appWidgetIds.length, i = 0; i < length; ++i) {
                    a(context, instance, appWidgetIds[i]);
                }
            }
            catch (Exception ex) {
                ex.printStackTrace();
            }
        }
    }
    
    public void onUpdate(final Context context, final AppWidgetManager appWidgetManager, final int[] array) {
        int i = 0;
        c.a("Widgets", "HomeScreen_Large_onUpdate");
        for (int length = array.length, j = 0; j < length; ++j) {
            a(context, appWidgetManager, array[j]);
        }
        final List a = d.a(context, "PanelWidgetLargeIdList");
        final ArrayList list = new ArrayList<String>(a);
        while (i < array.length) {
            final int n = array[i];
            if (!a.contains(String.valueOf(n))) {
                list.add(String.valueOf(n));
                c.a("Widgets", "HomeScreen_Large_onAdded");
                d.b(context, "HomeScreen_Large");
            }
            ++i;
        }
        if (list.size() != a.size()) {
            d.a(context, "PanelWidgetLargeIdList", list);
        }
        super.onUpdate(context, appWidgetManager, array);
    }
}
