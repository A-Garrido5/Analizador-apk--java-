// 
// Decompiled by Procyon v0.5.30
// 

package com.flurry.sdk;

import android.view.View;
import com.flurry.android.FlurryAdSize;
import android.content.Context;
import android.view.ViewGroup;
import com.flurry.android.impl.ads.FlurryAdModule;
import android.widget.RelativeLayout;

public final class l extends RelativeLayout
{
    private static final String a;
    private final FlurryAdModule b;
    private final String c;
    private final ViewGroup d;
    private long e;
    private final Runnable f;
    
    static {
        a = l.class.getSimpleName();
    }
    
    public l(final FlurryAdModule b, final Context context, final String c, final ViewGroup d) {
        super(context);
        this.f = new l$a(this, null);
        this.b = b;
        this.c = c;
        this.d = d;
    }
    
    private boolean e() {
        if (FlurryAdModule.i()) {
            eo.a(3, l.a, "Device is locked: banner will NOT rotate for adSpace: " + this.getAdSpace());
        }
        else {
            if (this.b.g()) {
                eo.a(3, l.a, "Ad fullscreen panel is opened: banner will NOT rotate for adSpace: " + this.getAdSpace());
                return false;
            }
            final i currentBannerView = this.getCurrentBannerView();
            if (currentBannerView != null && currentBannerView.g()) {
                return true;
            }
        }
        return false;
    }
    
    private void f() {
        eo.a(3, l.a, "Rotating banner for adSpace: " + this.getAdSpace());
        this.b.d().a(this.getContext(), this.c, this.d, FlurryAdSize.BANNER_BOTTOM, true);
    }
    
    private void g() {
        synchronized (this) {
            if (this.e()) {
                this.f();
            }
            do.a().b(this.f, this.getRotationRateInMilliseconds());
        }
    }
    
    private i getCurrentBannerView() {
        if (this.getChildCount() <= 0) {
            return null;
        }
        final View child = this.getChildAt(0);
        try {
            return (i)child;
        }
        catch (ClassCastException ex) {
            return null;
        }
    }
    
    public final void a() {
        synchronized (this) {
            this.c();
            this.e = 0L;
        }
    }
    
    public final void a(final long e) {
        synchronized (this) {
            if (this.e != e) {
                this.c();
                this.e = e;
                this.b();
            }
        }
    }
    
    public final void b() {
        synchronized (this) {
            if (this.getRotationRateInMilliseconds() != 0L) {
                this.c();
                eo.a(3, l.a, "schedule banner rotation for adSpace = " + this.getAdSpace() + " with fixed rate in milliseconds = " + this.getRotationRateInMilliseconds());
                do.a().b(this.f, this.getRotationRateInMilliseconds());
            }
        }
    }
    
    public final void c() {
        synchronized (this) {
            do.a().d(this.f);
        }
    }
    
    public final void d() {
        this.a();
        final i currentBannerView = this.getCurrentBannerView();
        if (currentBannerView != null) {
            currentBannerView.onDestroy();
        }
    }
    
    public final String getAdSpace() {
        return this.c;
    }
    
    public final long getRotationRateInMilliseconds() {
        return this.e;
    }
    
    public final ViewGroup getViewGroup() {
        return this.d;
    }
}
