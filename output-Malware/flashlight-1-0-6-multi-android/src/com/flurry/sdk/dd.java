// 
// Decompiled by Procyon v0.5.30
// 

package com.flurry.sdk;

import android.widget.Toast;

public class dd extends de implements dq$a
{
    static String a;
    static String b;
    static String c;
    private static final String h;
    private boolean i;
    
    static {
        h = dd.class.getSimpleName();
        dd.b = "http://data.flurry.com/aap.do";
        dd.c = "https://data.flurry.com/aap.do";
    }
    
    public dd() {
        this(null);
    }
    
    dd(final de$a de$a) {
        super("Analytics", dd.class.getSimpleName());
        this.g = "AnalyticsData_";
        this.g();
        this.a(de$a);
    }
    
    private void b(final String a) {
        if (a != null && !a.endsWith(".do")) {
            eo.a(5, dd.h, "overriding analytics agent report URL without an endpoint, are you sure?");
        }
        dd.a = a;
    }
    
    private void g() {
        final dq a = dp.a();
        this.i = (boolean)a.a("UseHttps");
        a.a("UseHttps", this);
        eo.a(4, dd.h, "initSettings, UseHttps = " + this.i);
        final String s = (String)a.a("ReportUrl");
        a.a("ReportUrl", this);
        this.b(s);
        eo.a(4, dd.h, "initSettings, ReportUrl = " + s);
    }
    
    String a() {
        if (dd.a != null) {
            return dd.a;
        }
        if (this.i) {
            return dd.c;
        }
        return dd.b;
    }
    
    @Override
    public void a(final String s, final Object o) {
        if (s.equals("UseHttps")) {
            this.i = (boolean)o;
            eo.a(4, dd.h, "onSettingUpdate, UseHttps = " + this.i);
            return;
        }
        if (s.equals("ReportUrl")) {
            final String s2 = (String)o;
            this.b(s2);
            eo.a(4, dd.h, "onSettingUpdate, ReportUrl = " + s2);
            return;
        }
        eo.a(6, dd.h, "onSettingUpdate internal error!");
    }
    
    @Override
    protected void a(final String s, final String s2, final int n) {
        this.a(new ff() {
            @Override
            public void a() {
                if (n == 200) {
                    final dj c = dl.a().c();
                    if (c != null) {
                        c.b();
                    }
                }
            }
        });
        super.a(s, s2, n);
    }
    
    @Override
    protected void a(final byte[] array, final String s, final String s2) {
        final String a = this.a();
        eo.a(4, dd.h, "FlurryDataSender: start upload data " + array + " with id = " + s + " to " + a);
        final el el = new el();
        el.a(a);
        el.a(en$a.c);
        el.a("Content-Type", "application/octet-stream");
        el.a(new ew());
        el.a(array);
        el.a(new el$a() {
            public void a(final el el, final Void void1) {
                final int e = el.e();
                if (e > 0) {
                    eo.d(dd.h, "FlurryDataSender: report " + s + " sent. HTTP response: " + e);
                    if (eo.c() <= 3 && eo.d()) {
                        do.a().a(new Runnable() {
                            @Override
                            public void run() {
                                Toast.makeText(do.a().b(), (CharSequence)("SD HTTP Response Code: " + e), 0).show();
                            }
                        });
                    }
                    dd.this.a(s, s2, e);
                    dd.this.d();
                    return;
                }
                dd.this.b(s, s2);
            }
        });
        em.a().a(this, el);
    }
}
