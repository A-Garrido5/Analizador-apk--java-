// 
// Decompiled by Procyon v0.5.30
// 

package com.flurry.sdk;

import java.util.NoSuchElementException;
import java.util.Iterator;
import java.util.Collection;

public final class kz
{
    private final kz$a[] a;
    private final int b;
    private final int c;
    
    public kz(final Collection collection) {
        this.c = collection.size();
        final int a = a(this.c);
        this.b = a - 1;
        final kz$a[] a2 = new kz$a[a];
        for (final kt kt : collection) {
            final String c = kt.c();
            final int n = c.hashCode() & this.b;
            a2[n] = new kz$a(a2[n], c, kt);
        }
        this.a = a2;
    }
    
    private static final int a(final int n) {
        int n2;
        if (n <= 32) {
            n2 = n + n;
        }
        else {
            n2 = n + (n >> 2);
        }
        int i;
        for (i = 2; i < n2; i += i) {}
        return i;
    }
    
    private kt a(final String s, final int n) {
        for (kz$a a = this.a[n]; a != null; a = a.a) {
            if (s.equals(a.b)) {
                return a.c;
            }
        }
        return null;
    }
    
    public final kt a(final String s) {
        final int n = s.hashCode() & this.b;
        kz$a a = this.a[n];
        if (a == null) {
            return null;
        }
        if (a.b == s) {
            return a.c;
        }
        do {
            a = a.a;
            if (a != null) {
                continue;
            }
            return this.a(s, n);
        } while (a.b != s);
        return a.c;
    }
    
    public final void a() {
        final kz$a[] a = this.a;
        final int length = a.length;
        int i = 0;
        int n = 0;
        while (i < length) {
            int n2;
            for (kz$a a2 = a[i]; a2 != null; a2 = a2.a, n = n2) {
                final kt c = a2.c;
                n2 = n + 1;
                c.a(n);
            }
            ++i;
        }
    }
    
    public final void a(final kt kt) {
        final String c = kt.c();
        final int n = c.hashCode() & -1 + this.a.length;
        kz$a a = this.a[n];
        int n2 = 0;
        kz$a kz$a = null;
        while (a != null) {
            if (n2 == 0 && a.b.equals(c)) {
                n2 = 1;
            }
            else {
                kz$a = new kz$a(kz$a, a.b, a.c);
            }
            a = a.a;
        }
        if (n2 == 0) {
            throw new NoSuchElementException("No entry '" + kt + "' found, can't replace");
        }
        this.a[n] = new kz$a(kz$a, c, kt);
    }
    
    public final int b() {
        return this.c;
    }
    
    public final void b(final kt kt) {
        final String c = kt.c();
        final int n = c.hashCode() & -1 + this.a.length;
        kz$a a = this.a[n];
        int n2 = 0;
        kz$a kz$a = null;
        while (a != null) {
            if (n2 == 0 && a.b.equals(c)) {
                n2 = 1;
            }
            else {
                kz$a = new kz$a(kz$a, a.b, a.c);
            }
            a = a.a;
        }
        if (n2 == 0) {
            throw new NoSuchElementException("No entry '" + kt + "' found, can't remove");
        }
        this.a[n] = kz$a;
    }
    
    public final Iterator c() {
        return new kz$b(this.a);
    }
}
