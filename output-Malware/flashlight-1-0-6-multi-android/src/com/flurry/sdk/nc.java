// 
// Decompiled by Procyon v0.5.30
// 

package com.flurry.sdk;

import java.util.AbstractSequentialList;
import java.util.TreeMap;
import java.util.Iterator;
import java.util.Map;
import java.util.Collection;
import java.util.ArrayList;
import java.util.List;
import java.util.HashSet;
import java.util.Set;
import java.util.LinkedList;
import java.util.LinkedHashMap;

public class nc
{
    protected final jn a;
    protected final boolean b;
    protected final sh c;
    protected final mn d;
    protected final ne e;
    protected final iq f;
    protected final LinkedHashMap g;
    protected LinkedList h;
    protected LinkedList i;
    protected LinkedList j;
    protected LinkedList k;
    protected Set l;
    protected Set m;
    protected LinkedHashMap n;
    
    protected nc(final jn a, final boolean b, final sh c, final mn d) {
        this.g = new LinkedHashMap();
        this.h = null;
        this.i = null;
        this.j = null;
        this.k = null;
        this.a = a;
        this.b = b;
        this.c = c;
        this.d = d;
        final boolean b2 = a.b();
        iq a2 = null;
        if (b2) {
            a2 = this.a.a();
        }
        this.f = a2;
        if (this.f == null) {
            this.e = this.a.e();
            return;
        }
        this.e = this.f.a(d, this.a.e());
    }
    
    private Set a(Set set, final String s) {
        if (set == null) {
            set = new HashSet<String>();
        }
        set.add(s);
        return set;
    }
    
    private void a(final nd nd) {
        if (!this.b) {
            final String a = nd.a();
            this.l = this.a(this.l, a);
            if (nd.t()) {
                this.m = this.a(this.m, a);
            }
        }
    }
    
    public jn a() {
        return this.a;
    }
    
    protected void a(final jr jr) {
        final nd[] array = (nd[])this.g.values().toArray(new nd[this.g.size()]);
        this.g.clear();
        final int length = array.length;
        int i = 0;
    Label_0090_Outer:
        while (i < length) {
            nd a = array[i];
            final String a2 = a.a();
            while (true) {
                Label_0300: {
                    String s;
                    if (this.b) {
                        if (a.b()) {
                            s = jr.a(this.a, a.g(), a2);
                        }
                        else {
                            if (!a.d()) {
                                break Label_0300;
                            }
                            s = jr.a(this.a, a.i(), a2);
                        }
                    }
                    else if (a.c()) {
                        s = jr.b(this.a, a.h(), a2);
                    }
                    else if (a.e()) {
                        s = jr.a(this.a, a.m(), a2);
                    }
                    else if (a.d()) {
                        s = jr.a(this.a, a.i(), a2);
                    }
                    else {
                        if (!a.b()) {
                            break Label_0300;
                        }
                        s = jr.a(this.a, a.g(), a2);
                    }
                    if (!s.equals(a.a())) {
                        a = a.a(s);
                    }
                    final nd nd = this.g.get(s);
                    if (nd == null) {
                        this.g.put(s, a);
                    }
                    else {
                        nd.b(a);
                    }
                    ++i;
                    continue Label_0090_Outer;
                }
                String s = a2;
                continue;
            }
        }
    }
    
    protected void a(final Object o, final mq mq) {
        if (o != null) {
            if (this.n == null) {
                this.n = new LinkedHashMap();
            }
            if (this.n.put(o, mq) != null) {
                String name;
                if (o == null) {
                    name = "[null]";
                }
                else {
                    name = o.getClass().getName();
                }
                throw new IllegalArgumentException("Duplicate injectable value with id '" + String.valueOf(o) + "' (of type " + name + ")");
            }
        }
    }
    
    protected void a(final String s) {
        throw new IllegalArgumentException("Problem with definition of " + this.d + ": " + s);
    }
    
    protected nd b(final String s) {
        nd nd = this.g.get(s);
        if (nd == null) {
            nd = new nd(s);
            this.g.put(s, nd);
        }
        return nd;
    }
    
    public sh b() {
        return this.c;
    }
    
    public mn c() {
        return this.d;
    }
    
    public List d() {
        return new ArrayList(this.g.values());
    }
    
    public Map e() {
        return this.n;
    }
    
    public mr f() {
        if (this.k != null) {
            if (this.k.size() > 1) {
                this.a("Multiple value properties defined (" + this.k.get(0) + " vs " + this.k.get(1) + ")");
            }
            return this.k.get(0);
        }
        return null;
    }
    
    public mr g() {
        if (this.i != null) {
            if (this.i.size() > 1) {
                this.a("Multiple 'any-getters' defined (" + this.i.get(0) + " vs " + this.i.get(1) + ")");
            }
            return this.i.getFirst();
        }
        return null;
    }
    
    public mr h() {
        if (this.j != null) {
            if (this.j.size() > 1) {
                this.a("Multiple 'any-setters' defined (" + this.j.get(0) + " vs " + this.j.get(1) + ")");
            }
            return this.j.getFirst();
        }
        return null;
    }
    
    public Set i() {
        return this.l;
    }
    
    public Set j() {
        return this.m;
    }
    
    public nc k() {
        this.g.clear();
        this.m();
        this.o();
        this.n();
        this.p();
        this.q();
        this.r();
        final jr j = this.a.j();
        if (j != null) {
            this.a(j);
        }
        final Iterator<nd> iterator = this.g.values().iterator();
        while (iterator.hasNext()) {
            iterator.next().p();
        }
        final Iterator<nd> iterator2 = this.g.values().iterator();
        while (iterator2.hasNext()) {
            iterator2.next().a(this.b);
        }
        this.l();
        return this;
    }
    
    protected void l() {
        final iq a = this.a.a();
        final Boolean i = a.i(this.d);
        boolean b;
        if (i == null) {
            b = this.a.d();
        }
        else {
            b = i;
        }
        final String[] h = a.h(this.d);
        if (!b && this.h == null && h == null) {
            return;
        }
        final int size = this.g.size();
        Cloneable cloneable;
        if (b) {
            cloneable = new TreeMap<Object, Object>();
        }
        else {
            cloneable = new LinkedHashMap<Object, Object>(size + size);
        }
        for (final nd nd : this.g.values()) {
            ((Map<String, nd>)cloneable).put(nd.a(), nd);
        }
        final LinkedHashMap linkedHashMap = new LinkedHashMap<String, nd>(size + size);
        if (h != null) {
            final int length = h.length;
            int j = 0;
        Label_0277_Outer:
            while (j < length) {
                final String s = h[j];
                nd nd2 = ((Map<String, nd>)cloneable).get(s);
            Label_0277:
                while (true) {
                    if (nd2 == null) {
                        for (final nd nd3 : this.g.values()) {
                            if (s.equals(nd3.l())) {
                                final String a2 = nd3.a();
                                nd2 = nd3;
                                break Label_0277;
                            }
                        }
                    }
                    Label_0382: {
                        break Label_0382;
                        if (nd2 != null) {
                            final String a2;
                            linkedHashMap.put(a2, nd2);
                        }
                        ++j;
                        continue Label_0277_Outer;
                    }
                    final String a2 = s;
                    continue Label_0277;
                }
            }
        }
        if (this.h != null) {
            for (final nd nd4 : this.h) {
                linkedHashMap.put(nd4.a(), nd4);
            }
        }
        linkedHashMap.putAll((Map<?, ?>)cloneable);
        this.g.clear();
        this.g.putAll(linkedHashMap);
    }
    
    protected void m() {
        final iq f = this.f;
        for (final mp mp : this.d.l()) {
            final String b = mp.b();
            String s;
            if (f == null) {
                s = null;
            }
            else if (this.b) {
                s = f.b(mp);
            }
            else {
                s = f.c(mp);
            }
            String s2;
            if ("".equals(s)) {
                s2 = b;
            }
            else {
                s2 = s;
            }
            final boolean b2 = s2 != null;
            boolean a;
            if (!b2) {
                a = this.e.a(mp);
            }
            else {
                a = b2;
            }
            this.b(b).a(mp, s2, a, f != null && f.c((mq)mp));
        }
    }
    
    protected void n() {
        final iq f = this.f;
        if (f != null) {
            for (final mo mo : this.d.i()) {
                if (this.h == null) {
                    this.h = new LinkedList();
                }
                for (int f2 = mo.f(), i = 0; i < f2; ++i) {
                    final mt c = mo.c(i);
                    final String a = f.a(c);
                    if (a != null) {
                        final nd b = this.b(a);
                        b.a(c, a, true, false);
                        this.h.add(b);
                    }
                }
            }
            for (final mr mr : this.d.j()) {
                if (this.h == null) {
                    this.h = new LinkedList();
                }
                for (int f3 = mr.f(), j = 0; j < f3; ++j) {
                    final mt c2 = mr.c(j);
                    final String a2 = f.a(c2);
                    if (a2 != null) {
                        final nd b2 = this.b(a2);
                        b2.a(c2, a2, true, false);
                        this.h.add(b2);
                    }
                }
            }
        }
    }
    
    protected void o() {
        final iq f = this.f;
        for (final mr mr : this.d.k()) {
            final int f2 = mr.f();
            if (f2 == 0) {
                if (f != null) {
                    if (f.f(mr)) {
                        if (this.i == null) {
                            this.i = new LinkedList();
                        }
                        this.i.add(mr);
                        continue;
                    }
                    if (f.c(mr)) {
                        if (this.k == null) {
                            this.k = new LinkedList();
                        }
                        this.k.add(mr);
                        continue;
                    }
                }
                String b;
                if (f == null) {
                    b = null;
                }
                else {
                    b = f.b(mr);
                }
                String s;
                String s2;
                boolean b3;
                if (b == null) {
                    s = qx.a(mr, mr.b());
                    if (s == null) {
                        s = qx.b(mr, mr.b());
                        if (s == null) {
                            continue;
                        }
                        final boolean b2 = this.e.b(mr);
                        s2 = b;
                        b3 = b2;
                    }
                    else {
                        final boolean a = this.e.a(mr);
                        s2 = b;
                        b3 = a;
                    }
                }
                else {
                    String s3 = qx.a(mr);
                    if (s3 == null) {
                        s3 = mr.b();
                    }
                    if (b.length() == 0) {
                        b = s3;
                    }
                    s = s3;
                    s2 = b;
                    b3 = true;
                }
                this.b(s).a(mr, s2, b3, f != null && f.c((mq)mr));
            }
            else if (f2 == 1) {
                String d;
                if (f == null) {
                    d = null;
                }
                else {
                    d = f.d(mr);
                }
                String b4;
                String s4;
                boolean b5;
                if (d == null) {
                    b4 = qx.b(mr);
                    if (b4 == null) {
                        continue;
                    }
                    final boolean c = this.e.c(mr);
                    s4 = d;
                    b5 = c;
                }
                else {
                    String s5 = qx.b(mr);
                    if (s5 == null) {
                        s5 = mr.b();
                    }
                    if (d.length() == 0) {
                        d = s5;
                    }
                    b4 = s5;
                    s4 = d;
                    b5 = true;
                }
                this.b(b4).b(mr, s4, b5, f != null && f.c((mq)mr));
            }
            else {
                if (f2 != 2 || f == null || !f.e(mr)) {
                    continue;
                }
                if (this.j == null) {
                    this.j = new LinkedList();
                }
                this.j.add(mr);
            }
        }
    }
    
    protected void p() {
        final iq f = this.f;
        if (f != null) {
            for (final mp mp : this.d.l()) {
                this.a(f.d(mp), mp);
            }
            for (final mr mr : this.d.k()) {
                if (mr.f() == 1) {
                    this.a(f.d((mq)mr), mr);
                }
            }
        }
    }
    
    protected void q() {
        final Iterator<Map.Entry<K, nd>> iterator = this.g.entrySet().iterator();
        while (iterator.hasNext()) {
            final nd nd = iterator.next().getValue();
            if (!nd.r()) {
                iterator.remove();
            }
            else {
                if (nd.s()) {
                    this.a(nd);
                    if (!nd.q()) {
                        iterator.remove();
                        continue;
                    }
                    nd.n();
                }
                nd.o();
            }
        }
    }
    
    protected void r() {
        final Iterator<Map.Entry<K, nd>> iterator = this.g.entrySet().iterator();
        AbstractSequentialList<nd> list = null;
        while (iterator.hasNext()) {
            final nd nd = iterator.next().getValue();
            final String u = nd.u();
            if (u != null) {
                if (list == null) {
                    list = new LinkedList<nd>();
                }
                ((LinkedList<nd>)list).add(nd.a(u));
                iterator.remove();
            }
        }
        if (list != null) {
            for (final nd nd2 : list) {
                final String a = nd2.a();
                final nd nd3 = this.g.get(a);
                if (nd3 == null) {
                    this.g.put(a, nd2);
                }
                else {
                    nd3.b(nd2);
                }
            }
        }
    }
}
