// 
// Decompiled by Procyon v0.5.30
// 

package com.millennialmedia.android;

import android.view.animation.Animation;
import android.view.animation.AlphaAnimation;
import android.widget.ImageButton;
import android.view.KeyEvent;
import android.media.MediaPlayer;
import android.os.Bundle;
import android.os.Message;
import android.widget.Toast;
import android.os.PowerManager;
import android.view.View$OnClickListener;
import android.view.ViewGroup$LayoutParams;
import android.widget.RelativeLayout$LayoutParams;
import android.content.Context;
import android.widget.RelativeLayout;
import android.widget.ProgressBar;
import android.widget.Button;
import android.widget.VideoView;
import android.view.View;
import android.media.MediaPlayer$OnPreparedListener;
import android.media.MediaPlayer$OnErrorListener;
import android.media.MediaPlayer$OnCompletionListener;
import android.net.Uri;
import java.lang.ref.WeakReference;

class VideoPlayerActivity$VideoRedirectionListener extends HttpRedirection$RedirectionListenerImpl
{
    WeakReference activityRef;
    
    public VideoPlayerActivity$VideoRedirectionListener(final VideoPlayerActivity videoPlayerActivity) {
        if (videoPlayerActivity != null) {
            this.activityRef = new WeakReference((T)videoPlayerActivity);
            if (videoPlayerActivity.activity != null) {
                this.creatorAdImplInternalId = videoPlayerActivity.activity.creatorAdImplInternalId;
            }
        }
    }
    
    @Override
    public OverlaySettings getOverlaySettings() {
        final VideoPlayerActivity videoPlayerActivity = (VideoPlayerActivity)this.activityRef.get();
        if (videoPlayerActivity != null && videoPlayerActivity.lastOverlayOrientation != null) {
            final OverlaySettings overlaySettings = new OverlaySettings();
            overlaySettings.orientation = videoPlayerActivity.lastOverlayOrientation;
            return overlaySettings;
        }
        return null;
    }
    
    @Override
    public boolean isHandlingMMVideo(final Uri uri) {
        final VideoPlayerActivity videoPlayerActivity = (VideoPlayerActivity)this.activityRef.get();
        if (videoPlayerActivity != null) {
            videoPlayerActivity.runOnUiThread(new Runnable() {
                @Override
                public void run() {
                    videoPlayerActivity.enableButtons();
                }
            });
            if (uri != null && videoPlayerActivity.isActionable(uri)) {
                videoPlayerActivity.processVideoPlayerUri(uri.getHost());
                return true;
            }
        }
        return false;
    }
}
