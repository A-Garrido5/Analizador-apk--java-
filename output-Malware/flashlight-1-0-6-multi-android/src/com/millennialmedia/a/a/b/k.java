// 
// Decompiled by Procyon v0.5.30
// 

package com.millennialmedia.a.a.b;

final class k
{
    private p a;
    private int b;
    private int c;
    private int d;
    
    final p a() {
        final p a = this.a;
        if (a.a != null) {
            throw new IllegalStateException();
        }
        return a;
    }
    
    final void a(final int n) {
        this.b = -1 + 2 * Integer.highestOneBit(n) - n;
        this.d = 0;
        this.c = 0;
        this.a = null;
    }
    
    final void a(final p a) {
        a.c = null;
        a.a = null;
        a.b = null;
        a.i = 1;
        if (this.b > 0 && (0x1 & this.d) == 0x0) {
            ++this.d;
            --this.b;
            ++this.c;
        }
        a.a = this.a;
        this.a = a;
        ++this.d;
        if (this.b > 0 && (0x1 & this.d) == 0x0) {
            ++this.d;
            --this.b;
            ++this.c;
        }
        for (int n = 4; (this.d & n - 1) == n - 1; n *= 2) {
            if (this.c == 0) {
                final p a2 = this.a;
                final p a3 = a2.a;
                final p a4 = a3.a;
                a3.a = a4.a;
                this.a = a3;
                a3.b = a4;
                a3.c = a2;
                a3.i = 1 + a2.i;
                a4.a = a3;
                a2.a = a3;
            }
            else if (this.c == 1) {
                final p a5 = this.a;
                final p a6 = a5.a;
                this.a = a6;
                a6.c = a5;
                a6.i = 1 + a5.i;
                a5.a = a6;
                this.c = 0;
            }
            else if (this.c == 2) {
                this.c = 0;
            }
        }
    }
}
