// 
// Decompiled by Procyon v0.5.30
// 

package com.millennialmedia.a.a;

import java.io.StringWriter;
import java.io.Reader;
import java.io.StringReader;
import java.util.Iterator;
import java.io.IOException;
import java.io.EOFException;
import java.lang.reflect.Type;
import java.io.Writer;
import com.millennialmedia.a.a.b.a.j;
import com.millennialmedia.a.a.b.a.m;
import com.millennialmedia.a.a.b.a.n;
import java.math.BigInteger;
import java.math.BigDecimal;
import com.millennialmedia.a.a.d.b;
import com.millennialmedia.a.a.d.a;
import java.util.Collection;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Collections;
import com.millennialmedia.a.a.b.g;
import com.millennialmedia.a.a.b.f;
import java.util.List;
import java.util.Map;

public final class e
{
    final i a;
    final p b;
    private final ThreadLocal c;
    private final Map d;
    private final List e;
    private final f f;
    private final boolean g;
    private final boolean h;
    private final boolean i;
    private final boolean j;
    
    public e() {
        this(com.millennialmedia.a.a.b.g.a, com.millennialmedia.a.a.c.a, Collections.emptyMap(), r.a, Collections.emptyList());
    }
    
    private e(final g g, final d d, final Map map, final r r, final List list) {
        this.c = new ThreadLocal();
        this.d = Collections.synchronizedMap(new HashMap<Object, Object>());
        this.a = new i() {};
        this.b = new p() {};
        this.f = new f(map);
        this.g = false;
        this.i = false;
        this.h = true;
        this.j = false;
        final ArrayList<Object> list2 = new ArrayList<Object>();
        list2.add(com.millennialmedia.a.a.b.a.p.Q);
        list2.add(com.millennialmedia.a.a.b.a.i.a);
        list2.add(g);
        list2.addAll(list);
        list2.add(com.millennialmedia.a.a.b.a.p.x);
        list2.add(com.millennialmedia.a.a.b.a.p.m);
        list2.add(com.millennialmedia.a.a.b.a.p.g);
        list2.add(com.millennialmedia.a.a.b.a.p.i);
        list2.add(com.millennialmedia.a.a.b.a.p.k);
        final Class<Long> type = Long.TYPE;
        s n;
        if (r == r.a) {
            n = com.millennialmedia.a.a.b.a.p.n;
        }
        else {
            n = new s() {};
        }
        list2.add(com.millennialmedia.a.a.b.a.p.a(type, Long.class, n));
        list2.add(com.millennialmedia.a.a.b.a.p.a(Double.TYPE, Double.class, new s() {}));
        list2.add(com.millennialmedia.a.a.b.a.p.a(Float.TYPE, Float.class, new s() {}));
        list2.add(com.millennialmedia.a.a.b.a.p.r);
        list2.add(com.millennialmedia.a.a.b.a.p.t);
        list2.add(com.millennialmedia.a.a.b.a.p.z);
        list2.add(com.millennialmedia.a.a.b.a.p.B);
        list2.add(com.millennialmedia.a.a.b.a.p.a(BigDecimal.class, com.millennialmedia.a.a.b.a.p.v));
        list2.add(com.millennialmedia.a.a.b.a.p.a(BigInteger.class, com.millennialmedia.a.a.b.a.p.w));
        list2.add(com.millennialmedia.a.a.b.a.p.D);
        list2.add(com.millennialmedia.a.a.b.a.p.F);
        list2.add(com.millennialmedia.a.a.b.a.p.J);
        list2.add(com.millennialmedia.a.a.b.a.p.O);
        list2.add(com.millennialmedia.a.a.b.a.p.H);
        list2.add(com.millennialmedia.a.a.b.a.p.d);
        list2.add(com.millennialmedia.a.a.b.a.d.a);
        list2.add(com.millennialmedia.a.a.b.a.p.M);
        list2.add(com.millennialmedia.a.a.b.a.n.a);
        list2.add(m.a);
        list2.add(com.millennialmedia.a.a.b.a.p.K);
        list2.add(com.millennialmedia.a.a.b.a.a.a);
        list2.add(com.millennialmedia.a.a.b.a.p.R);
        list2.add(com.millennialmedia.a.a.b.a.p.b);
        list2.add(new com.millennialmedia.a.a.b.a.b(this.f));
        list2.add(new com.millennialmedia.a.a.b.a.g(this.f));
        list2.add(new j(this.f, d, g));
        this.e = Collections.unmodifiableList((List<?>)list2);
    }
    
    private com.millennialmedia.a.a.d.c a(final Writer writer) {
        if (this.i) {
            writer.write(")]}'\n");
        }
        final com.millennialmedia.a.a.d.c c = new com.millennialmedia.a.a.d.c(writer);
        if (this.j) {
            c.c("  ");
        }
        c.d(this.g);
        return c;
    }
    
    private Object a(final a a, final Type type) {
        boolean b = true;
        a.p();
        a.a(b);
        try {
            a.f();
            b = false;
            return this.a(com.millennialmedia.a.a.c.a.a(type)).a(a);
        }
        catch (EOFException ex) {
            if (b) {
                return null;
            }
            throw new q(ex);
        }
        catch (IllegalStateException ex3) {}
        catch (IOException ex4) {
            final IOException ex2;
            throw new q(ex2);
        }
    }
    
    public final s a(final com.millennialmedia.a.a.c.a a) {
        s a2 = this.d.get(a);
        if (a2 == null) {
            final Map<com.millennialmedia.a.a.c.a, com.millennialmedia.a.a.f> map = this.c.get();
            while (true) {
                Label_0231: {
                    if (map != null) {
                        break Label_0231;
                    }
                    final HashMap<Object, com.millennialmedia.a.a.f> hashMap = new HashMap<Object, com.millennialmedia.a.a.f>();
                    this.c.set(hashMap);
                    final Object o = hashMap;
                    final int n = 1;
                    a2 = ((Map<Object, com.millennialmedia.a.a.f>)o).get(a);
                    if (a2 != null) {
                        return a2;
                    }
                    try {
                        final com.millennialmedia.a.a.f f = new com.millennialmedia.a.a.f();
                        ((Map<com.millennialmedia.a.a.c.a, com.millennialmedia.a.a.f>)o).put(a, f);
                        final Iterator<t> iterator = (Iterator<t>)this.e.iterator();
                        while (iterator.hasNext()) {
                            a2 = iterator.next().a(this, a);
                            if (a2 != null) {
                                f.a(a2);
                                this.d.put(a, a2);
                                return a2;
                            }
                        }
                        throw new IllegalArgumentException("GSON cannot handle " + a);
                    }
                    finally {
                        ((Map<Object, com.millennialmedia.a.a.f>)o).remove(a);
                        if (n != 0) {
                            this.c.remove();
                        }
                    }
                }
                final Object o = map;
                final int n = 0;
                continue;
            }
        }
        return a2;
    }
    
    public final s a(final t t, final com.millennialmedia.a.a.c.a a) {
        final Iterator<t> iterator = (Iterator<t>)this.e.iterator();
        int n = 0;
        while (iterator.hasNext()) {
            final t t2 = iterator.next();
            if (n == 0) {
                if (t2 != t) {
                    continue;
                }
                n = 1;
            }
            else {
                final s a2 = t2.a(this, a);
                if (a2 != null) {
                    return a2;
                }
                continue;
            }
        }
        throw new IllegalArgumentException("GSON cannot serialize " + a);
    }
    
    public final s a(final Class clazz) {
        return this.a(com.millennialmedia.a.a.c.a.a(clazz));
    }
    
    public final Object a(final String s, final Class clazz) {
        Object a;
        if (s == null) {
            a = null;
        }
        else {
            final a a2 = new a(new StringReader(s));
            a = this.a(a2, clazz);
            if (a != null) {
                try {
                    if (a2.f() != com.millennialmedia.a.a.d.b.j) {
                        throw new k("JSON document was not fully consumed.");
                    }
                }
                catch (com.millennialmedia.a.a.d.d d) {
                    throw new q(d);
                }
                catch (IOException ex) {
                    throw new k(ex);
                }
            }
        }
        return com.millennialmedia.a.a.b.r.a(clazz).cast(a);
    }
    
    public final String a(final Object o) {
        if (o == null) {
            final l a = l.a;
            final StringWriter stringWriter = new StringWriter();
            try {
                final com.millennialmedia.a.a.d.c a2 = this.a(com.millennialmedia.a.a.b.s.a(stringWriter));
                final boolean g = a2.g();
                a2.b(true);
                final boolean h = a2.h();
                a2.c(this.h);
                final boolean i = a2.i();
                a2.d(this.g);
                try {
                    com.millennialmedia.a.a.b.s.a(a, a2);
                    a2.b(g);
                    a2.c(h);
                    a2.d(i);
                    return stringWriter.toString();
                }
                catch (IOException ex) {
                    throw new k(ex);
                }
                finally {
                    a2.b(g);
                    a2.c(h);
                    a2.d(i);
                }
            }
            catch (IOException ex2) {
                throw new RuntimeException(ex2);
            }
        }
        final Class<?> class1 = o.getClass();
        final StringWriter stringWriter2 = new StringWriter();
        try {
            final com.millennialmedia.a.a.d.c a3 = this.a(com.millennialmedia.a.a.b.s.a(stringWriter2));
            final s a4 = this.a(com.millennialmedia.a.a.c.a.a((Type)class1));
            final boolean g2 = a3.g();
            a3.b(true);
            final boolean h2 = a3.h();
            a3.c(this.h);
            final boolean j = a3.i();
            a3.d(this.g);
            try {
                a4.a(a3, o);
                a3.b(g2);
                a3.c(h2);
                a3.d(j);
                return stringWriter2.toString();
            }
            catch (IOException ex3) {
                throw new k(ex3);
            }
            finally {
                a3.b(g2);
                a3.c(h2);
                a3.d(j);
            }
        }
        catch (IOException ex4) {
            throw new k(ex4);
        }
    }
    
    @Override
    public final String toString() {
        return "{serializeNulls:" + this.g + "factories:" + this.e + ",instanceCreators:" + this.f + "}";
    }
}
