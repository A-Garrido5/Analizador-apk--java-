// 
// Decompiled by Procyon v0.5.30
// 

package com.inmobi.androidsdk.impl.net;

import java.util.Map;
import java.util.HashMap;
import com.inmobi.commons.internal.Log;
import android.webkit.WebSettings$PluginState;
import android.webkit.WebViewClient;
import android.content.Context;
import android.webkit.WebView;
import java.util.concurrent.atomic.AtomicBoolean;

public class WebviewLoader
{
    static boolean a;
    static AtomicBoolean b;
    private WebView c;
    
    static {
        WebviewLoader.a = false;
        WebviewLoader.b = null;
    }
    
    public WebviewLoader(final Context context) {
        this.c = null;
        RequestResponseManager.b.post((Runnable)new Runnable() {
            @Override
            public void run() {
                try {
                    WebviewLoader.this.c = new WebView(context);
                    WebviewLoader.b = new AtomicBoolean(false);
                    WebviewLoader.this.c.setWebViewClient((WebViewClient)new WebviewLoader$MyWebViewClient());
                    WebviewLoader.this.c.getSettings().setJavaScriptEnabled(true);
                    WebviewLoader.this.c.getSettings().setPluginState(WebSettings$PluginState.ON);
                    WebviewLoader.this.c.getSettings().setCacheMode(2);
                }
                catch (Exception ex) {
                    Log.internal("[InMobi]-[Network]-4.4.3", "Exception init webview", ex);
                }
            }
        });
    }
    
    public void deinit(final int n) {
        RequestResponseManager.b.postDelayed((Runnable)new Runnable() {
            @Override
            public void run() {
                try {
                    if (WebviewLoader.this.c != null) {
                        WebviewLoader.this.c.stopLoading();
                        WebviewLoader.this.c.destroy();
                        WebviewLoader.this.c = null;
                        WebviewLoader.b.set(false);
                    }
                }
                catch (Exception ex) {
                    Log.internal("[InMobi]-[Network]-4.4.3", "Exception deinit webview ", ex);
                }
            }
        }, (long)n);
    }
    
    public void loadInWebview(final String s, final HashMap hashMap) {
        RequestResponseManager.b.post((Runnable)new Runnable() {
            @Override
            public void run() {
                try {
                    WebviewLoader.b.set(true);
                    WebviewLoader.this.c.loadUrl(s, (Map)hashMap);
                }
                catch (Exception ex) {
                    Log.internal("[InMobi]-[Network]-4.4.3", "Exception load in webview", ex);
                }
            }
        });
    }
    
    public void stopLoading() {
        RequestResponseManager.b.post((Runnable)new Runnable() {
            @Override
            public void run() {
                try {
                    if (WebviewLoader.this.c != null) {
                        WebviewLoader.b.set(false);
                    }
                    WebviewLoader.this.c.stopLoading();
                }
                catch (Exception ex) {
                    Log.internal("[InMobi]-[Network]-4.4.3", "Exception stop loading", ex);
                }
            }
        });
    }
}
