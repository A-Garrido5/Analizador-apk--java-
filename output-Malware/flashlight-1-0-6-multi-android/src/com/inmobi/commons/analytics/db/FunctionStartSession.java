// 
// Decompiled by Procyon v0.5.30
// 

package com.inmobi.commons.analytics.db;

import com.inmobi.commons.analytics.util.AnalyticsUtils;
import com.inmobi.commons.analytics.util.SessionInfo;
import java.util.Map;
import android.content.Context;

public class FunctionStartSession extends AnalyticsFunctions
{
    private Context a;
    private String b;
    private Map c;
    
    public FunctionStartSession(final Context a, final String b, final Map c) {
        this.a = a;
        this.b = b;
        this.c = c;
    }
    
    private AnalyticsEvent a() {
        if (SessionInfo.getSessionId(this.a) == null) {
            SessionInfo.storeAppId(this.a, this.b);
            SessionInfo.storeSessionId(this.a);
            SessionInfo.storeFirstTime(this.a);
            final AnalyticsEvent analyticsEvent = new AnalyticsEvent("ss");
            if (this.c != null) {
                analyticsEvent.setEventAttributeMap(AnalyticsUtils.convertToJSON(this.c));
            }
            analyticsEvent.setEventSessionId(SessionInfo.getSessionId(this.a));
            analyticsEvent.setEventSessionTimeStamp(SessionInfo.getSessionTime(this.a));
            analyticsEvent.setEventTimeStamp(SessionInfo.getSessionTime(this.a));
            this.insertInDatabase(analyticsEvent);
            return analyticsEvent;
        }
        return null;
    }
    
    @Override
    public AnalyticsEvent processFunction() {
        return this.a();
    }
}
