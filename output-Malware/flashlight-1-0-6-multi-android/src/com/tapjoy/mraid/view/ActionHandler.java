// 
// Decompiled by Procyon v0.5.30
// 

package com.tapjoy.mraid.view;

import java.util.Iterator;
import java.util.Map;
import com.tapjoy.mraid.a.d;
import android.view.View;
import android.view.ViewGroup$LayoutParams;
import android.widget.RelativeLayout$LayoutParams;
import android.content.Context;
import com.tapjoy.mraid.controller.Abstract$Dimensions;
import com.tapjoy.mraid.controller.Abstract$PlayerProperties;
import android.os.Bundle;
import android.widget.RelativeLayout;
import java.util.HashMap;
import android.app.Activity;

public class ActionHandler extends Activity
{
    private HashMap a;
    private RelativeLayout b;
    
    public ActionHandler() {
        this.a = new HashMap();
    }
    
    private com.tapjoy.mraid.util.a a(final Bundle bundle, final a a) {
        final Abstract$PlayerProperties abstract$PlayerProperties = (Abstract$PlayerProperties)bundle.getParcelable("player_properties");
        final Abstract$Dimensions abstract$Dimensions = (Abstract$Dimensions)bundle.getParcelable("expand_dimensions");
        final com.tapjoy.mraid.util.a a2 = new com.tapjoy.mraid.util.a((Context)this);
        a2.a(abstract$PlayerProperties, bundle.getString("expand_url"));
        RelativeLayout$LayoutParams layoutParams;
        if (!abstract$PlayerProperties.e && abstract$PlayerProperties.g.equals("fullscreen")) {
            this.getWindow().setFlags(1024, 1024);
            this.getWindow().setFlags(16777216, 16777216);
            layoutParams = new RelativeLayout$LayoutParams(-1, -1);
            layoutParams.addRule(13);
        }
        else {
            layoutParams = new RelativeLayout$LayoutParams(abstract$Dimensions.c, abstract$Dimensions.d);
            layoutParams.topMargin = abstract$Dimensions.b;
            layoutParams.leftMargin = abstract$Dimensions.a;
        }
        a2.setLayoutParams((ViewGroup$LayoutParams)layoutParams);
        this.b.addView((View)a2);
        this.a.put(a, a2);
        a2.a(new d() {
            @Override
            public final void a() {
                ActionHandler.this.finish();
            }
            
            @Override
            public final void b() {
                ActionHandler.this.finish();
            }
        });
        return a2;
    }
    
    public void onCreate(final Bundle bundle) {
        super.onCreate(bundle);
        this.requestWindowFeature(1);
        final Bundle extras = this.getIntent().getExtras();
        (this.b = new RelativeLayout((Context)this)).setLayoutParams(new ViewGroup$LayoutParams(-1, -1));
        this.b.setBackgroundColor(-16777216);
        this.setContentView((View)this.b);
        final String string = extras.getString("action");
        if (string != null) {
            final a value = com.tapjoy.mraid.view.a.valueOf(string);
            switch (ActionHandler$2.a[value.ordinal()]) {
                case 1: {
                    this.a(extras, value).a();
                }
                case 2: {
                    this.a(extras, value).b();
                }
            }
        }
    }
    
    protected void onStop() {
        for (final Map.Entry<a, V> entry : this.a.entrySet()) {
            switch (ActionHandler$2.a[entry.getKey().ordinal()]) {
                default: {
                    continue;
                }
                case 1:
                case 2: {
                    ((com.tapjoy.mraid.util.a)entry.getValue()).c();
                    continue;
                }
            }
        }
        super.onStop();
    }
}
