// 
// Decompiled by Procyon v0.5.30
// 

package com.tapjoy.mraid.controller;

import android.util.Log;
import com.tapjoy.ab;
import android.os.Build$VERSION;
import android.content.Context;
import com.tapjoy.mraid.view.MraidView;
import android.annotation.TargetApi;

@TargetApi(14)
public final class f extends Abstract
{
    private a c;
    private b d;
    private c e;
    private e f;
    private d g;
    
    public f(final MraidView mraidView, final Context context) {
        super(mraidView, context);
        this.c = new a(mraidView, context);
        this.d = new b(mraidView, context);
        this.e = new c(mraidView, context);
        this.f = new e(mraidView, context);
        this.g = new d(mraidView, context);
        mraidView.addJavascriptInterface((Object)this.c, "MRAIDAssetsControllerBridge");
        mraidView.addJavascriptInterface((Object)this.d, "MRAIDDisplayControllerBridge");
        mraidView.addJavascriptInterface((Object)this.e, "MRAIDLocationControllerBridge");
        mraidView.addJavascriptInterface((Object)this.f, "MRAIDNetworkControllerBridge");
        mraidView.addJavascriptInterface((Object)this.g, "MRAIDSensorControllerBridge");
    }
    
    public final String a(final String s, final String s2) {
        return this.c.a(s, s2);
    }
    
    public final void a() {
        this.c.a();
    }
    
    public final void a(final float n) {
        int n2 = 1;
        final StringBuilder append = new StringBuilder("window.mraidview.fireChangeEvent({ state: 'default', network: '").append(this.f.a()).append("', size: ").append(this.d.c()).append(", placement: '").append(this.a.a()).append("', maxSize: ").append(this.d.d()).append(",expandProperties: ").append(this.d.d()).append(", screenSize: ").append(this.d.b()).append(", defaultPosition: { x:").append((int)(this.a.getLeft() / n)).append(", y: ").append((int)(this.a.getTop() / n)).append(", width: ").append((int)(this.a.getWidth() / n)).append(", height: ").append((int)(this.a.getHeight() / n)).append(" }, orientation:").append(this.d.a()).append(",");
        String s = "supports: [ 'level-1', 'level-2', 'screen', 'orientation', 'network'";
        int n3;
        if (this.e.a() && (this.b.checkCallingOrSelfPermission("android.permission.ACCESS_COARSE_LOCATION") == 0 || this.b.checkCallingOrSelfPermission("android.permission.ACCESS_FINE_LOCATION") == 0)) {
            n3 = n2;
        }
        else {
            n3 = 0;
        }
        if (n3 != 0) {
            s += ", 'location'";
        }
        int n4;
        if (this.b.checkCallingOrSelfPermission("android.permission.SEND_SMS") == 0) {
            n4 = n2;
        }
        else {
            n4 = 0;
        }
        if (n4 != 0) {
            s += ", 'sms'";
        }
        int n5;
        if (this.b.checkCallingOrSelfPermission("android.permission.CALL_PHONE") == 0) {
            n5 = n2;
        }
        else {
            n5 = 0;
        }
        if (n5 != 0) {
            s += ", 'phone'";
        }
        if (this.b.checkCallingOrSelfPermission("android.permission.WRITE_CALENDAR") != 0 || this.b.checkCallingOrSelfPermission("android.permission.READ_CALENDAR") != 0 || Build$VERSION.SDK_INT < 14) {
            n2 = 0;
        }
        if (n2 != 0) {
            s += ", 'calendar'";
        }
        final String string = s + ", 'video'" + ", 'audio'" + ", 'map'" + ", 'email' ]";
        ab.d("MRAID Utility", "getSupports: " + string);
        final String string2 = append.append(string).append(",viewable:true });").toString();
        Log.d("MRAID Utility", "init: injection: " + string2);
        this.a.a(string2);
        this.a.a("mraid.setState(\"" + this.a.i() + "\");");
        this.a.a("mraidview.fireReadyEvent();");
    }
    
    public final void a(final int n, final int n2) {
        this.d.a(n, n2);
    }
    
    public final void b() {
        try {
            final a c = this.c;
            com.tapjoy.mraid.controller.a.b();
            this.d.e();
            this.e.c();
            this.f.c();
            this.g.b();
        }
        catch (Exception ex) {}
    }
}
