// 
// Decompiled by Procyon v0.5.30
// 

package com.tapjoy.mraid.controller;

import com.tapjoy.ab;
import android.location.Location;
import android.content.Context;
import com.tapjoy.mraid.view.MraidView;
import com.tapjoy.mraid.a.b;
import android.location.LocationManager;

public final class c extends Abstract
{
    final int c;
    private LocationManager d;
    private boolean e;
    private b f;
    private b g;
    private int h;
    private boolean i;
    
    public c(final MraidView mraidView, final Context context) {
        super(mraidView, context);
        this.e = false;
        this.c = 1000;
        this.i = false;
        try {
            this.d = (LocationManager)context.getSystemService("location");
            if (this.d.getProvider("gps") != null) {
                this.f = new b(context, this, "gps");
            }
            if (this.d.getProvider("network") != null) {
                this.g = new b(context, this, "network");
            }
            this.e = true;
        }
        catch (SecurityException ex) {}
    }
    
    public final void a(final Location location) {
        final String string = "window.mraidview.fireChangeEvent({ location: " + ("{ lat: " + location.getLatitude() + ", lon: " + location.getLongitude() + ", acc: " + location.getAccuracy() + "}") + "})";
        ab.d("MRAID Location", string);
        this.a.a(string);
    }
    
    public final boolean a() {
        return this.i;
    }
    
    public final void b() {
        ab.b("MRAID Location", "Location can't be determined");
        this.a.a("window.mraidview.fireErrorEvent(\"Location cannot be identified\", \"OrmmaLocationController\")");
    }
    
    public final void c() {
        this.h = 0;
        while (true) {
            try {
                this.f.a();
                try {
                    this.g.a();
                }
                catch (Exception ex) {}
            }
            catch (Exception ex2) {
                continue;
            }
            break;
        }
    }
}
