import com.nuance.nmdp.speechkit.util.pdx.PdxValue$Sequence;
import com.nuance.nmdp.speechkit.util.pdx.PdxValue$Dictionary;
import java.util.List;
import com.nuance.nmdp.speechkit.recognitionresult.b;

// 
// Decompiled by Procyon v0.5.30
// 

public final class go
{
    private gi a;
    private dn b;
    private ch c;
    private ci d;
    private ci e;
    private am f;
    private am g;
    private final dp h;
    private gm i;
    private String j;
    private boolean k;
    private final Object l;
    
    public go(final gm i) {
        this.c = null;
        this.d = null;
        this.e = null;
        this.i = i;
        this.a = null;
        this.h = new dp() {
            @Override
            public final void a() {
                com.nuance.nmdp.speechkit.recognitionresult.b.a(go.this, "Shutdown Complte");
            }
            
            @Override
            public final void a(final String s) {
                synchronized (go.this.l) {
                    com.nuance.nmdp.speechkit.recognitionresult.b.a(go.this, "Connected with session ID " + s);
                    go.this.j = s;
                }
            }
            
            @Override
            public final void a(final short n) {
                com.nuance.nmdp.speechkit.recognitionresult.b.a(go.this, "Disconnected reasoncode [" + n + "]");
            }
            
            @Override
            public final void b(final short n) {
                com.nuance.nmdp.speechkit.recognitionresult.b.b(go.this, "Connection failed reasonCode [" + n + "]");
            }
        };
        this.j = null;
        this.k = true;
        this.l = new Object();
        this.f = this.i.r();
        this.g = this.i.s();
        this.b = this.e();
        if (this.b == null) {
            this.k = false;
            this.i = null;
        }
        else {
            this.c = this.b.a();
            if (this.c != null) {
                try {
                    final ck c = this.c.c("SpeechKit");
                    c.a("Version", "1.6.0.0B06");
                    c.a("DnsAddress", this.i.d());
                    this.d = c.a();
                    final ck a = this.d.a("SpeechKit App");
                    a.a("Version", this.i.e());
                    this.e = a.a();
                }
                catch (cg cg) {
                    com.nuance.nmdp.speechkit.recognitionresult.b.b(this, "Application Session is already open");
                }
                catch (cj cj) {
                    com.nuance.nmdp.speechkit.recognitionresult.b.b(this, "Session event already committed");
                }
            }
        }
    }
    
    static /* synthetic */ void a(final go go) {
        b.b(go, "Restarting NMSP manager");
        go.f = go.i.r();
        go.g = go.i.s();
        go.a = null;
        go.b.f_();
        go.b = go.e();
        if (go.b == null) {
            go.i = null;
            go.k = false;
        }
    }
    
    static /* synthetic */ void a(final go go, final gi gi) {
        if (gi == go.a) {
            go.a = null;
        }
    }
    
    private dn e() {
        try {
            final short n = (short)this.i.f();
            final String d = this.i.d();
            final String t = this.i.t();
            final boolean h = this.i.h();
            final z z = new z();
            z.a(new df("Android_Context", this.i.a(), dg.a));
            if (t != null) {
                z.a(new df("SocketConnectionSetting", t.getBytes(), dg.a));
            }
            if (h) {
                z.a(new df("SSL_Socket_Enable", "TRUE".getBytes(), dg.a));
            }
            z.a(new df("Calllog_Disable", "TRUE".getBytes(), dg.a));
            return do.a(d, n, this.i.b(), this.i.c(), this.i.p(), this.g, this.f, "calllog.data", z.c(), this.h);
        }
        catch (Throwable t2) {
            com.nuance.nmdp.speechkit.recognitionresult.b.a(this, "Unable to create NMSP manager", t2);
            return null;
        }
    }
    
    private void f() {
        final am r = this.i.r();
        final am s = this.i.s();
        if (this.f != r || this.g != s) {
            com.nuance.nmdp.speechkit.recognitionresult.b.b(this, "Supported codecs changed, restarting NMSP manager");
            this.a = null;
            this.f = r;
            this.g = s;
            this.b.f_();
            this.b = this.e();
            if (this.b == null) {
                this.i = null;
                this.k = false;
            }
        }
    }
    
    public final gi a(final gj gj) {
        if (this.k && this.a == null) {
            this.f();
            return this.a = new gx(this.b, this.i, new gj() {
                @Override
                public final void a(final gi gi) {
                    go.a(go.this, gi);
                    gj.a(gi);
                }
                
                @Override
                public final void a(final gi gi, final int n, final String s, final String s2) {
                    gj.a(gi, n, s, s2);
                    if (n == 1) {
                        go.a(go.this);
                    }
                }
            });
        }
        return null;
    }
    
    public final gi a(final String s, final String s2, final String s3, final boolean b, final r r) {
        if (!this.k) {
            return null;
        }
        if (this.a != null) {
            this.a.p();
        }
        this.f();
        final dn b2 = this.b;
        final gm i = this.i;
        final am f = this.f;
        return this.a = new v(b2, i, s, s2, s3, b, new r() {
            @Override
            public final void a(final gi gi) {
                go.a(go.this, gi);
                r.a(gi);
            }
            
            @Override
            public final void a(final gi gi, final int n, final String s, final String s2) {
                r.a(gi, n, s, s2);
                if (n == 1) {
                    go.a(go.this);
                }
            }
            
            @Override
            public final void b(final gi gi) {
                r.b(gi);
            }
        });
    }
    
    public final gi a(final String s, final List list, final aj aj, final gj gj) {
        if (!this.k) {
            return null;
        }
        if (this.a != null) {
            this.a.p();
        }
        this.f();
        return this.a = new gr(this.b, this.i, s, list, aj, new gj() {
            @Override
            public final void a(final gi gi) {
                go.a(go.this, gi);
                gj.a(gi);
            }
            
            @Override
            public final void a(final gi gi, final int n, final String s, final String s2) {
                gj.a(gi, n, s, s2);
                if (n == 1) {
                    go.a(go.this);
                }
            }
        });
    }
    
    public final gi a(final List list, final String s, final aj aj, final gj gj) {
        if (!this.k) {
            return null;
        }
        if (this.a != null) {
            this.a.p();
        }
        this.f();
        return this.a = new gw(this.b, this.i, list, s, aj, new gj() {
            @Override
            public final void a(final gi gi) {
                go.a(go.this, gi);
                gj.a(gi);
            }
            
            @Override
            public final void a(final gi gi, final int n, final String s, final String s2) {
                gj.a(gi, n, s, s2);
                if (n == 1) {
                    go.a(go.this);
                }
            }
        });
    }
    
    public final hb a(final String s, final String s2, final PdxValue$Dictionary pdxValue$Dictionary, final aj aj, final d d, final b b) {
        if (!this.k) {
            return null;
        }
        if (this.a != null) {
            this.a.p();
        }
        this.f();
        return (hb)(this.a = new o(this.b, this.i, s, s2, pdxValue$Dictionary, aj, d, new b() {
            @Override
            public final void a(final gi gi) {
                go.a(go.this, gi);
                b.a(gi);
            }
            
            @Override
            public final void a(final gi gi, final int n, final String s, final String s2) {
                b.a(gi, n, s, s2);
                if (n == 1) {
                    go.a(go.this);
                }
            }
            
            @Override
            public final void b(final gi gi) {
                b.b(gi);
            }
            
            @Override
            public final void c(final gi gi) {
                b.c(gi);
            }
            
            @Override
            public final void d(final gi gi) {
                b.d(gi);
            }
        }));
    }
    
    public final hb a(final String s, final boolean b, final boolean b2, final String s2, final ae ae, final ae ae2, final ae ae3, final ae ae4, final aj aj, final d d, final b b3) {
        if (!this.k) {
            return null;
        }
        if (this.a != null) {
            this.a.p();
        }
        this.f();
        return (hb)(this.a = new n(this.b, this.i, s, b, b2, s2, null, ae, ae2, ae3, ae4, aj, d, new b() {
            @Override
            public final void a(final gi gi) {
                go.a(go.this, gi);
                b3.a(gi);
            }
            
            @Override
            public final void a(final gi gi, final int n, final String s, final String s2) {
                b3.a(gi, n, s, s2);
                if (n == 1) {
                    go.a(go.this);
                }
            }
            
            @Override
            public final void b(final gi gi) {
                b3.b(gi);
            }
            
            @Override
            public final void c(final gi gi) {
                b3.c(gi);
            }
            
            @Override
            public final void d(final gi gi) {
                b3.d(gi);
            }
        }));
    }
    
    public final hb a(final String s, final boolean b, final boolean b2, final String s2, final PdxValue$Sequence pdxValue$Sequence, final ae ae, final ae ae2, final ae ae3, final ae ae4, final aj aj, final d d, final b b3) {
        if (!this.k) {
            return null;
        }
        if (this.a != null) {
            this.a.p();
        }
        this.f();
        return (hb)(this.a = new n(this.b, this.i, s, b, b2, s2, pdxValue$Sequence, ae, ae2, ae3, ae4, aj, d, new b() {
            @Override
            public final void a(final gi gi) {
                go.a(go.this, gi);
                b3.a(gi);
            }
            
            @Override
            public final void a(final gi gi, final int n, final String s, final String s2) {
                b3.a(gi, n, s, s2);
                if (n == 1) {
                    go.a(go.this);
                }
            }
            
            @Override
            public final void b(final gi gi) {
                b3.b(gi);
            }
            
            @Override
            public final void c(final gi gi) {
                b3.c(gi);
            }
            
            @Override
            public final void d(final gi gi) {
                b3.d(gi);
            }
        }));
    }
    
    public final hb a(final String s, final boolean b, final boolean b2, final String s2, final String s3, final PdxValue$Dictionary pdxValue$Dictionary, final ae ae, final ae ae2, final ae ae3, final ae ae4, final aj aj, final d d, final b b3) {
        if (!this.k) {
            return null;
        }
        if (this.a != null) {
            this.a.p();
        }
        this.f();
        return (hb)(this.a = new m(this.b, this.i, s, b, b2, s2, s3, pdxValue$Dictionary, ae, ae2, ae3, ae4, aj, d, new b() {
            @Override
            public final void a(final gi gi) {
                go.a(go.this, gi);
                b3.a(gi);
            }
            
            @Override
            public final void a(final gi gi, final int n, final String s, final String s2) {
                b3.a(gi, n, s, s2);
                if (n == 1) {
                    go.a(go.this);
                }
            }
            
            @Override
            public final void b(final gi gi) {
                b3.b(gi);
            }
            
            @Override
            public final void c(final gi gi) {
                b3.c(gi);
            }
            
            @Override
            public final void d(final gi gi) {
                b3.d(gi);
            }
        }));
    }
    
    public final void a() {
        this.k = false;
        if (this.a != null) {
            this.a.p();
            this.a = null;
        }
        if (this.b != null) {
            this.b.f_();
            this.b = null;
        }
        this.i = null;
    }
    
    public final void a(final String s, final String s2) {
        if (this.e != null) {
            final ck a = this.e.a("SK App Log");
            try {
                a.a(s, s2);
                synchronized (this.l) {
                    if (this.j != null) {
                        a.a("SessionId", this.j);
                    }
                    // monitorexit(this.l)
                    a.a();
                    return;
                }
            }
            catch (cj cj) {
                com.nuance.nmdp.speechkit.recognitionresult.b.b(this, "Application Session is already committed");
                return;
            }
        }
        com.nuance.nmdp.speechkit.recognitionresult.b.b(this, "Application log attempt is ignored. Call logging is not active.");
    }
    
    public final boolean b() {
        return this.k;
    }
    
    public final String c() {
        synchronized (this.l) {
            return this.j;
        }
    }
    
    public final void d() {
        if (this.a != null) {
            this.a.p();
            this.a = null;
        }
    }
}
