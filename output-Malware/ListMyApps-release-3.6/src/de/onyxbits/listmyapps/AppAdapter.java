// 
// Decompiled by Procyon v0.5.30
// 

package de.onyxbits.listmyapps;

import android.view.View$OnClickListener;
import android.widget.CheckBox;
import android.content.pm.ApplicationInfo;
import android.widget.ImageView;
import android.widget.TextView;
import android.view.LayoutInflater;
import android.view.ViewGroup;
import android.view.View;
import java.util.List;
import android.content.Context;
import android.widget.ArrayAdapter;

public class AppAdapter extends ArrayAdapter<SortablePackageInfo>
{
    private int layout;
    
    public AppAdapter(final Context context, final int n, final List<SortablePackageInfo> list, final int layout) {
        super(context, n, (List)list);
        this.layout = layout;
    }
    
    public View getView(final int n, final View view, final ViewGroup viewGroup) {
        View inflate = view;
        if (inflate == null) {
            inflate = ((LayoutInflater)this.getContext().getSystemService("layout_inflater")).inflate(this.layout, (ViewGroup)null);
            final ViewHolder tag = new ViewHolder();
            tag.appName = (TextView)inflate.findViewById(2131034130);
            tag.appPackage = (TextView)inflate.findViewById(2131034132);
            tag.appIcon = (ImageView)inflate.findViewById(2131034129);
            tag.comment = (TextView)inflate.findViewById(2131034133);
            tag.tags = (TextView)inflate.findViewById(2131034113);
            inflate.setTag((Object)tag);
        }
        final SortablePackageInfo onClickListener = (SortablePackageInfo)this.getItem(n);
        final ViewHolder viewHolder = (ViewHolder)inflate.getTag();
        viewHolder.appName.setText((CharSequence)onClickListener.displayName);
        viewHolder.appPackage.setText((CharSequence)onClickListener.packageName);
        new IconLoaderTask(this.getContext().getPackageManager(), viewHolder.appIcon).execute((Object[])new ApplicationInfo[] { onClickListener.appInfo });
        switch (this.layout) {
            default: {
                return inflate;
            }
            case 2130903045: {
                final CheckBox checkBox = (CheckBox)inflate.findViewById(2131034131);
                checkBox.setChecked(onClickListener.selected);
                checkBox.setOnClickListener((View$OnClickListener)onClickListener);
                return inflate;
            }
            case 2130903046: {
                final String noNull = MainActivity.noNull(onClickListener.tags);
                if (noNull.length() > 0) {
                    viewHolder.tags.setText((CharSequence)noNull);
                    viewHolder.tags.setVisibility(0);
                }
                else {
                    viewHolder.tags.setVisibility(8);
                }
                final String noNull2 = MainActivity.noNull(onClickListener.comment);
                if (noNull2.length() > 0) {
                    viewHolder.comment.setText((CharSequence)noNull2);
                    viewHolder.comment.setVisibility(0);
                    return inflate;
                }
                viewHolder.comment.setVisibility(8);
                return inflate;
            }
        }
    }
}
