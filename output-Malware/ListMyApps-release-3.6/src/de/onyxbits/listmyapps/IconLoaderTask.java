// 
// Decompiled by Procyon v0.5.30
// 

package de.onyxbits.listmyapps;

import android.content.pm.PackageManager;
import android.widget.ImageView;
import java.lang.ref.WeakReference;
import android.graphics.drawable.Drawable;
import android.content.pm.ApplicationInfo;
import android.os.AsyncTask;

class IconLoaderTask extends AsyncTask<ApplicationInfo, Void, Drawable>
{
    private final WeakReference<ImageView> imageViewReference;
    private PackageManager packageManager;
    
    public IconLoaderTask(final PackageManager packageManager, final ImageView imageView) {
        this.imageViewReference = new WeakReference<ImageView>(imageView);
        this.packageManager = packageManager;
    }
    
    protected Drawable doInBackground(final ApplicationInfo... array) {
        return array[0].loadIcon(this.packageManager);
    }
    
    protected void onPostExecute(final Drawable imageDrawable) {
        if (this.imageViewReference != null) {
            final ImageView imageView = this.imageViewReference.get();
            if (imageView != null && imageDrawable != null) {
                imageView.setImageDrawable(imageDrawable);
            }
        }
    }
}
