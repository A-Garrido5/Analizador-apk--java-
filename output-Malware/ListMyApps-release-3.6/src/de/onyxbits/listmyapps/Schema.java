// 
// Decompiled by Procyon v0.5.30
// 

package de.onyxbits.listmyapps;

import android.content.ContentValues;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteDatabase$CursorFactory;
import android.content.Context;
import android.database.sqlite.SQLiteOpenHelper;

public class Schema extends SQLiteOpenHelper
{
    public static final String COLUMN_CATEGORY = "category";
    public static final String COLUMN_COMMENT = "comment";
    public static final String COLUMN_FOOTER = "footer";
    public static final String COLUMN_HEADER = "header";
    public static final String COLUMN_ID = "_id";
    public static final String COLUMN_ITEM = "item";
    public static final String COLUMN_PACKID = "packageid";
    public static final String COLUMN_RATING = "rating";
    public static final String COLUMN_SELECTED = "selected";
    public static final String COLUMN_SLOTID = "slotid";
    public static final String COLUMN_TAGS = "tags";
    public static final String COLUMN_TNAME = "templatename";
    private static final String DATABASE_NAME = "lma.db";
    private static final int DATABASE_VERSION = 2;
    public static final String TABLE_ANOTATIONS = "annotations";
    public static final String TABLE_SELECTION = "selections";
    public static final String TABLE_TEMPLATES = "templates";
    private Context context;
    
    public Schema(final Context context) {
        super(context, "lma.db", (SQLiteDatabase$CursorFactory)null, 2);
        this.context = context;
    }
    
    private void v1(final SQLiteDatabase sqLiteDatabase) {
        sqLiteDatabase.execSQL("create table templates(_id integer primary key autoincrement, templatename text not null, header text not null, footer text not null, item text not null); ");
        sqLiteDatabase.execSQL("create table annotations(packageid text not null, comment text not null, selected integer, rating integer,category integer);");
        sqLiteDatabase.execSQL("create table selections(packageid text not null, slotid integer, selected integer);");
        final ContentValues contentValues = new ContentValues();
        final String[] stringArray = this.context.getResources().getStringArray(2131165186);
        final String[] stringArray2 = this.context.getResources().getStringArray(2131165187);
        final String[] stringArray3 = this.context.getResources().getStringArray(2131165188);
        final String[] stringArray4 = this.context.getResources().getStringArray(2131165189);
        for (int i = 0; i < stringArray3.length; ++i) {
            contentValues.put("templatename", stringArray[i]);
            contentValues.put("header", stringArray2[i]);
            contentValues.put("item", stringArray3[i]);
            contentValues.put("footer", stringArray4[i]);
            sqLiteDatabase.insert("templates", (String)null, contentValues);
            contentValues.clear();
        }
    }
    
    private void v2(final SQLiteDatabase sqLiteDatabase) {
        sqLiteDatabase.execSQL("alter table annotations ADD COLUMN tags text;");
    }
    
    public void onCreate(final SQLiteDatabase sqLiteDatabase) {
        this.onUpgrade(sqLiteDatabase, 0, 1);
    }
    
    public void onUpgrade(final SQLiteDatabase sqLiteDatabase, final int n, final int n2) {
        switch (n + 1) {
            default: {}
            case 1: {
                this.v1(sqLiteDatabase);
            }
            case 2: {
                this.v2(sqLiteDatabase);
            }
        }
    }
}
