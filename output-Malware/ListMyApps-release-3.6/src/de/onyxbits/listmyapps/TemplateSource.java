// 
// Decompiled by Procyon v0.5.30
// 

package de.onyxbits.listmyapps;

import android.database.SQLException;
import java.util.ArrayList;
import java.util.List;
import android.content.ContentValues;
import android.database.Cursor;
import android.content.Context;
import android.database.sqlite.SQLiteDatabase;

public class TemplateSource
{
    private static final String[] all;
    protected SQLiteDatabase database;
    private Schema schema;
    
    static {
        all = new String[] { "_id", "templatename", "header", "item", "footer" };
    }
    
    public TemplateSource(final Context context) {
        this.schema = new Schema(context);
    }
    
    public void add(final TemplateData templateData) {
    }
    
    public void delete(final long n) {
        this.database.delete("templates", "_id=" + n, (String[])null);
    }
    
    public TemplateData get(final long n) {
        final Cursor query = this.database.query("templates", TemplateSource.all, "_id=" + n, (String[])null, (String)null, (String)null, (String)null);
        query.moveToFirst();
        new TemplateData();
        final TemplateData templateData = new TemplateData();
        templateData.id = query.getLong(0);
        templateData.formatName = query.getString(1);
        templateData.header = query.getString(2);
        templateData.item = query.getString(3);
        templateData.footer = query.getString(4);
        return templateData;
    }
    
    public void insertOrUpdate(final TemplateData templateData) {
        final ContentValues contentValues = new ContentValues();
        contentValues.put("templatename", templateData.formatName);
        contentValues.put("header", templateData.header);
        contentValues.put("item", templateData.item);
        contentValues.put("footer", templateData.footer);
        if (this.database.update("templates", contentValues, "_id=" + templateData.id, (String[])null) != 1) {
            this.database.insert("templates", (String)null, contentValues);
        }
    }
    
    public List<TemplateData> list() {
        final ArrayList<TemplateData> list = new ArrayList<TemplateData>();
        final Cursor query = this.database.query("templates", new String[] { "_id", "templatename", "header", "item", "footer" }, (String)null, (String[])null, (String)null, (String)null, (String)null);
        query.moveToFirst();
        while (!query.isAfterLast()) {
            final TemplateData templateData = new TemplateData();
            templateData.id = query.getLong(0);
            templateData.formatName = query.getString(1);
            templateData.header = query.getString(2);
            templateData.item = query.getString(3);
            templateData.footer = query.getString(4);
            list.add(templateData);
            query.moveToNext();
        }
        query.close();
        return list;
    }
    
    public void open() throws SQLException {
        this.database = this.schema.getWritableDatabase();
    }
    
    public void remove(final long n) {
    }
}
